(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();var Mh={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function UT(){if(py)return Bl;py=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:f}}return Bl.Fragment=e,Bl.jsx=i,Bl.jsxs=i,Bl}var yy;function PT(){return yy||(yy=1,Mh.exports=UT()),Mh.exports}var Bt=PT(),Nh={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function LT(){if(_y)return Tt;_y=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function O(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,$={};function Z(C,K,nt){this.props=C,this.context=K,this.refs=$,this.updater=nt||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ot(){}ot.prototype=Z.prototype;function rt(C,K,nt){this.props=C,this.context=K,this.refs=$,this.updater=nt||j}var ct=rt.prototype=new ot;ct.constructor=rt,H(ct,Z.prototype),ct.isPureReactComponent=!0;var It=Array.isArray,Et={H:null,A:null,T:null,S:null,V:null},Pt=Object.prototype.hasOwnProperty;function M(C,K,nt,W,ut,bt){return nt=bt.ref,{$$typeof:a,type:C,key:K,ref:nt!==void 0?nt:null,props:bt}}function S(C,K){return M(C.type,K,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function V(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return K[nt]})}var N=/\/+/g;function U(C,K){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):K.toString(36)}function w(){}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,K,nt,W,ut){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var yt=!1;if(C===null)yt=!0;else switch(bt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(C.$$typeof){case a:case e:yt=!0;break;case A:return yt=C._init,ie(yt(C._payload),K,nt,W,ut)}}if(yt)return ut=ut(C),yt=W===""?"."+U(C,0):W,It(ut)?(nt="",yt!=null&&(nt=yt.replace(N,"$&/")+"/"),ie(ut,K,nt,"",function(Pn){return Pn})):ut!=null&&(R(ut)&&(ut=S(ut,nt+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(N,"$&/")+"/")+yt)),K.push(ut)),1;yt=0;var we=W===""?".":W+":";if(It(C))for(var $t=0;$t<C.length;$t++)W=C[$t],bt=we+U(W,$t),yt+=ie(W,K,nt,bt,ut);else if($t=O(C),typeof $t=="function")for(C=$t.call(C),$t=0;!(W=C.next()).done;)W=W.value,bt=we+U(W,$t++),yt+=ie(W,K,nt,bt,ut);else if(bt==="object"){if(typeof C.then=="function")return ie(Me(C),K,nt,W,ut);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return yt}function G(C,K,nt){if(C==null)return C;var W=[],ut=0;return ie(C,W,"","",function(bt){return K.call(nt,bt,ut++)}),W}function et(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return Tt.Children={map:G,forEach:function(C,K,nt){G(C,function(){K.apply(this,arguments)},nt)},count:function(C){var K=0;return G(C,function(){K++}),K},toArray:function(C){return G(C,function(K){return K})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Tt.Component=Z,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=rt,Tt.StrictMode=s,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Et.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cloneElement=function(C,K,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=H({},C.props),ut=C.key,bt=void 0;if(K!=null)for(yt in K.ref!==void 0&&(bt=void 0),K.key!==void 0&&(ut=""+K.key),K)!Pt.call(K,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&K.ref===void 0||(W[yt]=K[yt]);var yt=arguments.length-2;if(yt===1)W.children=nt;else if(1<yt){for(var we=Array(yt),$t=0;$t<yt;$t++)we[$t]=arguments[$t+2];W.children=we}return M(C.type,ut,void 0,void 0,bt,W)},Tt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},Tt.createElement=function(C,K,nt){var W,ut={},bt=null;if(K!=null)for(W in K.key!==void 0&&(bt=""+K.key),K)Pt.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ut[W]=K[W]);var yt=arguments.length-2;if(yt===1)ut.children=nt;else if(1<yt){for(var we=Array(yt),$t=0;$t<yt;$t++)we[$t]=arguments[$t+2];ut.children=we}if(C&&C.defaultProps)for(W in yt=C.defaultProps,yt)ut[W]===void 0&&(ut[W]=yt[W]);return M(C,bt,void 0,void 0,null,ut)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:g,render:C}},Tt.isValidElement=R,Tt.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},Tt.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},Tt.startTransition=function(C){var K=Et.T,nt={};Et.T=nt;try{var W=C(),ut=Et.S;ut!==null&&ut(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Lt,lt)}catch(bt){lt(bt)}finally{Et.T=K}},Tt.unstable_useCacheRefresh=function(){return Et.H.useCacheRefresh()},Tt.use=function(C){return Et.H.use(C)},Tt.useActionState=function(C,K,nt){return Et.H.useActionState(C,K,nt)},Tt.useCallback=function(C,K){return Et.H.useCallback(C,K)},Tt.useContext=function(C){return Et.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,K){return Et.H.useDeferredValue(C,K)},Tt.useEffect=function(C,K,nt){var W=Et.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,K)},Tt.useId=function(){return Et.H.useId()},Tt.useImperativeHandle=function(C,K,nt){return Et.H.useImperativeHandle(C,K,nt)},Tt.useInsertionEffect=function(C,K){return Et.H.useInsertionEffect(C,K)},Tt.useLayoutEffect=function(C,K){return Et.H.useLayoutEffect(C,K)},Tt.useMemo=function(C,K){return Et.H.useMemo(C,K)},Tt.useOptimistic=function(C,K){return Et.H.useOptimistic(C,K)},Tt.useReducer=function(C,K,nt){return Et.H.useReducer(C,K,nt)},Tt.useRef=function(C){return Et.H.useRef(C)},Tt.useState=function(C){return Et.H.useState(C)},Tt.useSyncExternalStore=function(C,K,nt){return Et.H.useSyncExternalStore(C,K,nt)},Tt.useTransition=function(){return Et.H.useTransition()},Tt.version="19.1.0",Tt}var vy;function _d(){return vy||(vy=1,Nh.exports=LT()),Nh.exports}var da=_d(),xh={exports:{}},ql={},Uh={exports:{}},Ph={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function zT(){return Ey||(Ey=1,function(a){function e(G,et){var lt=G.length;G.push(et);t:for(;0<lt;){var Lt=lt-1>>>1,C=G[Lt];if(0<o(C,et))G[Lt]=et,G[lt]=C,lt=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var et=G[0],lt=G.pop();if(lt!==et){G[0]=lt;t:for(var Lt=0,C=G.length,K=C>>>1;Lt<K;){var nt=2*(Lt+1)-1,W=G[nt],ut=nt+1,bt=G[ut];if(0>o(W,lt))ut<C&&0>o(bt,W)?(G[Lt]=bt,G[ut]=lt,Lt=ut):(G[Lt]=W,G[nt]=lt,Lt=nt);else if(ut<C&&0>o(bt,lt))G[Lt]=bt,G[ut]=lt,Lt=ut;else break t}}return et}function o(G,et){var lt=G.sortIndex-et.sortIndex;return lt!==0?lt:G.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,D=null,O=3,j=!1,H=!1,$=!1,Z=!1,ot=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function It(G){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=G)s(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function Et(G){if($=!1,It(G),!H)if(i(_)!==null)H=!0,Pt||(Pt=!0,U());else{var et=i(v);et!==null&&ie(Et,et.startTime-G)}}var Pt=!1,M=-1,S=5,R=-1;function V(){return Z?!0:!(a.unstable_now()-R<S)}function N(){if(Z=!1,Pt){var G=a.unstable_now();R=G;var et=!0;try{t:{H=!1,$&&($=!1,rt(M),M=-1),j=!0;var lt=O;try{e:{for(It(G),D=i(_);D!==null&&!(D.expirationTime>G&&V());){var Lt=D.callback;if(typeof Lt=="function"){D.callback=null,O=D.priorityLevel;var C=Lt(D.expirationTime<=G);if(G=a.unstable_now(),typeof C=="function"){D.callback=C,It(G),et=!0;break e}D===i(_)&&s(_),It(G)}else s(_);D=i(_)}if(D!==null)et=!0;else{var K=i(v);K!==null&&ie(Et,K.startTime-G),et=!1}}break t}finally{D=null,O=lt,j=!1}et=void 0}}finally{et?U():Pt=!1}}}var U;if(typeof ct=="function")U=function(){ct(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=N,U=function(){Me.postMessage(null)}}else U=function(){ot(N,0)};function ie(G,et){M=ot(function(){G(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return O},a.unstable_next=function(G){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var lt=O;O=et;try{return G()}finally{O=lt}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var lt=O;O=G;try{return et()}finally{O=lt}},a.unstable_scheduleCallback=function(G,et,lt){var Lt=a.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Lt+lt:Lt):lt=Lt,G){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,G={id:A++,callback:et,priorityLevel:G,startTime:lt,expirationTime:C,sortIndex:-1},lt>Lt?(G.sortIndex=lt,e(v,G),i(_)===null&&G===i(v)&&($?(rt(M),M=-1):$=!0,ie(Et,lt-Lt))):(G.sortIndex=C,e(_,G),H||j||(H=!0,Pt||(Pt=!0,U()))),G},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(G){var et=O;return function(){var lt=O;O=et;try{return G.apply(this,arguments)}finally{O=lt}}}}(Ph)),Ph}var Ty;function kT(){return Ty||(Ty=1,Uh.exports=zT()),Uh.exports}var Lh={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function BT(){if(Ay)return He;Ay=1;var a=_d();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(_,v,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:D==null?null:""+D,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:D,integrity:O,fetchPriority:j}):A==="script"&&s.d.X(_,{crossOrigin:D,integrity:O,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},He.requestFormReset=function(_){s.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var Sy;function qT(){if(Sy)return Lh.exports;Sy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Lh.exports=BT(),Lh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function jT(){if(by)return ql;by=1;var a=kT(),e=_d(),i=qT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return g(c),t;if(h===l)return g(c),n;h=h.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=h;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=h;break}if(E===l){y=!0,l=c,r=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===r){y=!0,r=h,l=c;break}if(E===l){y=!0,l=h,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ot=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case Z:return"Profiler";case $:return"StrictMode";case Et:return"Suspense";case Pt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case rt:return(t._context.displayName||"Context")+".Consumer";case It:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ie=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function K(t){return{current:t}}function nt(t){0>C||(t.current=Lt[C],Lt[C]=null,C--)}function W(t,n){C++,Lt[C]=t.current,t.current=n}var ut=K(null),bt=K(null),yt=K(null),we=K(null);function $t(t,n){switch(W(yt,n),W(bt,t),W(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Gp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Gp(n),t=Yp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ut),W(ut,t)}function Pn(){nt(ut),nt(bt),nt(yt)}function Li(t){t.memoizedState!==null&&W(we,t);var n=ut.current,r=Yp(n,t.type);n!==r&&(W(bt,t),W(ut,r))}function ri(t){bt.current===t&&(nt(ut),nt(bt)),we.current===t&&(nt(we),Ul._currentValue=lt)}var Da=Object.prototype.hasOwnProperty,Ca=a.unstable_scheduleCallback,Ia=a.unstable_cancelCallback,Ms=a.unstable_shouldYield,po=a.unstable_requestPaint,dn=a.unstable_now,Vc=a.unstable_getCurrentPriorityLevel,Ns=a.unstable_ImmediatePriority,Ar=a.unstable_UserBlockingPriority,Oa=a.unstable_NormalPriority,Mc=a.unstable_LowPriority,Sr=a.unstable_IdlePriority,xs=a.log,yo=a.unstable_setDisableYieldValue,ae=null,jt=null;function nn(t){if(typeof xs=="function"&&yo(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ae,t)}catch{}}var qe=Math.clz32?Math.clz32:Va,_o=Math.log,Nc=Math.LN2;function Va(t){return t>>>=0,t===0?32:31-(_o(t)/Nc|0)|0}var Ma=256,Na=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function br(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=In(l):(y&=E,y!==0?c=In(y):r||(r=E&~t,r!==0&&(c=In(r))))):(E=l&~h,E!==0?c=In(E):y!==0?c=In(y):r||(r=l&~t,r!==0&&(c=In(r)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:c}function xa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Us(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ps(){var t=Ma;return Ma<<=1,(Ma&4194048)===0&&(Ma=256),t}function Ls(){var t=Na;return Na<<=1,(Na&62914560)===0&&(Na=4194304),t}function si(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zs(t,n,r,l,c,h){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var Y=31-qe(r),Q=1<<Y;E[Y]=0,b[Y]=-1;var k=z[Y];if(k!==null)for(z[Y]=null,Y=0;Y<k.length;Y++){var B=k[Y];B!==null&&(B.lane&=-536870913)}r&=~Q}l!==0&&Ln(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function Ln(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function ks(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-qe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ki(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:cy(t.type))}function vo(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,he="__reactProps$"+Wt,mn="__reactContainer$"+Wt,Bs="__reactEvents$"+Wt,xc="__reactListeners$"+Wt,Bi="__reactHandles$"+Wt,Eo="__reactResources$"+Wt,Ua="__reactMarker$"+Wt;function qi(t){delete t[ye],delete t[he],delete t[Bs],delete t[xc],delete t[Bi]}function oi(t){var n=t[ye];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Kp(t);t!==null;){if(r=t[ye])return r;t=Kp(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[ye]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Qe(t){var n=t[Eo];return n||(n=t[Eo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Ua]=!0}var qs=new Set,Rr={};function On(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(Rr[t]=n,t=0;t<n.length;t++)qs.add(n[t])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},Pa={};function So(t){return Da.call(Pa,t)?!0:Da.call(Ao,t)?!1:To.test(t)?Pa[t]=!0:(Ao[t]=!0,!1)}function ji(t,n,r){if(So(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ne(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var La,bo;function ci(t){if(La===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);La=n&&n[1]||"",bo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+t+bo}var Dr=!1;function Cr(t,n){if(!t||Dr)return"";Dr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var k=B}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(B){k=B}t.call(Q.prototype)}}else{try{throw Error()}catch(B){k=B}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var b=y.split(`
`),z=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===z.length)for(l=b.length-1,c=z.length-1;1<=l&&0<=c&&b[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==z[c]){var Y=`
`+b[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=c);break}}}finally{Dr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ci(r):""}function js(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Cr(t.type,!1);case 11:return Cr(t.type.render,!1);case 1:return Cr(t.type,!0);case 31:return ci("Activity");default:return""}}function Ir(t){try{var n="";do n+=js(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uc(t){var n=Hs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Or(t){t._valueTracker||(t._valueTracker=Uc(t))}function Gs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Hs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pc=/[\n"\\]/g;function de(t){return t.replace(Pc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,r,l,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Hi(t,y,Xe(n)):r!=null?Hi(t,y,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function ka(t,n,r,l,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Hi(t,n,r){n==="number"&&za(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function fi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Ba(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||qa.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ys(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&wo(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&wo(t,h,n[h])}function Fs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vr(t){return zc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function Qs(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Gs(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&fi(t,!!r.multiple,n,!1)}}}var qn=!1;function Ro(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(di!==null||mi!==null)&&(vu(),di&&(n=di,t=mi,mi=di=null,Qs(n),t)))for(n=0;n<t.length;n++)Qs(t[n])}}function ja(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Vn)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{yn=!1}var jn=null,Gi=null,gi=null;function Xs(){if(gi)return gi;var t,n=Gi,r=n.length,l,c="value"in jn?jn.value:jn.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[h-l];l++);return gi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Ks(){return!1}function Re(t){function n(r,l,c,h,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Gn:Ks,this.isPropagationStopped=Ks,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=Re(kt),Ga=A({},kt,{view:0,detail:0}),Do=Re(Ga),Nr,xr,Yn,Ya=A({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Nr=t.screenX-Yn.screenX,xr=t.screenY-Yn.screenY):xr=Nr=0,Yn=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:xr}}),_n=Re(Ya),Co=A({},Ya,{dataTransfer:0}),kc=Re(Co),Fa=A({},Ga,{relatedTarget:0}),Ur=Re(Fa),Zs=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Pr=Re(Zs),Io=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lr=Re(Io),Bc=A({},kt,{data:0}),$s=Re(Bc),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vo[t])?!!n[t]:!1}function Xa(){return Js}var Mo=A({},Ga,{key:function(t){if(t.key){var n=Qa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zr=Re(Mo),No=A({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ws=Re(No),pi=A({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),xo=Re(pi),Uo=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Po=Re(Uo),Lo=A({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kr=Re(Lo),Ke=A({},kt,{newState:0,oldState:0}),zo=Re(Ke),ko=[9,13,27,32],Fn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,p=Vn&&(!Fn||u&&8<u&&11>=u),T=" ",P=!1;function q(t,n){switch(t){case"keyup":return ko.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function _e(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return t=n.data,t===T&&P?null:t;default:return null}}function Vt(t,n){if(Ot)return t==="compositionend"||!Fn&&q(t,n)?(t=Xs(),gi=Gi=jn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function yi(t,n,r,l){di?mi?mi.push(l):mi=[l]:di=l,n=wu(n,"onChange"),0<n.length&&(r=new Mr("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var xe=null,Qn=null;function tl(t){kp(t,0)}function Bo(t){var n=kn(t);if(Gs(n))return t}function sm(t,n){if(t==="change")return n}var lm=!1;if(Vn){var qc;if(Vn){var jc="oninput"in document;if(!jc){var om=document.createElement("div");om.setAttribute("oninput","return;"),jc=typeof om.oninput=="function"}qc=jc}else qc=!1;lm=qc&&(!document.documentMode||9<document.documentMode)}function um(){xe&&(xe.detachEvent("onpropertychange",cm),Qn=xe=null)}function cm(t){if(t.propertyName==="value"&&Bo(Qn)){var n=[];yi(n,Qn,t,pn(t)),Ro(tl,n)}}function fE(t,n,r){t==="focusin"?(um(),xe=n,Qn=r,xe.attachEvent("onpropertychange",cm)):t==="focusout"&&um()}function hE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(Qn)}function dE(t,n){if(t==="click")return Bo(n)}function mE(t,n){if(t==="input"||t==="change")return Bo(n)}function gE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:gE;function el(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Da.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function fm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hm(t,n){var r=fm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=fm(r)}}function dm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?dm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function mm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=za(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=za(t.document)}return n}function Hc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var pE=Vn&&"documentMode"in document&&11>=document.documentMode,Br=null,Gc=null,nl=null,Yc=!1;function gm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yc||Br==null||Br!==za(l)||(l=Br,"selectionStart"in l&&Hc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=wu(Gc,"onSelect"),0<l.length&&(n=new Mr("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Br)))}function Ka(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var qr={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Fc={},pm={};Vn&&(pm=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Za(t){if(Fc[t])return Fc[t];if(!qr[t])return t;var n=qr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in pm)return Fc[t]=n[r];return t}var ym=Za("animationend"),_m=Za("animationiteration"),vm=Za("animationstart"),yE=Za("transitionrun"),_E=Za("transitionstart"),vE=Za("transitioncancel"),Em=Za("transitionend"),Tm=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function Mn(t,n){Tm.set(t,n),On(n,[t])}var Am=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=Am.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ir(n)},Am.set(t,n),n)}return{value:t,source:n,stack:Ir(n)}}var En=[],jr=0,Xc=0;function qo(){for(var t=jr,n=Xc=jr=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var h=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&Sm(r,c,h)}}function jo(t,n,r,l){En[jr++]=t,En[jr++]=n,En[jr++]=r,En[jr++]=l,Xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kc(t,n,r,l){return jo(t,n,r,l),Ho(t)}function Hr(t,n){return jo(t,null,null,n),Ho(t)}function Sm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-qe(r),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),h):null}function Ho(t){if(50<Dl)throw Dl=0,nh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gr={};function EE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new EE(t,n,r,l)}function Zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function bm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Go(t,n,r,l,c,h){var y=0;if(l=t,typeof t=="function")Zc(t)&&(y=1);else if(typeof t=="string")y=AT(t,r,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=sn(31,r,n,c),t.elementType=R,t.lanes=h,t;case H:return $a(r.children,c,h,n);case $:y=8,c|=24;break;case Z:return t=sn(12,r,n,c|2),t.elementType=Z,t.lanes=h,t;case Et:return t=sn(13,r,n,c),t.elementType=Et,t.lanes=h,t;case Pt:return t=sn(19,r,n,c),t.elementType=Pt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:case ct:y=10;break t;case rt:y=9;break t;case It:y=11;break t;case M:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function $a(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function $c(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Jc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Yr=[],Fr=0,Yo=null,Fo=0,Tn=[],An=0,Ja=null,vi=1,Ei="";function Wa(t,n){Yr[Fr++]=Fo,Yr[Fr++]=Yo,Yo=t,Fo=n}function wm(t,n,r){Tn[An++]=vi,Tn[An++]=Ei,Tn[An++]=Ja,Ja=t;var l=vi;t=Ei;var c=32-qe(l)-1;l&=~(1<<c),r+=1;var h=32-qe(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,vi=1<<32-qe(n)+c|r<<c|l,Ei=h+t}else vi=1<<h|r<<c|l,Ei=t}function Wc(t){t.return!==null&&(Wa(t,1),wm(t,1,0))}function tf(t){for(;t===Yo;)Yo=Yr[--Fr],Yr[Fr]=null,Fo=Yr[--Fr],Yr[Fr]=null;for(;t===Ja;)Ja=Tn[--An],Tn[An]=null,Ei=Tn[--An],Tn[An]=null,vi=Tn[--An],Tn[An]=null}var Ze=null,re=null,zt=!1,tr=null,Xn=!1,ef=Error(s(519));function er(t){var n=Error(s(418,""));throw rl(vn(n,t)),ef}function Rm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ye]=t,n[he]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Il.length;r++)Dt(Il[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),ka(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Or(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Ba(n,l.value,l.defaultValue,l.children),Or(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Hp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Ru),n=!0):n=!1,n||er(t)}function Dm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ze=Ze.return}}function il(t){if(t!==Ze)return!1;if(!zt)return Dm(t),zt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||_h(t.type,t.memoizedProps)),r=!r),r&&re&&er(t),Dm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){re=xn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,sa(t.type)?(t=Ah,Ah=null,re=t):re=n):re=Ze?xn(t.stateNode.nextSibling):null;return!0}function al(){re=Ze=null,zt=!1}function Cm(){var t=tr;return t!==null&&(We===null?We=t:We.push.apply(We,t),tr=null),t}function rl(t){tr===null?tr=[t]:tr.push(t)}var nf=K(null),nr=null,Ti=null;function Yi(t,n,r){W(nf,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=nf.current,nt(nf)}function af(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function rf(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){h.lanes|=r,E=h.alternate,E!==null&&(E.lanes|=r),af(h.return,r,t),l||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,h=y.alternate,h!==null&&(h.lanes|=r),af(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function sl(t,n,r,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}c=c.return}t!==null&&rf(n,t,r,l),n.flags|=262144}function Qo(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ir(t){nr=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return Im(nr,t)}function Xo(t,n){return nr===null&&ir(t),Im(t,n)}function Im(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(s(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var TE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},AE=a.unstable_scheduleCallback,SE=a.unstable_NormalPriority,Ee={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new TE,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&AE(SE,function(){t.controller.abort()})}var ol=null,lf=0,Qr=0,Xr=null;function bE(t,n){if(ol===null){var r=ol=[];lf=0,Qr=uh(),Xr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return lf++,n.then(Om,Om),n}function Om(){if(--lf===0&&ol!==null){Xr!==null&&(Xr.status="fulfilled");var t=ol;ol=null,Qr=0,Xr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function wE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Vm=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&bE(t,n),Vm!==null&&Vm(t,n)};var ar=K(null);function of(){var t=ar.current;return t!==null?t:Jt.pooledCache}function Ko(t,n){n===null?W(ar,ar.current):W(ar,n.pool)}function Mm(){var t=of();return t===null?null:{parent:Ee._currentValue,pool:t}}var ul=Error(s(460)),Nm=Error(s(474)),Zo=Error(s(542)),uf={then:function(){}};function xm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $o(){}function Um(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then($o,$o),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t;default:if(typeof n.status=="string")n.then($o,$o);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t}throw cl=n,ul}}var cl=null;function Pm(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function Lm(t){if(t===ul||t===Zo)throw Error(s(483))}var Fi=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ho(t),Sm(t,null,r),n}return jo(t,l,n,r),Ho(t)}function fl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ks(t,r)}}function hf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var df=!1;function hl(){if(df){var t=Xr;if(t!==null)throw t}}function dl(t,n,r,l){df=!1;var c=t.updateQueue;Fi=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,z=b.next;b.next=null,y===null?h=z:y.next=z,y=b;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==y&&(E===null?Y.firstBaseUpdate=z:E.next=z,Y.lastBaseUpdate=b))}if(h!==null){var Q=c.baseState;y=0,Y=z=b=null,E=h;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Mt&k)===k:(l&k)===k){k!==0&&k===Qr&&(df=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ft=E;k=n;var Kt=r;switch(ft.tag){case 1:if(gt=ft.payload,typeof gt=="function"){Q=gt.call(Kt,Q,k);break t}Q=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ft.payload,k=typeof gt=="function"?gt.call(Kt,Q,k):gt,k==null)break t;Q=A({},Q,k);break t;case 2:Fi=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(z=Y=B,b=Q):Y=Y.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);Y===null&&(b=Q),c.baseState=b,c.firstBaseUpdate=z,c.lastBaseUpdate=Y,h===null&&(c.shared.lanes=0),na|=y,t.lanes=y,t.memoizedState=Q}}function zm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function km(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)zm(r[t],n)}var Kr=K(null),Jo=K(0);function Bm(t,n){t=Ii,W(Jo,t),W(Kr,n),Ii=t|n.baseLanes}function mf(){W(Jo,Ii),W(Kr,Kr.current)}function gf(){Ii=Jo.current,nt(Kr),nt(Jo)}var Ki=0,At=null,Qt=null,me=null,Wo=!1,Zr=!1,rr=!1,tu=0,ml=0,$r=null,RE=0;function ue(){throw Error(s(321))}function pf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!rn(t[r],n[r]))return!1;return!0}function yf(t,n,r,l,c,h){return Ki=h,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Sg:bg,rr=!1,h=r(l,c),rr=!1,Zr&&(h=jm(n,r,l,c)),qm(t),h}function qm(t){G.H=su;var n=Qt!==null&&Qt.next!==null;if(Ki=0,me=Qt=At=null,Wo=!1,ml=0,$r=null,n)throw Error(s(300));t===null||Ce||(t=t.dependencies,t!==null&&Qo(t)&&(Ce=!0))}function jm(t,n,r,l){At=t;var c=0;do{if(Zr&&($r=null),ml=0,Zr=!1,25<=c)throw Error(s(301));if(c+=1,me=Qt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}G.H=NE,h=n(r,l)}while(Zr);return h}function DE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(At.flags|=1024),n}function _f(){var t=tu!==0;return tu=0,t}function vf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ef(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}Ki=0,me=Qt=At=null,Zr=!1,ml=tu=0,$r=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?At.memoizedState=me=t:me=me.next=t,me}function ge(){if(Qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=me===null?At.memoizedState:me.next;if(n!==null)me=n,Qt=t;else{if(t===null)throw At.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?At.memoizedState=me=t:me=me.next=t}return me}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,$r===null&&($r=[]),t=Um($r,t,n),n=At,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Sg:bg),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ct)return je(t)}throw Error(s(438,String(t)))}function Af(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Tf(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=ge();return Sf(n,Qt,t)}function Sf(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=y=null,b=null,z=n,Y=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Mt&Q)===Q:(Ki&Q)===Q){var k=z.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Qr&&(Y=!0);else if((Ki&k)===k){z=z.next,k===Qr&&(Y=!0);continue}else Q={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=Q,y=h):b=b.next=Q,At.lanes|=k,na|=k;Q=z.action,rr&&r(h,Q),h=z.hasEagerState?z.eagerState:r(h,Q)}else k={lane:Q,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=k,y=h):b=b.next=k,At.lanes|=Q,na|=Q;z=z.next}while(z!==null&&z!==n);if(b===null?y=h:b.next=E,!rn(h,t.memoizedState)&&(Ce=!0,Y&&(r=Xr,r!==null)))throw r;t.memoizedState=h,t.baseState=y,t.baseQueue=b,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);rn(h,n.memoizedState)||(Ce=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function Hm(t,n,r){var l=At,c=ge(),h=zt;if(h){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!rn((Qt||c).memoizedState,r);y&&(c.memoizedState=r,Ce=!0),c=c.queue;var E=Fm.bind(null,l,c,t);if(pl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Jr(9,iu(),Ym.bind(null,l,c,r,n),null),Jt===null)throw Error(s(349));h||(Ki&124)!==0||Gm(l,n,r)}return r}function Gm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=Tf(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Ym(t,n,r,l){n.value=r,n.getSnapshot=l,Qm(n)&&Xm(t)}function Fm(t,n,r){return r(function(){Qm(n)&&Xm(t)})}function Qm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!rn(t,r)}catch{return!0}}function Xm(t){var n=Hr(t,2);n!==null&&fn(n,t,2)}function wf(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),rr){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function Km(t,n,r,l){return t.baseState=r,Sf(t,Qt,typeof l=="function"?l:Si)}function CE(t,n,r,l,c){if(ru(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};G.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,Zm(n,h)):(h.next=r.next,n.pending=r.next=h)}}function Zm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=G.T,y={};G.T=y;try{var E=r(c,l),b=G.S;b!==null&&b(y,E),$m(t,n,E)}catch(z){Rf(t,n,z)}finally{G.T=h}}else try{h=r(c,l),$m(t,n,h)}catch(z){Rf(t,n,z)}}function $m(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Jm(t,n,l)},function(l){return Rf(t,n,l)}):Jm(t,n,r)}function Jm(t,n,r){n.status="fulfilled",n.value=r,Wm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Zm(t,r)))}function Rf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Wm(n),n=n.next;while(n!==l)}t.action=null}function Wm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function tg(t,n){return n}function eg(t,n){if(zt){var r=Jt.formState;if(r!==null){t:{var l=At;if(zt){if(re){e:{for(var c=re,h=Xn;c.nodeType!==8;){if(!h){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){re=xn(c.nextSibling),l=c.data==="F!";break t}}er(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tg,lastRenderedState:n},r.queue=l,r=Eg.bind(null,At,l),l.dispatch=r,l=wf(!1),h=Vf.bind(null,At,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=CE.bind(null,At,c,h,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function ng(t){var n=ge();return ig(n,Qt,t)}function ig(t,n,r){if(n=Sf(t,n,tg)[0],t=nu(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(y){throw y===ul?Zo:y}else l=n;n=ge();var c=n.queue,h=c.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Jr(9,iu(),IE.bind(null,c,r),null)),[l,h,t]}function IE(t,n){t.action=n}function ag(t){var n=ge(),r=Qt;if(r!==null)return ig(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Jr(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=Tf(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function iu(){return{destroy:void 0,resource:void 0}}function rg(){return ge().memoizedState}function au(t,n,r,l){var c=$e();l=l===void 0?null:l,At.flags|=t,c.memoizedState=Jr(1|n,iu(),r,l)}function pl(t,n,r,l){var c=ge();l=l===void 0?null:l;var h=c.memoizedState.inst;Qt!==null&&l!==null&&pf(l,Qt.memoizedState.deps)?c.memoizedState=Jr(n,h,r,l):(At.flags|=t,c.memoizedState=Jr(1|n,h,r,l))}function sg(t,n){au(8390656,8,t,n)}function lg(t,n){pl(2048,8,t,n)}function og(t,n){return pl(4,2,t,n)}function ug(t,n){return pl(4,4,t,n)}function cg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function fg(t,n,r){r=r!=null?r.concat([t]):null,pl(4,4,cg.bind(null,n,t),r)}function Df(){}function hg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&pf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function dg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&pf(n,l[1]))return l[0];if(l=t(),rr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function Cf(t,n,r){return r===void 0||(Ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=pp(),At.lanes|=t,na|=t,r)}function mg(t,n,r,l){return rn(r,n)?r:Kr.current!==null?(t=Cf(t,r,l),rn(t,n)||(Ce=!0),t):(Ki&42)===0?(Ce=!0,t.memoizedState=r):(t=pp(),At.lanes|=t,na|=t,n)}function gg(t,n,r,l,c){var h=et.p;et.p=h!==0&&8>h?h:8;var y=G.T,E={};G.T=E,Vf(t,!1,n,r);try{var b=c(),z=G.S;if(z!==null&&z(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var Y=wE(b,l);yl(t,n,Y,cn(t))}else yl(t,n,l,cn(t))}catch(Q){yl(t,n,{then:function(){},status:"rejected",reason:Q},cn())}finally{et.p=h,G.T=y}}function OE(){}function If(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=pg(t).queue;gg(t,c,n,lt,r===null?OE:function(){return yg(t),r(l)})}function pg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function yg(t){var n=pg(t).next.queue;yl(t,n,{},cn())}function Of(){return je(Ul)}function _g(){return ge().memoizedState}function vg(){return ge().memoizedState}function VE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Qi(r);var l=Xi(n,t,r);l!==null&&(fn(l,n,r),fl(l,n,r)),n={cache:sf()},t.payload=n;return}n=n.return}}function ME(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ru(t)?Tg(n,r):(r=Kc(t,n,r,l),r!==null&&(fn(r,t,l),Ag(r,n,l)))}function Eg(t,n,r){var l=cn();yl(t,n,r,l)}function yl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ru(t))Tg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,r);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return jo(t,n,c,0),Jt===null&&qo(),!1}catch{}finally{}if(r=Kc(t,n,c,l),r!==null)return fn(r,t,l),Ag(r,n,l),!0}return!1}function Vf(t,n,r,l){if(l={lane:2,revertLane:uh(),action:l,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(s(479))}else n=Kc(t,r,l,2),n!==null&&fn(n,t,2)}function ru(t){var n=t.alternate;return t===At||n!==null&&n===At}function Tg(t,n){Zr=Wo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ag(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ks(t,r)}}var su={readContext:je,use:eu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Sg={readContext:je,use:eu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:sg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,au(4194308,4,cg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return au(4194308,4,t,n)},useInsertionEffect:function(t,n){au(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(rr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(rr){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=ME.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=wf(t);var n=t.queue,r=Eg.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Df,useDeferredValue:function(t,n){var r=$e();return Cf(r,t,n)},useTransition:function(){var t=wf(!1);return t=gg.bind(null,At,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=$e();if(zt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(Mt&124)!==0||Gm(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,sg(Fm.bind(null,l,h,t),[t]),l.flags|=2048,Jr(9,iu(),Ym.bind(null,l,h,r,n),null),r},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(zt){var r=Ei,l=vi;r=(l&~(1<<32-qe(l)-1)).toString(32)+r,n=""+n+"R"+r,r=tu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=RE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Of,useFormState:eg,useActionState:eg,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Vf.bind(null,At,!0,r),r.dispatch=n,[t,n]},useMemoCache:Af,useCacheRefresh:function(){return $e().memoizedState=VE.bind(null,At)}},bg={readContext:je,use:eu,useCallback:hg,useContext:je,useEffect:lg,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:nu,useRef:rg,useState:function(){return nu(Si)},useDebugValue:Df,useDeferredValue:function(t,n){var r=ge();return mg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=nu(Si)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Hm,useId:_g,useHostTransitionStatus:Of,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var r=ge();return Km(r,Qt,t,n)},useMemoCache:Af,useCacheRefresh:vg},NE={readContext:je,use:eu,useCallback:hg,useContext:je,useEffect:lg,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:bf,useRef:rg,useState:function(){return bf(Si)},useDebugValue:Df,useDeferredValue:function(t,n){var r=ge();return Qt===null?Cf(r,t,n):mg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=bf(Si)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Hm,useId:_g,useHostTransitionStatus:Of,useFormState:ag,useActionState:ag,useOptimistic:function(t,n){var r=ge();return Qt!==null?Km(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Af,useCacheRefresh:vg},Wr=null,_l=0;function lu(t){var n=_l;return _l+=1,Wr===null&&(Wr=[]),Um(Wr,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ou(t,n){throw n.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function wg(t){var n=t._init;return n(t._payload)}function Rg(t){function n(x,I){if(t){var L=x.deletions;L===null?(x.deletions=[I],x.flags|=16):L.push(I)}}function r(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=_i(x,I),x.index=0,x.sibling=null,x}function h(x,I,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<I?(x.flags|=67108866,I):L):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,I,L,F){return I===null||I.tag!==6?(I=$c(L,x.mode,F),I.return=x,I):(I=c(I,L),I.return=x,I)}function b(x,I,L,F){var at=L.type;return at===H?Y(x,I,L.props.children,F,L.key):I!==null&&(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&wg(at)===I.type)?(I=c(I,L.props),vl(I,L),I.return=x,I):(I=Go(L.type,L.key,L.props,null,x.mode,F),vl(I,L),I.return=x,I)}function z(x,I,L,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Jc(L,x.mode,F),I.return=x,I):(I=c(I,L.children||[]),I.return=x,I)}function Y(x,I,L,F,at){return I===null||I.tag!==7?(I=$a(L,x.mode,F,at),I.return=x,I):(I=c(I,L),I.return=x,I)}function Q(x,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=$c(""+I,x.mode,L),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case O:return L=Go(I.type,I.key,I.props,null,x.mode,L),vl(L,I),L.return=x,L;case j:return I=Jc(I,x.mode,L),I.return=x,I;case S:var F=I._init;return I=F(I._payload),Q(x,I,L)}if(ie(I)||U(I))return I=$a(I,x.mode,L,null),I.return=x,I;if(typeof I.then=="function")return Q(x,lu(I),L);if(I.$$typeof===ct)return Q(x,Xo(x,I),L);ou(x,I)}return null}function k(x,I,L,F){var at=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(x,I,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return L.key===at?b(x,I,L,F):null;case j:return L.key===at?z(x,I,L,F):null;case S:return at=L._init,L=at(L._payload),k(x,I,L,F)}if(ie(L)||U(L))return at!==null?null:Y(x,I,L,F,null);if(typeof L.then=="function")return k(x,I,lu(L),F);if(L.$$typeof===ct)return k(x,I,Xo(x,L),F);ou(x,L)}return null}function B(x,I,L,F,at){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(L)||null,E(I,x,""+F,at);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case O:return x=x.get(F.key===null?L:F.key)||null,b(I,x,F,at);case j:return x=x.get(F.key===null?L:F.key)||null,z(I,x,F,at);case S:var wt=F._init;return F=wt(F._payload),B(x,I,L,F,at)}if(ie(F)||U(F))return x=x.get(L)||null,Y(I,x,F,at,null);if(typeof F.then=="function")return B(x,I,L,lu(F),at);if(F.$$typeof===ct)return B(x,I,L,Xo(I,F),at);ou(I,F)}return null}function gt(x,I,L,F){for(var at=null,wt=null,st=I,mt=I=0,Oe=null;st!==null&&mt<L.length;mt++){st.index>mt?(Oe=st,st=null):Oe=st.sibling;var Ut=k(x,st,L[mt],F);if(Ut===null){st===null&&(st=Oe);break}t&&st&&Ut.alternate===null&&n(x,st),I=h(Ut,I,mt),wt===null?at=Ut:wt.sibling=Ut,wt=Ut,st=Oe}if(mt===L.length)return r(x,st),zt&&Wa(x,mt),at;if(st===null){for(;mt<L.length;mt++)st=Q(x,L[mt],F),st!==null&&(I=h(st,I,mt),wt===null?at=st:wt.sibling=st,wt=st);return zt&&Wa(x,mt),at}for(st=l(st);mt<L.length;mt++)Oe=B(st,x,mt,L[mt],F),Oe!==null&&(t&&Oe.alternate!==null&&st.delete(Oe.key===null?mt:Oe.key),I=h(Oe,I,mt),wt===null?at=Oe:wt.sibling=Oe,wt=Oe);return t&&st.forEach(function(fa){return n(x,fa)}),zt&&Wa(x,mt),at}function ft(x,I,L,F){if(L==null)throw Error(s(151));for(var at=null,wt=null,st=I,mt=I=0,Oe=null,Ut=L.next();st!==null&&!Ut.done;mt++,Ut=L.next()){st.index>mt?(Oe=st,st=null):Oe=st.sibling;var fa=k(x,st,Ut.value,F);if(fa===null){st===null&&(st=Oe);break}t&&st&&fa.alternate===null&&n(x,st),I=h(fa,I,mt),wt===null?at=fa:wt.sibling=fa,wt=fa,st=Oe}if(Ut.done)return r(x,st),zt&&Wa(x,mt),at;if(st===null){for(;!Ut.done;mt++,Ut=L.next())Ut=Q(x,Ut.value,F),Ut!==null&&(I=h(Ut,I,mt),wt===null?at=Ut:wt.sibling=Ut,wt=Ut);return zt&&Wa(x,mt),at}for(st=l(st);!Ut.done;mt++,Ut=L.next())Ut=B(st,x,mt,Ut.value,F),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?mt:Ut.key),I=h(Ut,I,mt),wt===null?at=Ut:wt.sibling=Ut,wt=Ut);return t&&st.forEach(function(xT){return n(x,xT)}),zt&&Wa(x,mt),at}function Kt(x,I,L,F){if(typeof L=="object"&&L!==null&&L.type===H&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case O:t:{for(var at=L.key;I!==null;){if(I.key===at){if(at=L.type,at===H){if(I.tag===7){r(x,I.sibling),F=c(I,L.props.children),F.return=x,x=F;break t}}else if(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&wg(at)===I.type){r(x,I.sibling),F=c(I,L.props),vl(F,L),F.return=x,x=F;break t}r(x,I);break}else n(x,I);I=I.sibling}L.type===H?(F=$a(L.props.children,x.mode,F,L.key),F.return=x,x=F):(F=Go(L.type,L.key,L.props,null,x.mode,F),vl(F,L),F.return=x,x=F)}return y(x);case j:t:{for(at=L.key;I!==null;){if(I.key===at)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){r(x,I.sibling),F=c(I,L.children||[]),F.return=x,x=F;break t}else{r(x,I);break}else n(x,I);I=I.sibling}F=Jc(L,x.mode,F),F.return=x,x=F}return y(x);case S:return at=L._init,L=at(L._payload),Kt(x,I,L,F)}if(ie(L))return gt(x,I,L,F);if(U(L)){if(at=U(L),typeof at!="function")throw Error(s(150));return L=at.call(L),ft(x,I,L,F)}if(typeof L.then=="function")return Kt(x,I,lu(L),F);if(L.$$typeof===ct)return Kt(x,I,Xo(x,L),F);ou(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(r(x,I.sibling),F=c(I,L),F.return=x,x=F):(r(x,I),F=$c(L,x.mode,F),F.return=x,x=F),y(x)):r(x,I)}return function(x,I,L,F){try{_l=0;var at=Kt(x,I,L,F);return Wr=null,at}catch(st){if(st===ul||st===Zo)throw st;var wt=sn(29,st,null,x.mode);return wt.lanes=F,wt.return=x,wt}finally{}}}var ts=Rg(!0),Dg=Rg(!1),Sn=K(null),Kn=null;function Zi(t){var n=t.alternate;W(Te,Te.current&1),W(Sn,t),Kn===null&&(n===null||Kr.current!==null||n.memoizedState!==null)&&(Kn=t)}function Cg(t){if(t.tag===22){if(W(Te,Te.current),W(Sn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else $i()}function $i(){W(Te,Te.current),W(Sn,Sn.current)}function bi(t){nt(Sn),Kn===t&&(Kn=null),nt(Te)}var Te=K(0);function uu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Th(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Mf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Nf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Qi(l);c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(fn(n,t,l),fl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(fn(n,t,l),fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Qi(r);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,r),n!==null&&(fn(n,t,r),fl(n,t,r))}};function Ig(t,n,r,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!el(r,l)||!el(c,h):!0}function Og(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Nf.enqueueReplaceState(n,n.state,null)}function sr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vg(t){cu(t)}function Mg(t){console.error(t)}function Ng(t){cu(t)}function fu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function xg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function xf(t,n,r){return r=Qi(r),r.tag=3,r.payload={element:null},r.callback=function(){fu(t,n)},r}function Ug(t){return t=Qi(t),t.tag=3,t}function Pg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){xg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){xg(n,r,l),typeof c!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function xE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&sl(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Kn===null?ah():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===uf?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),sh(t,l,c)),!1;case 22:return r.flags|=65536,l===uf?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),sh(t,l,c)),!1}throw Error(s(435,r.tag))}return sh(t,l,c),ah(),!1}if(zt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ef&&(t=Error(s(422),{cause:l}),rl(vn(t,r)))):(l!==ef&&(n=Error(s(423),{cause:l}),rl(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=xf(t.stateNode,l,c),hf(t,c),se!==4&&(se=2)),!1;var h=Error(s(520),{cause:l});if(h=vn(h,r),Rl===null?Rl=[h]:Rl.push(h),se!==4&&(se=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=xf(r.stateNode,l,t),hf(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ia===null||!ia.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Ug(c),Pg(c,t,r,l),hf(r,c),!1}r=r.return}while(r!==null);return!1}var Lg=Error(s(461)),Ce=!1;function Ue(t,n,r,l){n.child=t===null?Dg(n,null,r,l):ts(n,t.child,r,l)}function zg(t,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ir(n),l=yf(t,n,r,y,h,c),E=_f(),t!==null&&!Ce?(vf(t,n,c),wi(t,n,c)):(zt&&E&&Wc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function kg(t,n,r,l,c){if(t===null){var h=r.type;return typeof h=="function"&&!Zc(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,Bg(t,n,h,l,c)):(t=Go(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!jf(t,c)){var y=h.memoizedProps;if(r=r.compare,r=r!==null?r:el,r(y,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=_i(h,l),t.ref=n.ref,t.return=n,n.child=t}function Bg(t,n,r,l,c){if(t!==null){var h=t.memoizedProps;if(el(h,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=h,jf(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Uf(t,n,r,l,c)}function qg(t,n,r){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|r:r,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return jg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ko(n,h!==null?h.cachePool:null),h!==null?Bm(n,h):mf(),Cg(n);else return n.lanes=n.childLanes=536870912,jg(t,n,h!==null?h.baseLanes|r:r,r)}else h!==null?(Ko(n,h.cachePool),Bm(n,h),$i(),n.memoizedState=null):(t!==null&&Ko(n,null),mf(),$i());return Ue(t,n,c,r),n.child}function jg(t,n,r,l){var c=of();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Ko(n,null),mf(),Cg(n),t!==null&&sl(t,n,l,!0),null}function hu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Uf(t,n,r,l,c){return ir(n),r=yf(t,n,r,l,void 0,c),l=_f(),t!==null&&!Ce?(vf(t,n,c),wi(t,n,c)):(zt&&l&&Wc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function Hg(t,n,r,l,c,h){return ir(n),n.updateQueue=null,r=jm(n,l,r,c),qm(t),l=_f(),t!==null&&!Ce?(vf(t,n,h),wi(t,n,h)):(zt&&l&&Wc(n),n.flags|=1,Ue(t,n,r,h),n.child)}function Gg(t,n,r,l,c){if(ir(n),n.stateNode===null){var h=Gr,y=r.contextType;typeof y=="object"&&y!==null&&(h=je(y)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Nf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},cf(n),y=r.contextType,h.context=typeof y=="object"&&y!==null?je(y):Gr,h.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Mf(n,r,y,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Nf.enqueueReplaceState(h,h.state,null),dl(n,l,h,c),hl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,b=sr(r,E);h.props=b;var z=h.context,Y=r.contextType;y=Gr,typeof Y=="object"&&Y!==null&&(y=je(Y));var Q=r.getDerivedStateFromProps;Y=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||z!==y)&&Og(n,h,l,y),Fi=!1;var k=n.memoizedState;h.state=k,dl(n,l,h,c),hl(),z=n.memoizedState,E||k!==z||Fi?(typeof Q=="function"&&(Mf(n,r,Q,l),z=n.memoizedState),(b=Fi||Ig(n,r,b,l,k,z,y))?(Y||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),h.props=l,h.state=z,h.context=y,l=b):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,ff(t,n),y=n.memoizedProps,Y=sr(r,y),h.props=Y,Q=n.pendingProps,k=h.context,z=r.contextType,b=Gr,typeof z=="object"&&z!==null&&(b=je(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==Q||k!==b)&&Og(n,h,l,b),Fi=!1,k=n.memoizedState,h.state=k,dl(n,l,h,c),hl();var B=n.memoizedState;y!==Q||k!==B||Fi||t!==null&&t.dependencies!==null&&Qo(t.dependencies)?(typeof E=="function"&&(Mf(n,r,E,l),B=n.memoizedState),(Y=Fi||Ig(n,r,Y,l,k,B,b)||t!==null&&t.dependencies!==null&&Qo(t.dependencies))?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,b)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=b,l=Y):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,hu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=ts(n,t.child,null,c),n.child=ts(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=h.state,t=n.child):t=wi(t,n,c),t}function Yg(t,n,r,l){return al(),n.flags|=256,Ue(t,n,r,l),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(t){return{baseLanes:t,cachePool:Mm()}}function zf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function Fg(t,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Zi(n):$i(),zt){var E=re,b;if(b=E){t:{for(b=E,E=Xn;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ja!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,re=null,b=!0):b=!1}b||er(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Th(E)?n.lanes=32:n.lanes=536870912,null;bi(n)}return E=l.children,l=l.fallback,c?($i(),c=n.mode,E=du({mode:"hidden",children:E},c),l=$a(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Lf(r),c.childLanes=zf(t,y,r),n.memoizedState=Pf,l):(Zi(n),kf(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(h)n.flags&256?(Zi(n),n.flags&=-257,n=Bf(t,n,r)):n.memoizedState!==null?($i(),n.child=t.child,n.flags|=128,n=null):($i(),c=l.fallback,E=n.mode,l=du({mode:"visible",children:l.children},E),c=$a(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ts(n,t.child,null,r),l=n.child,l.memoizedState=Lf(r),l.childLanes=zf(t,y,r),n.memoizedState=Pf,n=c);else if(Zi(n),Th(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(s(419)),l.stack="",l.digest=y,rl({value:l,source:null,stack:null}),n=Bf(t,n,r)}else if(Ce||sl(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=Jt,y!==null&&(l=r&-r,l=(l&42)!==0?1:zi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Hr(t,l),fn(y,t,l),Lg;E.data==="$?"||ah(),n=Bf(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,re=xn(E.nextSibling),Ze=n,zt=!0,tr=null,Xn=!1,t!==null&&(Tn[An++]=vi,Tn[An++]=Ei,Tn[An++]=Ja,vi=t.id,Ei=t.overflow,Ja=n),n=kf(n,l.children),n.flags|=4096);return n}return c?($i(),c=l.fallback,E=n.mode,b=t.child,z=b.sibling,l=_i(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,z!==null?c=_i(z,c):(c=$a(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Lf(r):(b=E.cachePool,b!==null?(z=Ee._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=Mm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=zf(t,y,r),n.memoizedState=Pf,l):(Zi(n),r=t.child,t=r.sibling,r=_i(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function kf(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Bf(t,n,r){return ts(n,t.child,null,r),t=kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Qg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),af(t.return,n,r)}function qf(t,n,r,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function Xg(t,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(Ue(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qg(t,r,n);else if(t.tag===19)Qg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&uu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),qf(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&uu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}qf(n,!0,r,null,h);break;case"together":qf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),na|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(sl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=_i(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=_i(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qo(t)))}function UE(t,n,r){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Yi(n,Ee,t.memoizedState.cache),al();break;case 27:case 5:Li(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Yi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Fg(t,n,r):(Zi(n),t=wi(t,n,r),t!==null?t.sibling:null);Zi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(sl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Xg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,qg(t,n,r);case 24:Yi(n,Ee,t.memoizedState.cache)}return wi(t,n,r)}function Kg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!jf(t,r)&&(n.flags&128)===0)return Ce=!1,UE(t,n,r);Ce=(t.flags&131072)!==0}else Ce=!1,zt&&(n.flags&1048576)!==0&&wm(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Zc(l)?(t=sr(l,t),n.tag=1,n=Gg(null,n,l,t,r)):(n.tag=0,n=Uf(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===It){n.tag=11,n=zg(null,n,l,t,r);break t}else if(c===M){n.tag=14,n=kg(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(s(306,n,""))}}return n;case 0:return Uf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=sr(l,n.pendingProps),Gg(t,n,l,c,r);case 3:t:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,ff(t,n),dl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Yi(n,Ee,l),l!==h.cache&&rf(n,[Ee],r,!0),hl(),l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Yg(t,n,l,r);break t}else if(l!==c){c=vn(Error(s(424)),n),rl(c),n=Yg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=xn(t.firstChild),Ze=n,zt=!0,tr=null,Xn=!0,r=Dg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(al(),l===c){n=wi(t,n,r);break t}Ue(t,n,l,r)}n=n.child}return n;case 26:return hu(t,n),t===null?(r=Wp(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,t=n.pendingProps,l=Du(yt.current).createElement(r),l[ye]=n,l[he]=t,Le(l,r,t),oe(l),n.stateNode=l):n.memoizedState=Wp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Li(n),t===null&&zt&&(l=n.stateNode=Zp(n.type,n.pendingProps,yt.current),Ze=n,Xn=!0,c=re,sa(n.type)?(Ah=c,re=xn(l.firstChild)):re=c),Ue(t,n,n.pendingProps.children,r),hu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=re)&&(l=uT(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Ze=n,re=xn(l.firstChild),Xn=!1,c=!0):c=!1),c||er(n)),Li(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,_h(c,h)?l=null:y!==null&&_h(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=yf(t,n,DE,null,null,r),Ul._currentValue=c),hu(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&zt&&((t=r=re)&&(r=cT(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Ze=n,re=null,t=!0):t=!1),t||er(n)),null;case 13:return Fg(t,n,r);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ts(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return zg(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Yi(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ir(n),c=je(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return kg(t,n,n.type,n.pendingProps,r);case 15:return Bg(t,n,n.type,n.pendingProps,r);case 19:return Xg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=du(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=_i(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return qg(t,n,r);case 24:return ir(n),l=je(Ee),t===null?(c=of(),c===null&&(c=Jt,h=sf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},cf(n),Yi(n,Ee,c)):((t.lanes&r)!==0&&(ff(t,n),dl(n,null,null,r),hl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Yi(n,Ee,l)):(l=h.cache,Yi(n,Ee,l),l!==c.cache&&rf(n,[Ee],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ri(t){t.flags|=4}function Zg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ay(n)){if(n=Sn.current,n!==null&&((Mt&4194048)===Mt?Kn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Kn))throw cl=uf,Nm;t.flags|=8192}}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ls():536870912,t.lanes|=n,as|=n)}function El(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function PE(t,n,r){var l=n.pendingProps;switch(tf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Ee),Pn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(il(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Ri(n),r!==null?(ee(n),Zg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ri(n),ee(n),Zg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),ee(n),n.flags&=-16777217),null;case 27:ri(n),r=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ut.current,il(n)?Rm(n):(t=Zp(c,l,r),n.stateNode=t,Ri(n))}return ee(n),null;case 5:if(ri(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ut.current,il(n))Rm(n);else{switch(c=Du(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ye]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=yt.current,il(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Hp(t.nodeValue,r)),t||er(n)}else t=Du(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=il(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else al(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Cm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),mu(n,n.updateQueue),ee(n),null;case 4:return Pn(),t===null&&dh(n.stateNode.containerInfo),ee(n),null;case 10:return Ai(n.type),ee(n),null;case 19:if(nt(Te),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)El(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=uu(t),h!==null){for(n.flags|=128,El(c,!1),t=h.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)bm(r,t),r=r.sibling;return W(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>yu&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304)}else{if(!l)if(t=uu(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),El(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!zt)return ee(n),null}else 2*dn()-c.renderingStartTime>yu&&r!==536870912&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Te.current,W(Te,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return bi(n),gf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&mu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(ar),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function LE(t,n){switch(tf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Ee),Pn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));al()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Te),null;case 4:return Pn(),null;case 10:return Ai(n.type),null;case 22:case 23:return bi(n),gf(),t!==null&&nt(ar),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Ee),null;case 25:return null;default:return null}}function $g(t,n){switch(tf(n),n.tag){case 3:Ai(Ee),Pn();break;case 26:case 27:case 5:ri(n);break;case 4:Pn();break;case 13:bi(n);break;case 19:nt(Te);break;case 10:Ai(n.type);break;case 22:case 23:bi(n),gf(),t!==null&&nt(ar);break;case 24:Ai(Ee)}}function Tl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var h=r.create,y=r.inst;l=h(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function Ji(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,z=E;try{z()}catch(Y){Zt(c,b,Y)}}}l=l.next}while(l!==h)}}catch(Y){Zt(n,n.return,Y)}}function Jg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{km(n,r)}catch(l){Zt(t,t.return,l)}}}function Wg(t,n,r){r.props=sr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(t,n,l)}}function Al(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Zt(t,n,c)}}function Zn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(t,n,c)}else r.current=null}function tp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Zt(t,t.return,c)}}function Hf(t,n,r){try{var l=t.stateNode;aT(l,t.type,r,n),l[he]=n}catch(c){Zt(t,t.return,c)}}function ep(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sa(t.type)||t.tag===4}function Gf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ru));else if(l!==4&&(l===27&&sa(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Yf(t,n,r),t=t.sibling;t!==null;)Yf(t,n,r),t=t.sibling}function gu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&sa(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(gu(t,n,r),t=t.sibling;t!==null;)gu(t,n,r),t=t.sibling}function np(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,r),n[ye]=t,n[he]=r}catch(h){Zt(t,t.return,h)}}var Di=!1,ce=!1,Ff=!1,ip=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function zE(t,n){if(t=t.containerInfo,ph=Nu,t=mm(t),Hc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,z=0,Y=0,Q=t,k=null;e:for(;;){for(var B;Q!==r||c!==0&&Q.nodeType!==3||(E=y+c),Q!==h||l!==0&&Q.nodeType!==3||(b=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(B=Q.firstChild)!==null;)k=Q,Q=B;for(;;){if(Q===t)break e;if(k===r&&++z===c&&(E=y),k===h&&++Y===l&&(b=y),(B=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(yh={focusedElem:t,selectionRange:r},Nu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var gt=sr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(gt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Zt(r,r.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Eh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Eh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function ap(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(t,r),l&4&&Tl(5,r);break;case 1:if(Wi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Zt(r,r.return,y)}else{var c=sr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Zt(r,r.return,y)}}l&64&&Jg(r),l&512&&Al(r,r.return);break;case 3:if(Wi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{km(t,n)}catch(y){Zt(r,r.return,y)}}break;case 27:n===null&&l&4&&np(r);case 26:case 5:Wi(t,r),n===null&&l&4&&tp(r),l&512&&Al(r,r.return);break;case 12:Wi(t,r);break;case 13:Wi(t,r),l&4&&lp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=QE.bind(null,r),fT(t,r))));break;case 22:if(l=r.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||ce,c=Di;var h=ce;Di=l,(ce=n)&&!h?ta(t,r,(r.subtreeFlags&8772)!==0):Wi(t,r),Di=c,ce=h}break;case 30:break;default:Wi(t,r)}}function rp(t){var n=t.alternate;n!==null&&(t.alternate=null,rp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Je=!1;function Ci(t,n,r){for(r=r.child;r!==null;)sp(t,n,r),r=r.sibling}function sp(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:ce||Zn(r,n),Ci(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Zn(r,n);var l=te,c=Je;sa(r.type)&&(te=r.stateNode,Je=!1),Ci(t,n,r),Vl(r.stateNode),te=l,Je=c;break;case 5:ce||Zn(r,n);case 6:if(l=te,c=Je,te=null,Ci(t,n,r),te=l,Je=c,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(h){Zt(r,n,h)}else try{te.removeChild(r.stateNode)}catch(h){Zt(r,n,h)}break;case 18:te!==null&&(Je?(t=te,Xp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),kl(t)):Xp(te,r.stateNode));break;case 4:l=te,c=Je,te=r.stateNode.containerInfo,Je=!0,Ci(t,n,r),te=l,Je=c;break;case 0:case 11:case 14:case 15:ce||Ji(2,r,n),ce||Ji(4,r,n),Ci(t,n,r);break;case 1:ce||(Zn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Wg(r,n,l)),Ci(t,n,r);break;case 21:Ci(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Ci(t,n,r),ce=l;break;default:Ci(t,n,r)}}function lp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(r){Zt(n,n.return,r)}}function kE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ip),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ip),n;default:throw Error(s(435,t.tag))}}function Qf(t,n){var r=kE(t);n.forEach(function(l){var c=XE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(sa(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(s(160));sp(h,y,c),te=null,Je=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)op(n,t),n=n.sibling}var Nn=null;function op(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Ji(3,t,t.return),Tl(3,t),Ji(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(ce||r===null||Zn(r,r.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Nn;if(ln(n,t),on(t),l&512&&(ce||r===null||Zn(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ua]||h[ye]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Le(h,l,r),h[ye]=t,oe(h),l=h;break t;case"link":var y=ny("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,r),c.head.appendChild(h);break;case"meta":if(y=ny("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,r),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[ye]=t,oe(h),l=h}t.stateNode=l}else iy(c,t.type,t.stateNode);else t.stateNode=ey(c,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?iy(c,t.type,t.stateNode):ey(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(ce||r===null||Zn(r,r.return)),r!==null&&l&4&&Hf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(ce||r===null||Zn(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(B){Zt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Hf(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ff=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Zt(t,t.return,B)}}break;case 3:if(Ou=null,c=Nn,Nn=Cu(n.containerInfo),ln(n,t),Nn=c,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{kl(n.containerInfo)}catch(B){Zt(t,t.return,B)}Ff&&(Ff=!1,up(t));break;case 4:l=Nn,Nn=Cu(t.stateNode.containerInfo),ln(n,t),on(t),Nn=l;break;case 12:ln(n,t),on(t);break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wf=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qf(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,z=Di,Y=ce;if(Di=z||c,ce=Y||b,ln(n,t),ce=Y,Di=z,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Di||ce||lr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(h=b.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Zt(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){Zt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Qf(t,r))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qf(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(ep(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,h=Gf(t);gu(t,h,c);break;case 5:var y=r.stateNode;r.flags&32&&(gn(y,""),r.flags&=-33);var E=Gf(t);gu(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,z=Gf(t);Yf(t,z,b);break;default:throw Error(s(161))}}catch(Y){Zt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function up(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;up(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ap(t,n.alternate,n),n=n.sibling}function lr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ji(4,n,n.return),lr(n);break;case 1:Zn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Wg(n,n.return,r),lr(n);break;case 27:Vl(n.stateNode);case 26:case 5:Zn(n,n.return),lr(n);break;case 22:n.memoizedState===null&&lr(n);break;case 30:lr(n);break;default:lr(n)}t=t.sibling}}function ta(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:ta(c,h,r),Tl(4,h);break;case 1:if(ta(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)zm(b[c],E)}catch(z){Zt(l,l.return,z)}}r&&y&64&&Jg(h),Al(h,h.return);break;case 27:np(h);case 26:case 5:ta(c,h,r),r&&l===null&&y&4&&tp(h),Al(h,h.return);break;case 12:ta(c,h,r);break;case 13:ta(c,h,r),r&&y&4&&lp(c,h);break;case 22:h.memoizedState===null&&ta(c,h,r),Al(h,h.return);break;case 30:break;default:ta(c,h,r)}n=n.sibling}}function Xf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ll(r))}function Kf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function $n(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cp(t,n,r,l),n=n.sibling}function cp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,r,l),c&2048&&Tl(9,n);break;case 1:$n(t,n,r,l);break;case 3:$n(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){$n(t,n,r,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Zt(n,n.return,b)}}else $n(t,n,r,l);break;case 13:$n(t,n,r,l);break;case 23:break;case 22:h=n.stateNode,y=n.alternate,n.memoizedState!==null?h._visibility&2?$n(t,n,r,l):Sl(t,n):h._visibility&2?$n(t,n,r,l):(h._visibility|=2,es(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Xf(y,n);break;case 24:$n(t,n,r,l),c&2048&&Kf(n.alternate,n);break;default:$n(t,n,r,l)}}function es(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,E=r,b=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:es(h,y,E,b,c),Tl(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?es(h,y,E,b,c):Sl(h,y):(Y._visibility|=2,es(h,y,E,b,c)),c&&z&2048&&Xf(y.alternate,y);break;case 24:es(h,y,E,b,c),c&&z&2048&&Kf(y.alternate,y);break;default:es(h,y,E,b,c)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Sl(r,l),c&2048&&Xf(l.alternate,l);break;case 24:Sl(r,l),c&2048&&Kf(l.alternate,l);break;default:Sl(r,l)}n=n.sibling}}var bl=8192;function ns(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)fp(t),t=t.sibling}function fp(t){switch(t.tag){case 26:ns(t),t.flags&bl&&t.memoizedState!==null&&bT(Nn,t.memoizedState,t.memoizedProps);break;case 5:ns(t);break;case 3:case 4:var n=Nn;Nn=Cu(t.stateNode.containerInfo),ns(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,ns(t),bl=n):ns(t));break;default:ns(t)}}function hp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,mp(l,t)}hp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dp(t),t=t.sibling}function dp(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Ji(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pu(t)):wl(t);break;default:wl(t)}}function pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,mp(l,t)}hp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ji(8,n,n.return),pu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,pu(n));break;default:pu(n)}t=t.sibling}}function mp(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:Ji(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,h=l.return;if(rp(l),l===r){Ie=null;break t}if(c!==null){c.return=h,Ie=c;break t}Ie=h}}}var BE={getCacheForType:function(t){var n=je(Ee),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},qE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Rt=null,Mt=0,Gt=0,un=null,ea=!1,is=!1,Zf=!1,Ii=0,se=0,na=0,or=0,$f=0,bn=0,as=0,Rl=null,We=null,Jf=!1,Wf=0,yu=1/0,_u=null,ia=null,Pe=0,aa=null,rs=null,ss=0,th=0,eh=null,gp=null,Dl=0,nh=null;function cn(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(G.T!==null){var t=Qr;return t!==0?t:uh()}return ki()}function pp(){bn===0&&(bn=(Mt&536870912)===0||zt?Ps():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function fn(t,n,r){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(ls(t,0),ra(t,Mt,bn,!1)),li(t,r),((Ht&2)===0||t!==Jt)&&(t===Jt&&((Ht&2)===0&&(or|=r),se===4&&ra(t,Mt,bn,!1)),Jn(t))}function yp(t,n,r){if((Ht&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||xa(t,n),c=l?GE(t,n):rh(t,n,!0),h=l;do{if(c===0){is&&!l&&ra(t,n,0,!1);break}else{if(r=t.current.alternate,h&&!jE(r)){c=rh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Rl;var b=E.current.memoizedState.isDehydrated;if(b&&(ls(E,y).flags|=256),y=rh(E,y,!1),y!==2){if(Zf&&!b){E.errorRecoveryDisabledLanes|=h,or|=h,c=4;break t}h=We,We=c,h!==null&&(We===null?We=h:We.push.apply(We,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){ls(t,0),ra(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ra(l,n,bn,!ea);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Wf+300-dn(),10<c)){if(ra(l,n,bn,!ea),br(l,0,!0)!==0)break t;l.timeoutHandle=Fp(_p.bind(null,l,r,We,_u,Jf,n,bn,or,as,ea,h,2,-0,0),c);break t}_p(l,r,We,_u,Jf,n,bn,or,as,ea,h,0,-0,0)}}break}while(!0);Jn(t)}function _p(t,n,r,l,c,h,y,E,b,z,Y,Q,k,B){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:ST},fp(n),Q=wT(),Q!==null)){t.cancelPendingCommit=Q(wp.bind(null,t,n,h,r,l,c,y,E,b,Y,1,k,B)),ra(t,h,y,!z);return}wp(t,n,h,r,l,c,y,E,b)}function jE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!rn(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ra(t,n,r,l){n&=~$f,n&=~or,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-qe(c),y=1<<h;l[h]=-1,c&=~y}r!==0&&Ln(t,r,n)}function vu(){return(Ht&6)===0?(Cl(0),!1):!0}function ih(){if(Rt!==null){if(Gt===0)var t=Rt.return;else t=Rt,Ti=nr=null,Ef(t),Wr=null,_l=0,t=Rt;for(;t!==null;)$g(t.alternate,t),t=t.return;Rt=null}}function ls(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ih(),Jt=t,Rt=r=_i(t.current,null),Mt=n,Gt=0,un=null,ea=!1,is=xa(t,n),Zf=!1,as=bn=$f=or=na=se=0,We=Rl=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),h=1<<c;n|=t[c],l&=~h}return Ii=n,qo(),r}function vp(t,n){At=null,G.H=su,n===ul||n===Zo?(n=Pm(),Gt=3):n===Nm?(n=Pm(),Gt=4):Gt=n===Lg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Rt===null&&(se=1,fu(t,vn(n,t.current)))}function Ep(){var t=G.H;return G.H=su,t===null?su:t}function Tp(){var t=G.A;return G.A=BE,t}function ah(){se=4,ea||(Mt&4194048)!==Mt&&Sn.current!==null||(is=!0),(na&134217727)===0&&(or&134217727)===0||Jt===null||ra(Jt,Mt,bn,!1)}function rh(t,n,r){var l=Ht;Ht|=2;var c=Ep(),h=Tp();(Jt!==t||Mt!==n)&&(_u=null,ls(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&Rt!==null){var E=Rt,b=un;switch(Gt){case 8:ih(),y=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=Gt;if(Gt=0,un=null,os(t,E,b,z),r&&is){y=0;break t}break;default:z=Gt,Gt=0,un=null,os(t,E,b,z)}}HE(),y=se;break}catch(Y){vp(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Ti=nr=null,Ht=l,G.H=c,G.A=h,Rt===null&&(Jt=null,Mt=0,qo()),y}function HE(){for(;Rt!==null;)Ap(Rt)}function GE(t,n){var r=Ht;Ht|=2;var l=Ep(),c=Tp();Jt!==t||Mt!==n?(_u=null,yu=dn()+500,ls(t,n)):is=xa(t,n);t:do try{if(Gt!==0&&Rt!==null){n=Rt;var h=un;e:switch(Gt){case 1:Gt=0,un=null,os(t,n,h,1);break;case 2:case 9:if(xm(h)){Gt=0,un=null,Sp(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),Jn(t)},h.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:xm(h)?(Gt=0,un=null,Sp(n)):(Gt=0,un=null,os(t,n,h,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||ay(y)){Gt=0,un=null;var b=E.sibling;if(b!==null)Rt=b;else{var z=E.return;z!==null?(Rt=z,Eu(z)):Rt=null}break e}}Gt=0,un=null,os(t,n,h,5);break;case 6:Gt=0,un=null,os(t,n,h,6);break;case 8:ih(),se=6;break t;default:throw Error(s(462))}}YE();break}catch(Y){vp(t,Y)}while(!0);return Ti=nr=null,G.H=l,G.A=c,Ht=r,Rt!==null?0:(Jt=null,Mt=0,qo(),se)}function YE(){for(;Rt!==null&&!Ms();)Ap(Rt)}function Ap(t){var n=Kg(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?Eu(t):Rt=n}function Sp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Hg(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Hg(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Ef(n);default:$g(r,n),n=Rt=bm(n,Ii),n=Kg(r,n,Ii)}t.memoizedProps=t.pendingProps,n===null?Eu(t):Rt=n}function os(t,n,r,l){Ti=nr=null,Ef(n),Wr=null,_l=0;var c=n.return;try{if(xE(t,c,n,r,Mt)){se=1,fu(t,vn(r,t.current)),Rt=null;return}}catch(h){if(c!==null)throw Rt=c,h;se=1,fu(t,vn(r,t.current)),Rt=null;return}n.flags&32768?(zt||l===1?t=!0:is||(Mt&536870912)!==0?t=!1:(ea=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),bp(n,t)):Eu(n)}function Eu(t){var n=t;do{if((n.flags&32768)!==0){bp(n,ea);return}t=n.return;var r=PE(n.alternate,n,Ii);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);se===0&&(se=5)}function bp(t,n){do{var r=LE(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);se=6,Rt=null}function wp(t,n,r,l,c,h,y,E,b){t.cancelPendingCommit=null;do Tu();while(Pe!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Xc,zs(t,r,h,y,E,b),t===Jt&&(Rt=Jt=null,Mt=0),rs=n,aa=t,ss=r,th=h,eh=c,gp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,KE(Oa,function(){return Op(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=et.p,et.p=2,y=Ht,Ht|=4;try{zE(t,n,r)}finally{Ht=y,et.p=c,G.T=l}}Pe=1,Rp(),Dp(),Cp()}}function Rp(){if(Pe===1){Pe=0;var t=aa,n=rs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{op(n,t);var h=yh,y=mm(t.containerInfo),E=h.focusedElem,b=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&dm(E.ownerDocument.documentElement,E)){if(b!==null&&Hc(E)){var z=b.start,Y=b.end;if(Y===void 0&&(Y=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Y,E.value.length);else{var Q=E.ownerDocument||document,k=Q&&Q.defaultView||window;if(k.getSelection){var B=k.getSelection(),gt=E.textContent.length,ft=Math.min(b.start,gt),Kt=b.end===void 0?ft:Math.min(b.end,gt);!B.extend&&ft>Kt&&(y=Kt,Kt=ft,ft=y);var x=hm(E,ft),I=hm(E,Kt);if(x&&I&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==I.node||B.focusOffset!==I.offset)){var L=Q.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),ft>Kt?(B.addRange(L),B.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),B.addRange(L))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Nu=!!ph,yh=ph=null}finally{Ht=c,et.p=l,G.T=r}}t.current=n,Pe=2}}function Dp(){if(Pe===2){Pe=0;var t=aa,n=rs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{ap(t,n.alternate,n)}finally{Ht=c,et.p=l,G.T=r}}Pe=3}}function Cp(){if(Pe===4||Pe===3){Pe=0,po();var t=aa,n=rs,r=ss,l=gp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,rs=aa=null,Ip(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ia=null),wr(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=et.p,et.p=2,G.T=null;try{for(var h=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];h(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=c}}(ss&3)!==0&&Tu(),Jn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===nh?Dl++:(Dl=0,nh=t):Dl=0,Cl(0)}}function Ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function Tu(t){return Rp(),Dp(),Cp(),Op()}function Op(){if(Pe!==5)return!1;var t=aa,n=th;th=0;var r=wr(ss),l=G.T,c=et.p;try{et.p=32>r?32:r,G.T=null,r=eh,eh=null;var h=aa,y=ss;if(Pe=0,rs=aa=null,ss=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,dp(h.current),cp(h,h.current,y,r),Ht=E,Cl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ae,h)}catch{}return!0}finally{et.p=c,G.T=l,Ip(t,n)}}function Vp(t,n,r){n=vn(r,n),n=xf(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(li(t,2),Jn(t))}function Zt(t,n,r){if(t.tag===3)Vp(t,t,r);else for(;n!==null;){if(n.tag===3){Vp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ia===null||!ia.has(l))){t=vn(r,t),r=Ug(2),l=Xi(n,r,2),l!==null&&(Pg(r,l,n,t),li(l,2),Jn(l));break}}n=n.return}}function sh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new qE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Zf=!0,c.add(r),t=FE.bind(null,t,n,r),n.then(t,t))}function FE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Mt&r)===r&&(se===4||se===3&&(Mt&62914560)===Mt&&300>dn()-Wf?(Ht&2)===0&&ls(t,0):$f|=r,as===Mt&&(as=0)),Jn(t)}function Mp(t,n){n===0&&(n=Ls()),t=Hr(t,n),t!==null&&(li(t,n),Jn(t))}function QE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Mp(t,r)}function XE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Mp(t,r)}function KE(t,n){return Ca(t,n)}var Au=null,us=null,lh=!1,Su=!1,oh=!1,ur=0;function Jn(t){t!==us&&t.next===null&&(us===null?Au=us=t:us=us.next=t),Su=!0,lh||(lh=!0,$E())}function Cl(t,n){if(!oh&&Su){oh=!0;do for(var r=!1,l=Au;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-qe(42|t)+1)-1,h&=c&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,Pp(l,h))}else h=Mt,h=br(l,l===Jt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||xa(l,h)||(r=!0,Pp(l,h));l=l.next}while(r);oh=!1}}function ZE(){Np()}function Np(){Su=lh=!1;var t=0;ur!==0&&(rT()&&(t=ur),ur=0);for(var n=dn(),r=null,l=Au;l!==null;){var c=l.next,h=xp(l,n);h===0?(l.next=null,r===null?Au=c:r.next=c,c===null&&(us=r)):(r=l,(t!==0||(h&3)!==0)&&(Su=!0)),l=c}Cl(t)}function xp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-qe(h),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Us(E,n)):b<=n&&(t.expiredLanes|=E),h&=~E}if(n=Jt,r=Mt,r=br(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ia(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||xa(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ia(l),wr(r)){case 2:case 8:r=Ar;break;case 32:r=Oa;break;case 268435456:r=Sr;break;default:r=Oa}return l=Up.bind(null,t),r=Ca(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ia(l),t.callbackPriority=2,t.callbackNode=null,2}function Up(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Tu()&&t.callbackNode!==r)return null;var l=Mt;return l=br(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(yp(t,l,n),xp(t,dn()),t.callbackNode!=null&&t.callbackNode===r?Up.bind(null,t):null)}function Pp(t,n){if(Tu())return null;yp(t,n,!0)}function $E(){lT(function(){(Ht&6)!==0?Ca(Ns,ZE):Np()})}function uh(){return ur===0&&(ur=Ps()),ur}function Lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vr(""+t)}function zp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function JE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=Lp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?Lp(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var E=new Mr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ur!==0){var b=y?zp(c,y):new FormData(c);If(r,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=y?zp(c,y):new FormData(c),If(r,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var ch=0;ch<Qc.length;ch++){var fh=Qc[ch],WE=fh.toLowerCase(),tT=fh[0].toUpperCase()+fh.slice(1);Mn(WE,"on"+tT)}Mn(ym,"onAnimationEnd"),Mn(_m,"onAnimationIteration"),Mn(vm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(yE,"onTransitionRun"),Mn(_E,"onTransitionStart"),Mn(vE,"onTransitionCancel"),Mn(Em,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function kp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,z=E.currentTarget;if(E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=z;try{h(c)}catch(Y){cu(Y)}c.currentTarget=null,h=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,z=E.currentTarget,E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=z;try{h(c)}catch(Y){cu(Y)}c.currentTarget=null,h=b}}}}function Dt(t,n){var r=n[Bs];r===void 0&&(r=n[Bs]=new Set);var l=t+"__bubble";r.has(l)||(Bp(n,t,2,!1),r.add(l))}function hh(t,n,r){var l=0;n&&(l|=4),Bp(r,t,l,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function dh(t){if(!t[bu]){t[bu]=!0,qs.forEach(function(r){r!=="selectionchange"&&(eT.has(r)||hh(r,!1,t),hh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bu]||(n[bu]=!0,hh("selectionchange",!1,n))}}function Bp(t,n,r,l){switch(cy(n)){case 2:var c=CT;break;case 8:c=IT;break;default:c=Dh}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function mh(t,n,r,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=h=y;continue t}E=E.parentNode}}l=l.return}Ro(function(){var z=h,Y=pn(r),Q=[];t:{var k=Tm.get(t);if(k!==void 0){var B=Mr,gt=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":B=zr;break;case"focusin":gt="focus",B=Ur;break;case"focusout":gt="blur",B=Ur;break;case"beforeblur":case"afterblur":B=Ur;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=xo;break;case ym:case _m:case vm:B=Pr;break;case Em:B=Po;break;case"scroll":case"scrollend":B=Do;break;case"wheel":B=kr;break;case"copy":case"cut":case"paste":B=Lr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ws;break;case"toggle":case"beforetoggle":B=zo}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),x=ft?k!==null?k+"Capture":null:k;ft=[];for(var I=z,L;I!==null;){var F=I;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||x===null||(F=ja(I,x),F!=null&&ft.push(Ol(I,F,L))),Kt)break;I=I.return}0<ft.length&&(k=new B(k,gt,null,r,Y),Q.push({event:k,listeners:ft}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&r!==hi&&(gt=r.relatedTarget||r.fromElement)&&(oi(gt)||gt[mn]))break t;if((B||k)&&(k=Y.window===Y?Y:(k=Y.ownerDocument)?k.defaultView||k.parentWindow:window,B?(gt=r.relatedTarget||r.toElement,B=z,gt=gt?oi(gt):null,gt!==null&&(Kt=f(gt),ft=gt.tag,gt!==Kt||ft!==5&&ft!==27&&ft!==6)&&(gt=null)):(B=null,gt=z),B!==gt)){if(ft=_n,F="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ft=Ws,F="onPointerLeave",x="onPointerEnter",I="pointer"),Kt=B==null?k:kn(B),L=gt==null?k:kn(gt),k=new ft(F,I+"leave",B,r,Y),k.target=Kt,k.relatedTarget=L,F=null,oi(Y)===z&&(ft=new ft(x,I+"enter",gt,r,Y),ft.target=L,ft.relatedTarget=Kt,F=ft),Kt=F,B&&gt)e:{for(ft=B,x=gt,I=0,L=ft;L;L=cs(L))I++;for(L=0,F=x;F;F=cs(F))L++;for(;0<I-L;)ft=cs(ft),I--;for(;0<L-I;)x=cs(x),L--;for(;I--;){if(ft===x||x!==null&&ft===x.alternate)break e;ft=cs(ft),x=cs(x)}ft=null}else ft=null;B!==null&&qp(Q,k,B,ft,!1),gt!==null&&Kt!==null&&qp(Q,Kt,gt,ft,!0)}}t:{if(k=z?kn(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var at=sm;else if(ve(k))if(lm)at=mE;else{at=hE;var wt=fE}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Fs(z.elementType)&&(at=sm):at=dE;if(at&&(at=at(t,z))){yi(Q,at,r,Y);break t}wt&&wt(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Hi(k,"number",k.value)}switch(wt=z?kn(z):window,t){case"focusin":(ve(wt)||wt.contentEditable==="true")&&(Br=wt,Gc=z,nl=null);break;case"focusout":nl=Gc=Br=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,gm(Q,r,Y);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":gm(Q,r,Y)}var st;if(Fn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Ot?q(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(Ot||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ot&&(st=Xs()):(jn=Y,Gi="value"in jn?jn.value:jn.textContent,Ot=!0)),wt=wu(z,mt),0<wt.length&&(mt=new $s(mt,t,null,r,Y),Q.push({event:mt,listeners:wt}),st?mt.data=st:(st=tt(r),st!==null&&(mt.data=st)))),(st=m?_e(t,r):Vt(t,r))&&(mt=wu(z,"onBeforeInput"),0<mt.length&&(wt=new $s("onBeforeInput","beforeinput",null,r,Y),Q.push({event:wt,listeners:mt}),wt.data=st)),JE(Q,t,z,r,Y)}kp(Q,n)})}function Ol(t,n,r){return{instance:t,listener:n,currentTarget:r}}function wu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=ja(t,r),c!=null&&l.unshift(Ol(t,c,h)),c=ja(t,n),c!=null&&l.push(Ol(t,c,h))),t.tag===3)return l;t=t.return}return[]}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qp(t,n,r,l,c){for(var h=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,z=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||z===null||(b=z,c?(z=ja(r,h),z!=null&&y.unshift(Ol(r,z,b))):c||(z=ja(r,h),z!=null&&y.push(Ol(r,z,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var nT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function jp(t){return(typeof t=="string"?t:""+t).replace(nT,`
`).replace(iT,"")}function Hp(t,n){return n=jp(n),jp(t)===n}function Ru(){}function Xt(t,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":Ys(t,l,h);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Vr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Vr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Vr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),ji(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Lc.get(r)||r,ji(t,r,l))}}function gh(t,n,r,l,c,h){switch(r){case"style":Ys(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rr.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[he]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ji(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var y=r[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,h,y,r,null)}}c&&Xt(t,n,"srcSet",r.srcSet,r,null),l&&Xt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=h=y=c=null,b=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Y=r[l];if(Y!=null)switch(l){case"name":c=Y;break;case"type":y=Y;break;case"checked":b=Y;break;case"defaultChecked":z=Y;break;case"value":h=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Xt(t,n,l,Y,r,null)}}ka(t,h,E,b,z,y,c,!1),Or(t);return;case"select":Dt("invalid",t),l=y=h=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Xt(t,n,c,E,r,null)}n=h,r=y,t.multiple=!!l,n!=null?fi(t,!!l,n,!1):r!=null&&fi(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),h=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(t,n,y,E,r,null)}Ba(t,l,c,h),Or(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,b,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)Dt(Il[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,z,l,r,null)}return;default:if(Fs(n)){for(Y in r)r.hasOwnProperty(Y)&&(l=r[Y],l!==void 0&&gh(t,n,Y,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Xt(t,n,E,l,r,null))}function aT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,b=null,z=null,Y=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:l.hasOwnProperty(B)||Xt(t,n,B,null,l,Q)}}for(var k in l){var B=l[k];if(Q=r[k],l.hasOwnProperty(k)&&(B!=null||Q!=null))switch(k){case"type":h=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":Y=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Q&&Xt(t,n,k,B,l,Q)}}an(t,y,E,b,z,Y,h,c);return;case"select":B=y=E=k=null;for(h in r)if(b=r[h],r.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(h)||Xt(t,n,h,null,l,b)}for(c in l)if(h=l[c],b=r[c],l.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":k=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==b&&Xt(t,n,c,h,l,b)}n=E,r=y,l=B,k!=null?fi(t,!!r,k,!1):!!l!=!!r&&(n!=null?fi(t,!!r,n,!0):fi(t,!!r,r?[]:"",!1));return;case"textarea":B=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(y in l)if(c=l[y],h=r[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Xt(t,n,y,c,l,h)}Ft(t,k,B);return;case"option":for(var gt in r)if(k=r[gt],r.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Xt(t,n,gt,null,l,k)}for(b in l)if(k=l[b],B=r[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Xt(t,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)k=r[ft],r.hasOwnProperty(ft)&&k!=null&&!l.hasOwnProperty(ft)&&Xt(t,n,ft,null,l,k);for(z in l)if(k=l[z],B=r[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Xt(t,n,z,k,l,B)}return;default:if(Fs(n)){for(var Kt in r)k=r[Kt],r.hasOwnProperty(Kt)&&k!==void 0&&!l.hasOwnProperty(Kt)&&gh(t,n,Kt,void 0,l,k);for(Y in l)k=l[Y],B=r[Y],!l.hasOwnProperty(Y)||k===B||k===void 0&&B===void 0||gh(t,n,Y,k,l,B);return}}for(var x in r)k=r[x],r.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Xt(t,n,x,null,l,k);for(Q in l)k=l[Q],B=r[Q],!l.hasOwnProperty(Q)||k===B||k==null&&B==null||Xt(t,n,Q,k,l,B)}var ph=null,yh=null;function Du(t){return t.nodeType===9?t:t.ownerDocument}function Gp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _h(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vh=null;function rT(){var t=window.event;return t&&t.type==="popstate"?t===vh?!1:(vh=t,!0):(vh=null,!1)}var Fp=typeof setTimeout=="function"?setTimeout:void 0,sT=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,lT=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(t){return Qp.resolve(null).then(t).catch(oT)}:Fp;function oT(t){setTimeout(function(){throw t})}function sa(t){return t==="head"}function Xp(t,n){var r=n,l=0,c=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Vl(y.documentElement),r&2&&Vl(y.body),r&4)for(r=y.head,Vl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ua]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(h),kl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=h}while(r);kl(n)}function Eh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Eh(r),qi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function uT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ua])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function cT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=xn(t.nextSibling),t===null))return null;return t}function Th(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Ah=null;function Kp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Zp(t,n,r){switch(n=Du(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qi(t)}var wn=new Map,$p=new Set;function Cu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=et.d;et.d={f:hT,r:dT,D:mT,C:gT,L:pT,m:yT,X:vT,S:_T,M:ET};function hT(){var t=Oi.f(),n=vu();return t||n}function dT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?yg(n):Oi.r(t)}var fs=typeof document>"u"?null:document;function Jp(t,n,r){var l=fs;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),$p.has(c)||($p.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),oe(n),l.head.appendChild(n)))}}function mT(t){Oi.D(t),Jp("dns-prefetch",t,null)}function gT(t,n){Oi.C(t,n),Jp("preconnect",t,n)}function pT(t,n,r){Oi.L(t,n,r);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var h=c;switch(n){case"style":h=hs(t);break;case"script":h=ds(t)}wn.has(h)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ml(h))||n==="script"&&l.querySelector(Nl(h))||(n=l.createElement("link"),Le(n,"link",t),oe(n),l.head.appendChild(n)))}}function yT(t,n){Oi.m(t,n);var r=fs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ds(t)}if(!wn.has(h)&&(t=A({rel:"modulepreload",href:t},n),wn.set(h,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Nl(h)))return}l=r.createElement("link"),Le(l,"link",t),oe(l),r.head.appendChild(l)}}}function _T(t,n,r){Oi.S(t,n,r);var l=fs;if(l&&t){var c=Qe(l).hoistableStyles,h=hs(t);n=n||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Ml(h)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(h))&&Sh(t,r);var b=y=l.createElement("link");oe(b),Le(b,"link",t),b._p=new Promise(function(z,Y){b.onload=z,b.onerror=Y}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Iu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function vT(t,n){Oi.X(t,n);var r=fs;if(r&&t){var l=Qe(r).hoistableScripts,c=ds(t),h=l.get(c);h||(h=r.querySelector(Nl(c)),h||(t=A({src:t,async:!0},n),(n=wn.get(c))&&bh(t,n),h=r.createElement("script"),oe(h),Le(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function ET(t,n){Oi.M(t,n);var r=fs;if(r&&t){var l=Qe(r).hoistableScripts,c=ds(t),h=l.get(c);h||(h=r.querySelector(Nl(c)),h||(t=A({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&bh(t,n),h=r.createElement("script"),oe(h),Le(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Wp(t,n,r,l){var c=(c=yt.current)?Cu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=hs(r.href),r=Qe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=hs(r.href);var h=Qe(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(Ml(t)))&&!h._p&&(y.instance=h,y.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),h||TT(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ds(r),r=Qe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function hs(t){return'href="'+de(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function ty(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function TT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),oe(n),t.head.appendChild(n))}function ds(t){return'[src="'+de(t)+'"]'}function Nl(t){return"script[async]"+t}function ey(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Le(l,"style",c),Iu(l,r.precedence,t),n.instance=l;case"stylesheet":c=hs(r.href);var h=t.querySelector(Ml(c));if(h)return n.state.loading|=4,n.instance=h,oe(h),h;l=ty(r),(c=wn.get(c))&&Sh(l,c),h=(t.ownerDocument||t).createElement("link"),oe(h);var y=h;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(h,"link",l),n.state.loading|=4,Iu(h,r.precedence,t),n.instance=h;case"script":return h=ds(r.src),(c=t.querySelector(Nl(h)))?(n.instance=c,oe(c),c):(l=r,(c=wn.get(h))&&(l=A({},r),bh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Iu(l,r.precedence,t));return n.instance}function Iu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Sh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ou=null;function ny(t,n,r){if(Ou===null){var l=new Map,c=Ou=new Map;c.set(r,l)}else c=Ou,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[Ua]||h[ye]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function iy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function AT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ay(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function ST(){}function bT(t,n,r){if(xl===null)throw Error(s(475));var l=xl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=hs(r.href),h=t.querySelector(Ml(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,oe(h);return}h=t.ownerDocument||t,r=ty(r),(c=wn.get(c))&&Sh(r,c),h=h.createElement("link"),oe(h);var y=h;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Vu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function wT(){if(xl===null)throw Error(s(475));var t=xl;return t.stylesheets&&t.count===0&&wh(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&wh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Vu(){if(this.count--,this.count===0){if(this.stylesheets)wh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function wh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,n.forEach(RT,t),Mu=null,Vu.call(t))}function RT(t,n){if(!(n.state.loading&4)){var r=Mu.get(t);if(r)var l=r.get(null);else{r=new Map,Mu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=r.get(y)||l,h===l&&r.set(null,c),r.set(y,c),this.count++,l=Vu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:ct,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function DT(t,n,r,l,c,h,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ry(t,n,r,l,c,h,y,E,b,z,Y,Q){return t=new DT(t,n,r,y,E,b,z,Q),n=1,h===!0&&(n|=24),h=sn(3,null,null,n),t.current=h,h.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},cf(h),t}function sy(t){return t?(t=Gr,t):Gr}function ly(t,n,r,l,c,h){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=Xi(t,l,n),r!==null&&(fn(r,t,n),fl(r,t,n))}function oy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rh(t,n){oy(t,n),(t=t.alternate)&&oy(t,n)}function uy(t){if(t.tag===13){var n=Hr(t,67108864);n!==null&&fn(n,t,67108864),Rh(t,67108864)}}var Nu=!0;function CT(t,n,r,l){var c=G.T;G.T=null;var h=et.p;try{et.p=2,Dh(t,n,r,l)}finally{et.p=h,G.T=c}}function IT(t,n,r,l){var c=G.T;G.T=null;var h=et.p;try{et.p=8,Dh(t,n,r,l)}finally{et.p=h,G.T=c}}function Dh(t,n,r,l){if(Nu){var c=Ch(l);if(c===null)mh(t,n,l,xu,r),fy(t,l);else if(VT(c,t,n,r,l))l.stopPropagation();else if(fy(t,l),n&4&&-1<OT.indexOf(t)){for(;c!==null;){var h=zn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=In(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-qe(y);E.entanglements[1]|=b,y&=~b}Jn(h),(Ht&6)===0&&(yu=dn()+500,Cl(0))}}break;case 13:E=Hr(h,2),E!==null&&fn(E,h,2),vu(),Rh(h,2)}if(h=Ch(l),h===null&&mh(t,n,l,xu,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else mh(t,n,l,null,r)}}function Ch(t){return t=pn(t),Ih(t)}var xu=null;function Ih(t){if(xu=null,t=oi(t),t!==null){var n=f(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function cy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vc()){case Ns:return 2;case Ar:return 8;case Oa:case Mc:return 32;case Sr:return 268435456;default:return 32}default:return 32}}var Oh=!1,la=null,oa=null,ua=null,Pl=new Map,Ll=new Map,ca=[],OT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(t,n){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(n.pointerId)}}function zl(t,n,r,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&uy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function VT(t,n,r,l,c){switch(n){case"focusin":return la=zl(la,t,n,r,l,c),!0;case"dragenter":return oa=zl(oa,t,n,r,l,c),!0;case"mouseover":return ua=zl(ua,t,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return Pl.set(h,zl(Pl.get(h)||null,t,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Ll.set(h,zl(Ll.get(h)||null,t,n,r,l,c)),!0}return!1}function hy(t){var n=oi(t.target);if(n!==null){var r=f(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,vo(t.priority,function(){if(r.tag===13){var l=cn();l=zi(l);var c=Hr(r,l);c!==null&&fn(c,r,l),Rh(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ch(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);hi=l,r.target.dispatchEvent(l),hi=null}else return n=zn(r),n!==null&&uy(n),t.blockedOn=r,!1;n.shift()}return!0}function dy(t,n,r){Uu(t)&&r.delete(n)}function MT(){Oh=!1,la!==null&&Uu(la)&&(la=null),oa!==null&&Uu(oa)&&(oa=null),ua!==null&&Uu(ua)&&(ua=null),Pl.forEach(dy),Ll.forEach(dy)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,Oh||(Oh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,MT)))}var Lu=null;function my(t){Lu!==t&&(Lu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Lu===t&&(Lu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ih(l||r)===null)continue;break}var h=zn(r);h!==null&&(t.splice(n,3),n-=3,If(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function kl(t){function n(b){return Pu(b,t)}la!==null&&Pu(la,t),oa!==null&&Pu(oa,t),ua!==null&&Pu(ua,t),Pl.forEach(n),Ll.forEach(n);for(var r=0;r<ca.length;r++){var l=ca[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ca.length&&(r=ca[0],r.blockedOn===null);)hy(r),r.blockedOn===null&&ca.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],y=c[he]||null;if(typeof h=="function")y||my(r);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[he]||null)E=y.formAction;else if(Ih(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),my(r)}}}function Vh(t){this._internalRoot=t}zu.prototype.render=Vh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=cn();ly(r,l,t,n,null,null)},zu.prototype.unmount=Vh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ly(t.current,2,null,t,null,null),vu(),n[mn]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ki();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ca.length&&n!==0&&n<ca[r].priority;r++);ca.splice(r,0,t),r===0&&hy(t)}};var gy=e.version;if(gy!=="19.1.0")throw Error(s(527,gy,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var NT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{ae=ku.inject(NT),jt=ku}catch{}}return ql.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Vg,h=Mg,y=Ng,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ry(t,1,!1,null,null,r,l,c,h,y,E,null),t[mn]=n.current,dh(t),new Vh(n)},ql.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",h=Vg,y=Mg,E=Ng,b=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=ry(t,1,!0,n,r??null,l,c,h,y,E,b,z),n.context=sy(null),r=n.current,l=cn(),l=zi(l),c=Qi(l),c.callback=null,Xi(r,c,l),r=l,n.current.lanes=r,li(n,r),Jn(n),t[mn]=n.current,dh(t),new zu(n)},ql.version="19.1.0",ql}var wy;function HT(){if(wy)return xh.exports;wy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),xh.exports=jT(),xh.exports}var GT=HT();const $_=6048e5,YT=864e5,Ry=Symbol.for("constructDateFrom");function Mi(a,e){return typeof a=="function"?a(e):a&&typeof a=="object"&&Ry in a?a[Ry](e):a instanceof Date?new a.constructor(e):new Date(e)}function Cn(a,e){return Mi(e||a,a)}function FT(a,e,i){const s=Cn(a,i==null?void 0:i.in);return isNaN(e)?Mi(a,NaN):(e&&s.setDate(s.getDate()+e),s)}let QT={};function gc(){return QT}function Wl(a,e){var g,_,v,A;const i=gc(),s=(e==null?void 0:e.weekStartsOn)??((_=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??i.weekStartsOn??((A=(v=i.locale)==null?void 0:v.options)==null?void 0:A.weekStartsOn)??0,o=Cn(a,e==null?void 0:e.in),f=o.getDay(),d=(f<s?7:0)+f-s;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function Ju(a,e){return Wl(a,{...e,weekStartsOn:1})}function J_(a,e){const i=Cn(a,e==null?void 0:e.in),s=i.getFullYear(),o=Mi(i,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const f=Ju(o),d=Mi(i,0);d.setFullYear(s,0,4),d.setHours(0,0,0,0);const g=Ju(d);return i.getTime()>=f.getTime()?s+1:i.getTime()>=g.getTime()?s:s-1}function Dy(a){const e=Cn(a),i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return i.setUTCFullYear(e.getFullYear()),+a-+i}function XT(a,...e){const i=Mi.bind(null,e.find(s=>typeof s=="object"));return e.map(i)}function Cy(a,e){const i=Cn(a,e==null?void 0:e.in);return i.setHours(0,0,0,0),i}function KT(a,e,i){const[s,o]=XT(i==null?void 0:i.in,a,e),f=Cy(s),d=Cy(o),g=+f-Dy(f),_=+d-Dy(d);return Math.round((g-_)/YT)}function ZT(a,e){const i=J_(a,e),s=Mi(a,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Ju(s)}function $T(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function JT(a){return!(!$T(a)&&typeof a!="number"||isNaN(+Cn(a)))}function WT(a,e){const i=Cn(a,e==null?void 0:e.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}const t1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},e1=(a,e,i)=>{let s;const o=t1[a];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+s:s+" ago":s};function zh(a){return(e={})=>{const i=e.width?String(e.width):a.defaultWidth;return a.formats[i]||a.formats[a.defaultWidth]}}const n1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},r1={date:zh({formats:n1,defaultWidth:"full"}),time:zh({formats:i1,defaultWidth:"full"}),dateTime:zh({formats:a1,defaultWidth:"full"})},s1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l1=(a,e,i,s)=>s1[a];function jl(a){return(e,i)=>{const s=i!=null&&i.context?String(i.context):"standalone";let o;if(s==="formatting"&&a.formattingValues){const d=a.defaultFormattingWidth||a.defaultWidth,g=i!=null&&i.width?String(i.width):d;o=a.formattingValues[g]||a.formattingValues[d]}else{const d=a.defaultWidth,g=i!=null&&i.width?String(i.width):a.defaultWidth;o=a.values[g]||a.values[d]}const f=a.argumentCallback?a.argumentCallback(e):e;return o[f]}}const o1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},c1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},h1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m1=(a,e)=>{const i=Number(a),s=i%100;if(s>20||s<10)switch(s%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},g1={ordinalNumber:m1,era:jl({values:o1,defaultWidth:"wide"}),quarter:jl({values:u1,defaultWidth:"wide",argumentCallback:a=>a-1}),month:jl({values:c1,defaultWidth:"wide"}),day:jl({values:f1,defaultWidth:"wide"}),dayPeriod:jl({values:h1,defaultWidth:"wide",formattingValues:d1,defaultFormattingWidth:"wide"})};function Hl(a){return(e,i={})=>{const s=i.width,o=s&&a.matchPatterns[s]||a.matchPatterns[a.defaultMatchWidth],f=e.match(o);if(!f)return null;const d=f[0],g=s&&a.parsePatterns[s]||a.parsePatterns[a.defaultParseWidth],_=Array.isArray(g)?y1(g,D=>D.test(d)):p1(g,D=>D.test(d));let v;v=a.valueCallback?a.valueCallback(_):_,v=i.valueCallback?i.valueCallback(v):v;const A=e.slice(d.length);return{value:v,rest:A}}}function p1(a,e){for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&e(a[i]))return i}function y1(a,e){for(let i=0;i<a.length;i++)if(e(a[i]))return i}function _1(a){return(e,i={})=>{const s=e.match(a.matchPattern);if(!s)return null;const o=s[0],f=e.match(a.parsePattern);if(!f)return null;let d=a.valueCallback?a.valueCallback(f[0]):f[0];d=i.valueCallback?i.valueCallback(d):d;const g=e.slice(o.length);return{value:d,rest:g}}}const v1=/^(\d+)(th|st|nd|rd)?/i,E1=/\d+/i,T1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},A1={any:[/^b/i,/^(a|c)/i]},S1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},b1={any:[/1/i,/2/i,/3/i,/4/i]},w1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},R1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},C1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},I1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},O1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},V1={ordinalNumber:_1({matchPattern:v1,parsePattern:E1,valueCallback:a=>parseInt(a,10)}),era:Hl({matchPatterns:T1,defaultMatchWidth:"wide",parsePatterns:A1,defaultParseWidth:"any"}),quarter:Hl({matchPatterns:S1,defaultMatchWidth:"wide",parsePatterns:b1,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Hl({matchPatterns:w1,defaultMatchWidth:"wide",parsePatterns:R1,defaultParseWidth:"any"}),day:Hl({matchPatterns:D1,defaultMatchWidth:"wide",parsePatterns:C1,defaultParseWidth:"any"}),dayPeriod:Hl({matchPatterns:I1,defaultMatchWidth:"any",parsePatterns:O1,defaultParseWidth:"any"})},M1={code:"en-US",formatDistance:e1,formatLong:r1,formatRelative:l1,localize:g1,match:V1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function N1(a,e){const i=Cn(a,e==null?void 0:e.in);return KT(i,WT(i))+1}function x1(a,e){const i=Cn(a,e==null?void 0:e.in),s=+Ju(i)-+ZT(i);return Math.round(s/$_)+1}function W_(a,e){var A,D,O,j;const i=Cn(a,e==null?void 0:e.in),s=i.getFullYear(),o=gc(),f=(e==null?void 0:e.firstWeekContainsDate)??((D=(A=e==null?void 0:e.locale)==null?void 0:A.options)==null?void 0:D.firstWeekContainsDate)??o.firstWeekContainsDate??((j=(O=o.locale)==null?void 0:O.options)==null?void 0:j.firstWeekContainsDate)??1,d=Mi((e==null?void 0:e.in)||a,0);d.setFullYear(s+1,0,f),d.setHours(0,0,0,0);const g=Wl(d,e),_=Mi((e==null?void 0:e.in)||a,0);_.setFullYear(s,0,f),_.setHours(0,0,0,0);const v=Wl(_,e);return+i>=+g?s+1:+i>=+v?s:s-1}function U1(a,e){var g,_,v,A;const i=gc(),s=(e==null?void 0:e.firstWeekContainsDate)??((_=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((A=(v=i.locale)==null?void 0:v.options)==null?void 0:A.firstWeekContainsDate)??1,o=W_(a,e),f=Mi((e==null?void 0:e.in)||a,0);return f.setFullYear(o,0,s),f.setHours(0,0,0,0),Wl(f,e)}function P1(a,e){const i=Cn(a,e==null?void 0:e.in),s=+Wl(i,e)-+U1(i,e);return Math.round(s/$_)+1}function Yt(a,e){const i=a<0?"-":"",s=Math.abs(a).toString().padStart(e,"0");return i+s}const ha={y(a,e){const i=a.getFullYear(),s=i>0?i:1-i;return Yt(e==="yy"?s%100:s,e.length)},M(a,e){const i=a.getMonth();return e==="M"?String(i+1):Yt(i+1,2)},d(a,e){return Yt(a.getDate(),e.length)},a(a,e){const i=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h(a,e){return Yt(a.getHours()%12||12,e.length)},H(a,e){return Yt(a.getHours(),e.length)},m(a,e){return Yt(a.getMinutes(),e.length)},s(a,e){return Yt(a.getSeconds(),e.length)},S(a,e){const i=e.length,s=a.getMilliseconds(),o=Math.trunc(s*Math.pow(10,i-3));return Yt(o,e.length)}},ms={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Iy={G:function(a,e,i){const s=a.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(s,{width:"abbreviated"});case"GGGGG":return i.era(s,{width:"narrow"});case"GGGG":default:return i.era(s,{width:"wide"})}},y:function(a,e,i){if(e==="yo"){const s=a.getFullYear(),o=s>0?s:1-s;return i.ordinalNumber(o,{unit:"year"})}return ha.y(a,e)},Y:function(a,e,i,s){const o=W_(a,s),f=o>0?o:1-o;if(e==="YY"){const d=f%100;return Yt(d,2)}return e==="Yo"?i.ordinalNumber(f,{unit:"year"}):Yt(f,e.length)},R:function(a,e){const i=J_(a);return Yt(i,e.length)},u:function(a,e){const i=a.getFullYear();return Yt(i,e.length)},Q:function(a,e,i){const s=Math.ceil((a.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Yt(s,2);case"Qo":return i.ordinalNumber(s,{unit:"quarter"});case"QQQ":return i.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(s,{width:"wide",context:"formatting"})}},q:function(a,e,i){const s=Math.ceil((a.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Yt(s,2);case"qo":return i.ordinalNumber(s,{unit:"quarter"});case"qqq":return i.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(s,{width:"wide",context:"standalone"})}},M:function(a,e,i){const s=a.getMonth();switch(e){case"M":case"MM":return ha.M(a,e);case"Mo":return i.ordinalNumber(s+1,{unit:"month"});case"MMM":return i.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(s,{width:"wide",context:"formatting"})}},L:function(a,e,i){const s=a.getMonth();switch(e){case"L":return String(s+1);case"LL":return Yt(s+1,2);case"Lo":return i.ordinalNumber(s+1,{unit:"month"});case"LLL":return i.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(s,{width:"wide",context:"standalone"})}},w:function(a,e,i,s){const o=P1(a,s);return e==="wo"?i.ordinalNumber(o,{unit:"week"}):Yt(o,e.length)},I:function(a,e,i){const s=x1(a);return e==="Io"?i.ordinalNumber(s,{unit:"week"}):Yt(s,e.length)},d:function(a,e,i){return e==="do"?i.ordinalNumber(a.getDate(),{unit:"date"}):ha.d(a,e)},D:function(a,e,i){const s=N1(a);return e==="Do"?i.ordinalNumber(s,{unit:"dayOfYear"}):Yt(s,e.length)},E:function(a,e,i){const s=a.getDay();switch(e){case"E":case"EE":case"EEE":return i.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(s,{width:"short",context:"formatting"});case"EEEE":default:return i.day(s,{width:"wide",context:"formatting"})}},e:function(a,e,i,s){const o=a.getDay(),f=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(f);case"ee":return Yt(f,2);case"eo":return i.ordinalNumber(f,{unit:"day"});case"eee":return i.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(o,{width:"short",context:"formatting"});case"eeee":default:return i.day(o,{width:"wide",context:"formatting"})}},c:function(a,e,i,s){const o=a.getDay(),f=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(f);case"cc":return Yt(f,e.length);case"co":return i.ordinalNumber(f,{unit:"day"});case"ccc":return i.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(o,{width:"narrow",context:"standalone"});case"cccccc":return i.day(o,{width:"short",context:"standalone"});case"cccc":default:return i.day(o,{width:"wide",context:"standalone"})}},i:function(a,e,i){const s=a.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Yt(o,e.length);case"io":return i.ordinalNumber(o,{unit:"day"});case"iii":return i.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(s,{width:"short",context:"formatting"});case"iiii":default:return i.day(s,{width:"wide",context:"formatting"})}},a:function(a,e,i){const o=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(a,e,i){const s=a.getHours();let o;switch(s===12?o=ms.noon:s===0?o=ms.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(a,e,i){const s=a.getHours();let o;switch(s>=17?o=ms.evening:s>=12?o=ms.afternoon:s>=4?o=ms.morning:o=ms.night,e){case"B":case"BB":case"BBB":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(a,e,i){if(e==="ho"){let s=a.getHours()%12;return s===0&&(s=12),i.ordinalNumber(s,{unit:"hour"})}return ha.h(a,e)},H:function(a,e,i){return e==="Ho"?i.ordinalNumber(a.getHours(),{unit:"hour"}):ha.H(a,e)},K:function(a,e,i){const s=a.getHours()%12;return e==="Ko"?i.ordinalNumber(s,{unit:"hour"}):Yt(s,e.length)},k:function(a,e,i){let s=a.getHours();return s===0&&(s=24),e==="ko"?i.ordinalNumber(s,{unit:"hour"}):Yt(s,e.length)},m:function(a,e,i){return e==="mo"?i.ordinalNumber(a.getMinutes(),{unit:"minute"}):ha.m(a,e)},s:function(a,e,i){return e==="so"?i.ordinalNumber(a.getSeconds(),{unit:"second"}):ha.s(a,e)},S:function(a,e){return ha.S(a,e)},X:function(a,e,i){const s=a.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Vy(s);case"XXXX":case"XX":return cr(s);case"XXXXX":case"XXX":default:return cr(s,":")}},x:function(a,e,i){const s=a.getTimezoneOffset();switch(e){case"x":return Vy(s);case"xxxx":case"xx":return cr(s);case"xxxxx":case"xxx":default:return cr(s,":")}},O:function(a,e,i){const s=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Oy(s,":");case"OOOO":default:return"GMT"+cr(s,":")}},z:function(a,e,i){const s=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Oy(s,":");case"zzzz":default:return"GMT"+cr(s,":")}},t:function(a,e,i){const s=Math.trunc(+a/1e3);return Yt(s,e.length)},T:function(a,e,i){return Yt(+a,e.length)}};function Oy(a,e=""){const i=a>0?"-":"+",s=Math.abs(a),o=Math.trunc(s/60),f=s%60;return f===0?i+String(o):i+String(o)+e+Yt(f,2)}function Vy(a,e){return a%60===0?(a>0?"-":"+")+Yt(Math.abs(a)/60,2):cr(a,e)}function cr(a,e=""){const i=a>0?"-":"+",s=Math.abs(a),o=Yt(Math.trunc(s/60),2),f=Yt(s%60,2);return i+o+e+f}const My=(a,e)=>{switch(a){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tv=(a,e)=>{switch(a){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},L1=(a,e)=>{const i=a.match(/(P+)(p+)?/)||[],s=i[1],o=i[2];if(!o)return My(a,e);let f;switch(s){case"P":f=e.dateTime({width:"short"});break;case"PP":f=e.dateTime({width:"medium"});break;case"PPP":f=e.dateTime({width:"long"});break;case"PPPP":default:f=e.dateTime({width:"full"});break}return f.replace("{{date}}",My(s,e)).replace("{{time}}",tv(o,e))},z1={p:tv,P:L1},k1=/^D+$/,B1=/^Y+$/,q1=["D","DD","YY","YYYY"];function j1(a){return k1.test(a)}function H1(a){return B1.test(a)}function G1(a,e,i){const s=Y1(a,e,i);if(console.warn(s),q1.includes(a))throw new RangeError(s)}function Y1(a,e,i){const s=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${e}\`) for formatting ${s} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const F1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,X1=/^'([^]*?)'?$/,K1=/''/g,Z1=/[a-zA-Z]/;function $1(a,e,i){var A,D,O,j;const s=gc(),o=s.locale??M1,f=s.firstWeekContainsDate??((D=(A=s.locale)==null?void 0:A.options)==null?void 0:D.firstWeekContainsDate)??1,d=s.weekStartsOn??((j=(O=s.locale)==null?void 0:O.options)==null?void 0:j.weekStartsOn)??0,g=Cn(a,i==null?void 0:i.in);if(!JT(g))throw new RangeError("Invalid time value");let _=e.match(Q1).map(H=>{const $=H[0];if($==="p"||$==="P"){const Z=z1[$];return Z(H,o.formatLong)}return H}).join("").match(F1).map(H=>{if(H==="''")return{isToken:!1,value:"'"};const $=H[0];if($==="'")return{isToken:!1,value:J1(H)};if(Iy[$])return{isToken:!0,value:H};if($.match(Z1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return{isToken:!1,value:H}});o.localize.preprocessor&&(_=o.localize.preprocessor(g,_));const v={firstWeekContainsDate:f,weekStartsOn:d,locale:o};return _.map(H=>{if(!H.isToken)return H.value;const $=H.value;(H1($)||j1($))&&G1($,e,String(a));const Z=Iy[$[0]];return Z(g,$,o.localize,v)}).join("")}function J1(a){const e=a.match(X1);return e?e[1].replace(K1,"'"):a}function W1(a,e,i){return FT(a,-e,i)}const tA=()=>{};var Ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},eA=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[i++];e[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[i++],d=a[i++],g=a[i++],_=((o&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const f=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const f=a[o],d=o+1<a.length,g=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,A=f>>2,D=(f&3)<<4|g>>4;let O=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(O=64)),s.push(i[A],i[D],i[O],i[j])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(ev(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):eA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const f=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const D=o<a.length?i[a.charAt(o)]:64;if(++o,f==null||g==null||v==null||D==null)throw new nA;const O=f<<2|g>>4;if(s.push(O),v!==64){const j=g<<4&240|v>>2;if(s.push(j),D!==64){const H=v<<6&192|D;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class nA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iA=function(a){const e=ev(a);return nv.encodeByteArray(e,!0)},Wu=function(a){return iA(a).replace(/\./g,"")},aA=function(a){try{return nv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=()=>rA().__FIREBASE_DEFAULTS__,lA=()=>{if(typeof process>"u"||typeof Ny>"u")return;const a=Ny.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},oA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&aA(a[1]);return e&&JSON.parse(e)},vd=()=>{try{return tA()||sA()||lA()||oA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},uA=a=>{var e,i;return(i=(e=vd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},cA=a=>{const e=uA(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},iv=()=>{var a;return(a=vd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(a){return a.endsWith(".cloudworkstations.dev")}async function hA(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Wu(JSON.stringify(i)),Wu(JSON.stringify(d)),""].join(".")}const Ql={};function mA(){const a={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?a.emulator.push(e):a.prod.push(e);return a}function gA(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let xy=!1;function pA(a,e){if(typeof window>"u"||typeof document>"u"||!Ed(window.location.host)||Ql[a]===e||Ql[a]||xy)return;Ql[a]=e;function i(O){return`__firebase__banner__${O}`}const s="__firebase__banner",f=mA().prod.length>0;function d(){const O=document.getElementById(s);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,j){O.setAttribute("width","24"),O.setAttribute("id",j),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{xy=!0,d()},O}function A(O,j){O.setAttribute("id",j),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function D(){const O=gA(s),j=i("text"),H=document.getElementById(j)||document.createElement("span"),$=i("learnmore"),Z=document.getElementById($)||document.createElement("a"),ot=i("preprendIcon"),rt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ct=O.element;g(ct),A(Z,$);const It=v();_(rt,ot),ct.append(rt,H,Z,It),document.body.appendChild(ct)}f?(H.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _A(){var a;const e=(a=vd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function EA(){return!_A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function av(){try{return typeof indexedDB=="object"}catch{return!1}}function rv(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var f;e(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}function TA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="FirebaseError";class Ra extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=AA,Object.setPrototypeOf(this,Ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?SA(f,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ra(o,g,s)}}function SA(a,e){return a.replace(bA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const bA=/\{\$([^}]+)}/g;function to(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const f=a[o],d=e[o];if(Uy(f)&&Uy(d)){if(!to(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Uy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=1e3,RA=2,DA=4*60*60*1e3,CA=.5;function Py(a,e=wA,i=RA){const s=e*Math.pow(i,a),o=Math.round(CA*s*(Math.random()-.5)*2);return Math.min(DA,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(a){return a&&a._delegate?a._delegate:a}class Ni{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new fA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VA(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),f=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;f.add(e),this.onInitCallbacks.set(o,f);const d=this.instances.get(o);return d&&e(d,o),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OA(a){return a===fr?void 0:a}function VA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new IA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(xt||(xt={}));const NA={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},xA=xt.INFO,UA={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},PA=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=UA[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Td{constructor(e){this.name=e,this._logLevel=xA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const LA=(a,e)=>e.some(i=>a instanceof i);let Ly,zy;function zA(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kA(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sv=new WeakMap,Zh=new WeakMap,lv=new WeakMap,kh=new WeakMap,Ad=new WeakMap;function BA(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{i(ga(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&sv.set(i,a)}).catch(()=>{}),Ad.set(e,a),e}function qA(a){if(Zh.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});Zh.set(a,e)}let $h={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Zh.get(a);if(e==="objectStoreNames")return a.objectStoreNames||lv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ga(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function jA(a){$h=a($h)}function HA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Bh(this),e,...i);return lv.set(s,e.sort?e.sort():[e]),ga(s)}:kA().includes(a)?function(...e){return a.apply(Bh(this),e),ga(sv.get(this))}:function(...e){return ga(a.apply(Bh(this),e))}}function GA(a){return typeof a=="function"?HA(a):(a instanceof IDBTransaction&&qA(a),LA(a,zA())?new Proxy(a,$h):a)}function ga(a){if(a instanceof IDBRequest)return BA(a);if(kh.has(a))return kh.get(a);const e=GA(a);return e!==a&&(kh.set(a,e),Ad.set(e,a)),e}const Bh=a=>Ad.get(a);function ov(a,e,{blocked:i,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(a,e),g=ga(d);return s&&d.addEventListener("upgradeneeded",_=>{s(ga(d.result),_.oldVersion,_.newVersion,ga(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{f&&_.addEventListener("close",()=>f()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const YA=["get","getKey","getAll","getAllKeys","count"],FA=["put","add","delete","clear"],qh=new Map;function ky(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(qh.get(e))return qh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=FA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||YA.includes(i)))return;const f=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return qh.set(e,f),f}jA(a=>({...a,get:(e,i,s)=>ky(e,i)||a.get(e,i,s),has:(e,i)=>!!ky(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function XA(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jh="@firebase/app",By="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Td("@firebase/app"),KA="@firebase/app-compat",ZA="@firebase/analytics-compat",$A="@firebase/analytics",JA="@firebase/app-check-compat",WA="@firebase/app-check",tS="@firebase/auth",eS="@firebase/auth-compat",nS="@firebase/database",iS="@firebase/data-connect",aS="@firebase/database-compat",rS="@firebase/functions",sS="@firebase/functions-compat",lS="@firebase/installations",oS="@firebase/installations-compat",uS="@firebase/messaging",cS="@firebase/messaging-compat",fS="@firebase/performance",hS="@firebase/performance-compat",dS="@firebase/remote-config",mS="@firebase/remote-config-compat",gS="@firebase/storage",pS="@firebase/storage-compat",yS="@firebase/firestore",_S="@firebase/ai",vS="@firebase/firestore-compat",ES="firebase",TS="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="[DEFAULT]",AS={[Jh]:"fire-core",[KA]:"fire-core-compat",[$A]:"fire-analytics",[ZA]:"fire-analytics-compat",[WA]:"fire-app-check",[JA]:"fire-app-check-compat",[tS]:"fire-auth",[eS]:"fire-auth-compat",[nS]:"fire-rtdb",[iS]:"fire-data-connect",[aS]:"fire-rtdb-compat",[rS]:"fire-fn",[sS]:"fire-fn-compat",[lS]:"fire-iid",[oS]:"fire-iid-compat",[uS]:"fire-fcm",[cS]:"fire-fcm-compat",[fS]:"fire-perf",[hS]:"fire-perf-compat",[dS]:"fire-rc",[mS]:"fire-rc-compat",[gS]:"fire-gcs",[pS]:"fire-gcs-compat",[yS]:"fire-fst",[vS]:"fire-fst-compat",[_S]:"fire-vertex","fire-js":"fire-js",[ES]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,SS=new Map,td=new Map;function qy(a,e){try{a.container.addComponent(e)}catch(i){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function va(a){const e=a.name;if(td.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;td.set(e,a);for(const i of tc.values())qy(i,a);for(const i of SS.values())qy(i,a);return!0}function co(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function bS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pa=new pc("app","Firebase",wS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=TS;function uv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wh,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw pa.create("bad-app-name",{appName:String(o)});if(i||(i=iv()),!i)throw pa.create("no-options");const f=tc.get(o);if(f){if(to(i,f.options)&&to(s,f.config))return f;throw pa.create("duplicate-app",{appName:o})}const d=new MA(o);for(const _ of td.values())d.addComponent(_);const g=new RS(i,s,d);return tc.set(o,g),g}function cv(a=Wh){const e=tc.get(a);if(!e&&a===Wh&&iv())return uv();if(!e)throw pa.create("no-app",{appName:a});return e}function ti(a,e,i){var s;let o=(s=AS[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const f=o.match(/\s|\//),d=e.match(/\s|\//);if(f||d){const g=[`Unable to register library "${o}" with version "${e}":`];f&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(g.join(" "));return}va(new Ni(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firebase-heartbeat-database",IS=1,eo="firebase-heartbeat-store";let jh=null;function fv(){return jh||(jh=ov(CS,IS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(eo)}catch(i){console.warn(i)}}}}).catch(a=>{throw pa.create("idb-open",{originalErrorMessage:a.message})})),jh}async function OS(a){try{const i=(await fv()).transaction(eo),s=await i.objectStore(eo).get(hv(a));return await i.done,s}catch(e){if(e instanceof Ra)xi.warn(e.message);else{const i=pa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(i.message)}}}async function jy(a,e){try{const s=(await fv()).transaction(eo,"readwrite");await s.objectStore(eo).put(e,hv(a)),await s.done}catch(i){if(i instanceof Ra)xi.warn(i.message);else{const s=pa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(s.message)}}}function hv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=1024,MS=30;class NS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new US(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Hy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>MS){const d=PS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Hy(),{heartbeatsToSend:s,unsentEntries:o}=xS(this._heartbeatsCache.heartbeats),f=Wu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return xi.warn(i),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function xS(a,e=VS){const i=[];let s=a.slice();for(const o of a){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),Gy(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Gy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class US{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return av()?rv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return jy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return jy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Gy(a){return Wu(JSON.stringify({version:2,heartbeats:a})).length}function PS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(a){va(new Ni("platform-logger",e=>new QA(e),"PRIVATE")),va(new Ni("heartbeat",e=>new NS(e),"PRIVATE")),ti(Jh,By,a),ti(Jh,By,"esm2017"),ti("fire-js","")}LS("");var zS="firebase",kS="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(zS,kS,"app");var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,dv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function R(){}R.prototype=S.prototype,M.D=S.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(V,N,U){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,R){R||(R=0);var V=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)V[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;16>N;++N)V[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=M.g[0],R=M.g[1],N=M.g[2];var U=M.g[3],w=S+(U^R&(N^U))+V[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+V[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+V[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+V[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+V[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+V[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+V[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+V[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+V[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+V[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+V[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+V[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(R^N))+V[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+V[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+V[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+V[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+V[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+V[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+V[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+V[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+V[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+V[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+V[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+V[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(R^N^U)+V[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+V[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+V[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+V[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+V[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+V[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+V[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+V[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+V[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+V[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+V[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+V[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(N^(R|~U))+V[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+V[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+V[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+V[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+V[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+V[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+V[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+V[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+V[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+V[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+V[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+N&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var R=S-this.blockSize,V=this.B,N=this.h,U=0;U<S;){if(N==0)for(;U<=R;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<S;)if(V[N++]=M.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<S;)if(V[N++]=M[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var R=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=R&255,R/=256;for(this.u(M),M=Array(16),S=R=0;4>S;++S)for(var V=0;32>V;V+=8)M[R++]=this.g[S]>>>V&255;return M};function f(M,S){var R=g;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=S(M)}function d(M,S){this.h=S;for(var R=[],V=!0,N=M.length-1;0<=N;N--){var U=M[N]|0;V&&U==S||(R[N]=U,V=!1)}this.g=R}var g={};function _(M){return-128<=M&&128>M?f(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return D;if(0>M)return Z(v(-M));for(var S=[],R=1,V=0;M>=R;V++)S[V]=M/R|0,R*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return Z(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),V=D,N=0;N<M.length;N+=8){var U=Math.min(8,M.length-N),w=parseInt(M.substring(N,N+U),S);8>U?(U=v(Math.pow(S,U)),V=V.j(U).add(v(w))):(V=V.j(R),V=V.add(v(w)))}return V}var D=_(0),O=_(1),j=_(16777216);a=d.prototype,a.m=function(){if($(this))return-Z(this).m();for(var M=0,S=1,R=0;R<this.g.length;R++){var V=this.i(R);M+=(0<=V?V:4294967296+V)*S,S*=4294967296}return M},a.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(H(this))return"0";if($(this))return"-"+Z(this).toString(M);for(var S=v(Math.pow(M,6)),R=this,V="";;){var N=It(R,S).g;R=ot(R,N.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=N,H(R))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},a.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function H(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function $(M){return M.h==-1}a.l=function(M){return M=ot(this,M),$(M)?-1:H(M)?0:1};function Z(M){for(var S=M.g.length,R=[],V=0;V<S;V++)R[V]=~M.g[V];return new d(R,~M.h).add(O)}a.abs=function(){return $(this)?Z(this):this},a.add=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],V=0,N=0;N<=S;N++){var U=V+(this.i(N)&65535)+(M.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(M.i(N)>>>16);V=w>>>16,U&=65535,w&=65535,R[N]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ot(M,S){return M.add(Z(S))}a.j=function(M){if(H(this)||H(M))return D;if($(this))return $(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if($(M))return Z(this.j(Z(M)));if(0>this.l(j)&&0>M.l(j))return v(this.m()*M.m());for(var S=this.g.length+M.g.length,R=[],V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<M.g.length;N++){var U=this.i(V)>>>16,w=this.i(V)&65535,Me=M.i(N)>>>16,ie=M.i(N)&65535;R[2*V+2*N]+=w*ie,rt(R,2*V+2*N),R[2*V+2*N+1]+=U*ie,rt(R,2*V+2*N+1),R[2*V+2*N+1]+=w*Me,rt(R,2*V+2*N+1),R[2*V+2*N+2]+=U*Me,rt(R,2*V+2*N+2)}for(V=0;V<S;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=S;V<2*S;V++)R[V]=0;return new d(R,0)};function rt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ct(M,S){this.g=M,this.h=S}function It(M,S){if(H(S))throw Error("division by zero");if(H(M))return new ct(D,D);if($(M))return S=It(Z(M),S),new ct(Z(S.g),Z(S.h));if($(S))return S=It(M,Z(S)),new ct(Z(S.g),S.h);if(30<M.g.length){if($(M)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var R=O,V=S;0>=V.l(M);)R=Et(R),V=Et(V);var N=Pt(R,1),U=Pt(V,1);for(V=Pt(V,2),R=Pt(R,2);!H(V);){var w=U.add(V);0>=w.l(M)&&(N=N.add(R),U=w),V=Pt(V,1),R=Pt(R,1)}return S=ot(M,N.j(S)),new ct(N,S)}for(N=D;0<=M.l(S);){for(R=Math.max(1,Math.floor(M.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=v(R),w=U.j(S);$(w)||0<w.l(M);)R-=V,U=v(R),w=U.j(S);H(U)&&(U=O),N=N.add(U),M=ot(M,w)}return new ct(N,M)}a.A=function(M){return It(this,M).h},a.and=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)&M.i(V);return new d(R,this.h&M.h)},a.or=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)|M.i(V);return new d(R,this.h|M.h)},a.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)^M.i(V);return new d(R,this.h^M.h)};function Et(M){for(var S=M.g.length+1,R=[],V=0;V<S;V++)R[V]=M.i(V)<<1|M.i(V-1)>>>31;return new d(R,M.h)}function Pt(M,S){var R=S>>5;S%=32;for(var V=M.g.length-R,N=[],U=0;U<V;U++)N[U]=0<S?M.i(U+R)>>>S|M.i(U+R+1)<<32-S:M.i(U+R);return new d(N,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,ya=d}).apply(typeof Yy<"u"?Yy:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mv,Gl,gv,Qu,ed,pv,yv,_v;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in p))break t;p=p[P]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function f(u,m){u instanceof String&&(u+="");var p=0,T=!1,P={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return f(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function D(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function O(u,m,p){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,O.apply(null,arguments)}function j(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function H(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,P,q){for(var tt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)tt[Ot-2]=arguments[Ot];return m.prototype[P].apply(T,tt)}}function $(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Z(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const P=u.length||0,q=T.length||0;u.length=P+q;for(let tt=0;tt<q;tt++)u[P+tt]=T[tt]}else u.push(T)}}class ot{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function rt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function It(u){return It[" "](u),u}It[" "]=function(){};var Et=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Pt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let p,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(p in T)u[p]=T[p];for(let q=0;q<R.length;q++)p=R[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function N(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new ot(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,lt=!1,Lt=new Me,C=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(K)}};var K=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){U(p)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function bt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Et){t:{try{It(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}H(bt,W);var yt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),$t=0;function Pn(u,m,p,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=P,this.key=++$t,this.da=this.fa=!1}function Li(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ri(u){this.src=u,this.g={},this.h=0}ri.prototype.add=function(u,m,p,T,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=Ca(u,m,T,P);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new Pn(m,this.src,q,!!T,P),m.fa=p,u.push(m)),m};function Da(u,m){var p=m.type;if(p in u.g){var T=u.g[p],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(T,P,1),q&&(Li(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ca(u,m,p,T){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return P}return-1}var Ia="closure_lm_"+(1e6*Math.random()|0),Ms={};function po(u,m,p,T,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)po(u,m[q],p,T,P);return null}return p=yo(p),u&&u[we]?u.K(m,p,v(T)?!!T.capture:!1,P):dn(u,m,p,!1,T,P)}function dn(u,m,p,T,P,q){if(!m)throw Error("Invalid event type");var tt=v(P)?!!P.capture:!!P,Ot=Sr(u);if(Ot||(u[Ia]=Ot=new ri(u)),p=Ot.add(m,p,T,tt,q),p.proxy)return p;if(T=Vc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ut||(P=tt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Oa(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Vc(){function u(p){return m.call(u.src,u.listener,p)}const m=Mc;return u}function Ns(u,m,p,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ns(u,m[q],p,T,P);else T=v(T)?!!T.capture:!!T,p=yo(p),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Ca(q,p,T,P),-1<p&&(Li(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Sr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ca(m,p,T,P)),(p=-1<u?m[u]:null)&&Ar(p))}function Ar(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])Da(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Oa(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Sr(m))?(Da(p,u),p.h==0&&(p.src=null,m[Ia]=null)):Li(u)}}}function Oa(u){return u in Ms?Ms[u]:Ms[u]="on"+u}function Mc(u,m){if(u.da)u=!0;else{m=new bt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Ar(u),u=p.call(T,m)}return u}function Sr(u){return u=u[Ia],u instanceof ri?u:null}var xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function yo(u){return typeof u=="function"?u:(u[xs]||(u[xs]=function(m){return u.handleEvent(m)}),u[xs])}function ae(){nt.call(this),this.i=new ri(this),this.M=this,this.F=null}H(ae,nt),ae.prototype[we]=!0,ae.prototype.removeEventListener=function(u,m,p,T){Ns(this,u,m,p,T)};function jt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var P=m;m=new W(T,u),V(m,P)}if(P=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];P=nn(tt,T,!0,m)&&P}if(tt=m.g=u,P=nn(tt,T,!0,m)&&P,P=nn(tt,T,!1,m)&&P,p)for(q=0;q<p.length;q++)tt=m.g=p[q],P=nn(tt,T,!1,m)&&P}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Li(p[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ae.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function nn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var Ot=tt.listener,_e=tt.ha||tt.src;tt.fa&&Da(u.i,tt),P=Ot.call(_e,T)!==!1&&P}}return P&&!T.defaultPrevented}function qe(u,m,p){if(typeof u=="function")p&&(u=O(u,p));else if(u&&typeof u.handleEvent=="function")u=O(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function _o(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,_o(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Nc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(u){nt.call(this),this.h=u,this.g={}}H(Va,nt);var Ma=[];function Na(u){Pt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ar(m)},u),u.g={}}Va.prototype.N=function(){Va.aa.N.call(this),Na(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,br=g.JSON.parse,xa=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Us(){}Us.prototype.h=null;function Ps(u){return u.h||(u.h=u.i())}function Ls(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){W.call(this,"d")}H(li,W);function zs(){W.call(this,"c")}H(zs,W);var Ln={},ks=null;function zi(){return ks=ks||new ae}Ln.La="serverreachability";function wr(u){W.call(this,Ln.La,u)}H(wr,W);function ki(u){const m=zi();jt(m,new wr(m))}Ln.STAT_EVENT="statevent";function vo(u,m){W.call(this,Ln.STAT_EVENT,u),this.stat=m}H(vo,W);function Wt(u){const m=zi();jt(m,new vo(m,u))}Ln.Ma="timingevent";function ye(u,m){W.call(this,Ln.Ma,u),this.size=m}H(ye,W);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Bs(u,m,p,T,P,q){u.info(function(){if(u.g)if(q)for(var tt="",Ot=q.split("&"),_e=0;_e<Ot.length;_e++){var Vt=Ot[_e].split("=");if(1<Vt.length){var De=Vt[0];Vt=Vt[1];var ve=De.split("_");tt=2<=ve.length&&ve[1]=="type"?tt+(De+"="+Vt+"&"):tt+(De+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+p+`
`+tt})}function xc(u,m,p,T,P,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+p+`
`+q+" "+tt})}function Bi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ua(u,p)+(T?" "+T:"")})}function Eo(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Ua(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<P.length;tt++)P[tt]=""}}}}return In(p)}catch{return m}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function kn(){}H(kn,Us),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},zn=new kn;function Qe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var qs={},Rr={};function On(u,m,p){u.L=1,u.v=Ba(an(m)),u.m=p,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),Pa(u),u.A=an(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Qs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new oe,u.g=Po(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Nc(O(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Ma[0]=P.toString()),P=Ma);for(var q=0;q<P.length;q++){var tt=po(p,P[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ki(),Bs(u.i,u.u,u.A,u.l,u.R,u.m)}Qe.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Qe.prototype.Y=function(u){try{if(u==this.g)t:{const ve=_n(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||Co(this.g)))){this.J||ve!=4||m==7||(m==8||0>=yi?ki(3):ki(2)),ji(this);var p=this.g.Z();this.X=p;e:if(To(this)){var T=Co(this.g);u="";var P=T.length,q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),Bn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,xc(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,_e=this.g;if((Ot=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Ot)){var Vt=Ot;break e}}Vt=null}if(p=Vt)Bi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,p);else{this.o=!1,this.s=3,Wt(12),Ne(this),Bn(this);break t}}if(this.P){p=!0;let xe;for(;!this.J&&this.C<tt.length;)if(xe=Ao(this,tt),xe==Rr){ve==4&&(this.s=4,Wt(14),p=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==qs){this.s=4,Wt(15),Bi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Bi(this.i,this.l,xe,null),La(this,xe);if(To(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||tt.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)Bi(this.i,this.l,tt,"[Invalid Chunked Response]"),Ne(this),Bn(this);else if(0<tt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Xa(De),De.M=!0,Wt(11))}}else Bi(this.i,this.l,tt,null),La(this,tt);ve==4&&Ne(this),this.o&&!this.J&&(ve==4?No(this.j,this):(this.o=!1,Pa(this)))}else kc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ne(this),Bn(this)}}}catch{}finally{}};function To(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ao(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Rr:(p=Number(m.substring(p,T)),isNaN(p)?qs:(T+=1,T+p>m.length?Rr:(m=m.slice(T,T+p),u.C=T+p,m)))}Qe.prototype.cancel=function(){this.J=!0,Ne(this)};function Pa(u){u.S=Date.now()+u.I,So(u,u.I)}function So(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(O(u.ba,u),m)}function ji(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Eo(this.i,this.A),this.L!=2&&(ki(),Wt(17)),Ne(this),this.s=2,Bn(this)):So(this,this.S-u)};function Bn(u){u.j.G==0||u.J||No(u.j,u)}function Ne(u){ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Na(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function La(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||js(p.h,u))){if(!u.K&&js(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)zr(p),Pr(p);else break t;Js(p),Wt(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(O(p.Za,p),6e3));if(1>=Cr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else pi(p,11)}else if((u.K||p.g==u)&&zr(p),!rt(m))for(P=p.Da.g.parse(m),m=0;m<P.length;m++){let Vt=P[m];if(p.T=Vt[0],Vt=Vt[1],p.G==2)if(Vt[0]=="c"){p.K=Vt[1],p.ia=Vt[2];const De=Vt[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const ve=Vt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const yi=Vt[5];yi!=null&&typeof yi=="number"&&0<yi&&(T=1.5*yi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const xe=u.g;if(xe){const Qn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var q=T.h;q.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ir(q,q.h),q.h=null))}if(T.D){const tl=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(T.ya=tl,Ft(T.I,T.D,tl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=Uo(T,T.J?T.ia:null,T.W),tt.K){Xe(T.h,tt);var Ot=tt,_e=T.L;_e&&(Ot.I=_e),Ot.B&&(ji(Ot),Pa(Ot)),T.g=tt}else Vo(T);0<p.i.length&&Lr(p)}else Vt[0]!="stop"&&Vt[0]!="close"||pi(p,7);else p.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?pi(p,7):Zs(p):Vt[0]!="noop"&&p.l&&p.l.ta(Vt),p.v=0)}}ki(4)}catch{}}var bo=class{constructor(u,m){this.g=u,this.map=m}};function ci(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Cr(u){return u.h?1:u.g?u.g.size:0}function js(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ir(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ci.prototype.cancel=function(){if(this.i=Hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return $(u.i)}function Uc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Or(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Gs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Or(u),T=Uc(u),P=T.length,q=0;q<P;q++)m.call(void 0,T[q],p&&p[q],u)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),P=null;if(0<=T){var q=u[p].substring(0,T);P=u[p].substring(T+1)}else q=u[p];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,ka(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.s),this.l=u.l;var m=u.i,p=new hi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),fi(this,p),this.m=u.m}else u&&(m=String(u).match(za))?(this.h=!1,ka(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),Hi(this,m[4]),this.l=gn(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qa(m,Ys,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qa(m,Ys,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(qa(p,p.charAt(0)=="/"?Lc:Fs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",qa(p,Vr)),u.join("")};function an(u){return new de(u)}function ka(u,m,p){u.j=p?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function fi(u,m,p){m instanceof hi?(u.i=m,Ro(u.i,u.h)):(p||(m=qa(m,zc)),u.i=new hi(m,u.h))}function Ft(u,m,p){u.i.set(m,p)}function Ba(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,wo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ys=/[#\/\?@]/g,Fs=/[#\?:]/g,Lc=/[#\?]/g,zc=/[#\?@]/g,Vr=/#/g;function hi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Pc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=hi.prototype,a.add=function(u,m){pn(this),this.i=null,u=qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function di(u,m){pn(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mi(u,m){return pn(u),m=qn(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(P){u.call(m,P,T,this)},this)},this)},a.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const P=u[T];for(let q=0;q<P.length;q++)p.push(m[T])}return p},a.V=function(u){pn(this);let m=[];if(typeof u=="string")mi(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return pn(this),this.i=null,u=qn(this,u),mi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Qs(u,m,p){di(u,m),0<p.length&&(u.i=null,u.g.set(qn(u,m),$(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var P=q;tt[T]!==""&&(P+="="+encodeURIComponent(String(tt[T]))),u.push(P)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ro(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(p,T){var P=T.toLowerCase();T!=P&&(di(this,T),Qs(this,P,p))},u)),u.j=m}function ja(u,m){const p=new mn;if(g.Image){const T=new Image;T.onload=j(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const p=new mn,T=new AbortController,P=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),yn(p,"TestPingServer: error",!1,m)})}function yn(u,m,p,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(p)}catch{}}function Ha(){this.g=new xa}function jn(u,m,p){const T=p||"";try{Gs(u,function(P,q){let tt=P;v(P)&&(tt=In(P)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function Gi(u){this.l=u.Ub||null,this.j=u.eb||!1}H(Gi,Us),Gi.prototype.g=function(){return new gi(this.l,this.j)},Gi.prototype.i=function(u){return function(){return u}}({});function gi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(gi,ae),a=gi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Gn(this),this.readyState==3&&Xs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},a.Qa=function(u){this.g&&(this.response=u,Hn(this))},a.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ks(u){let m="";return Pt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ks(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ft(u,m,p))}function kt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(kt,ae);var Mr=/^https?$/i,Ga=["POST","PUT"];a=kt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ps(this.o):Ps(zn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Do(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)p.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ga,m,void 0))||T||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ya(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Do(this,q)}};function Do(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Nr(u),Yn(u)}function Nr(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Yn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?xr(this):this.bb())},a.bb=function(){xr(this)};function xr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)qe(u.Ea,0,u);else if(jt(u,"readystatechange"),_n(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var P=String(u.D).match(za)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!Mr.test(P?P.toLowerCase():"")}p=T}if(p)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<_n(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Nr(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Ya(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Ya(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),br(m)}};function Co(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function kc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(rt(u[T]))continue;var p=N(u[T]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[P]||[];m[P]=q,q.push(p)}M(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ur(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,u),this.cb=Fa("retryDelaySeedMs",1e4,u),this.Wa=Fa("forwardChannelMaxRetries",2,u),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(u&&u.concurrentRequestLimit),this.Da=new Ha,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ur.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Uo(this,null,this.W),Lr(this)};function Zs(u){if(Io(u),u.G==3){var m=u.U++,p=an(u.I);if(Ft(p,"SID",u.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Qa(u,p),m=new Qe(u,u.j,m),m.L=2,m.v=Ba(an(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Po(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Pa(m)}xo(u)}function Pr(u){u.g&&(Xa(u),u.g.cancel(),u.g=null)}function Io(u){Pr(u),u.u&&(g.clearTimeout(u.u),u.u=null),zr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Lr(u){if(!Dr(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||C(),lt||(et(),lt=!0),Lt.add(m,u),u.B=0}}function Bc(u,m){return Cr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(O(u.Ga,u,m),Ws(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Qe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),V(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Oo(this,P,m),p=an(this.I),Ft(p,"RID",u),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),Qa(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Ks(q)))+"&"+m:this.m&&Re(p,this.m,q)),Ir(this.h,P),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),P.T=!0,On(P,p,null)):On(P,p,m),this.G=2}}else this.G==3&&(u?$s(this,u):this.i.length==0||Dr(this.h)||$s(this))};function $s(u,m){var p;m?p=m.l:p=u.U++;const T=an(u.I);Ft(T,"SID",u.K),Ft(T,"RID",p),Ft(T,"AID",u.T),Qa(u,T),u.m&&u.o&&Re(T,u.m,u.o),p=new Qe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Oo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ir(u.h,p),On(p,T,m)}function Qa(u,m){u.H&&Pt(u.H,function(p,T){Ft(m,T,p)}),u.l&&Gs({},function(p,T){Ft(m,T,p)})}function Oo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?O(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=P[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Ot=!0;for(let _e=0;_e<p;_e++){let Vt=P[_e].g;const De=P[_e].map;if(Vt-=q,0>Vt)q=Math.max(0,P[_e].g-100),Ot=!1;else try{jn(De,tt,"req"+Vt+"_")}catch{T&&T(De)}}if(Ot){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Vo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||C(),lt||(et(),lt=!0),Lt.add(m,u),u.v=0}}function Js(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(O(u.Fa,u),Ws(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Mo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(O(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Pr(this),Mo(this))};function Xa(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Mo(u){u.g=new Qe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Qa(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Ba(an(m)),p.m=null,p.P=!0,ui(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Pr(this),Js(this),Wt(19))};function zr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function No(u,m){var p=null;if(u.g==m){zr(u),Xa(u),u.g=null;var T=2}else if(js(u.h,m))p=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=zi(),jt(T,new ye(T,p)),Lr(u)}else Vo(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&Bc(u,m)||T==2&&Js(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),P){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Ws(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var p=O(u.fb,u),T=u.Xa;const P=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ka(T,"https"),Ba(T),P?ja(T.toString(),p):Vn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),xo(u),Io(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function xo(u){if(u.G=0,u.ka=[],u.l){const m=Hs(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Uo(u,m,p){var T=p instanceof de?an(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),Hi(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new de(null);T&&ka(q,T),m&&(q.g=m),P&&Hi(q,P),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Ft(T,p,m),Ft(T,"VER",u.la),Qa(u,T),T}function Po(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Gi({eb:p})):new kt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lo(){}a=Lo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function kr(){}kr.prototype.g=function(u,m){return new Ke(u,m)};function Ke(u,m){ae.call(this),this.g=new Ur(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!rt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!rt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fn(this)}H(Ke,ae),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Zs(this.g)},Ke.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=In(u),u=p);m.i.push(new bo(m.Ya++,u)),m.G==3&&Lr(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Zs(this.g),delete this.g,Ke.aa.N.call(this)};function zo(u){li.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}H(zo,li);function ko(){zs.call(this),this.status=1}H(ko,zs);function Fn(u){this.g=u}H(Fn,Lo),Fn.prototype.ua=function(){jt(this.g,"a")},Fn.prototype.ta=function(u){jt(this.g,new zo(u))},Fn.prototype.sa=function(u){jt(this.g,new ko)},Fn.prototype.ra=function(){jt(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,_v=function(){return new kr},yv=function(){return zi()},pv=Ln,ed={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,Qu=qi,oi.COMPLETE="complete",gv=oi,Ls.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Gl=Ls,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,mv=kt}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const Fy="@firebase/firestore",Qy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Td("@firebase/firestore");function gs(){return mr.logLevel}function it(a,...e){if(mr.logLevel<=xt.DEBUG){const i=e.map(Sd);mr.debug(`Firestore (${Cs}): ${a}`,...i)}}function Ui(a,...e){if(mr.logLevel<=xt.ERROR){const i=e.map(Sd);mr.error(`Firestore (${Cs}): ${a}`,...i)}}function Ts(a,...e){if(mr.logLevel<=xt.WARN){const i=e.map(Sd);mr.warn(`Firestore (${Cs}): ${a}`,...i)}}function Sd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,vv(a,s,i)}function vv(a,e,i){let s=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ui(s),new Error(s)}function qt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||vv(e,o,s)}function vt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Ra{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class qS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class jS{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let f=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new _a,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=f;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new _a)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new Ev(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class HS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new HS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=f=>{f.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const o=f=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(f=>o(f)),setTimeout(()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Xy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FS(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<i&&(s+=e.charAt(o[f]%62))}return s}}function St(a,e){return a<e?-1:a>e?1:0}function nd(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return St(s,o);{const f=Tv(),d=QS(f.encode(Ky(a,i)),f.encode(Ky(e,i)));return d!==0?d:St(s,o)}}i+=s>65535?2:1}return St(a.length,e.length)}function Ky(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function QS(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return St(a[i],e[i]);return St(a.length,e.length)}function As(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-62135596800,$y=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*$y);return new Se(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Zy)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Se(0,0))}static max(){return new _t(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="__name__";class Wn{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const f=Wn.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return St(e.length,i.length)}static compareSegments(e,i){const s=Wn.isNumericId(e),o=Wn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):nd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ya.fromString(e.substring(4,e.length-2))}}class le extends Wn{construct(e,i,s){return new le(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new le(i)}static emptyPath(){return new le([])}}const XS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends Wn{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return XS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jy}static keyField(){return new ke([Jy])}static fromServerFormat(e){const i=[];let s="",o=0;const f=()=>{if(s.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(f(),o++)}if(f(),d)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(le.fromString(e))}static fromName(e){return new dt(le.fromString(e).popFirst(5))}static empty(){return new dt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return le.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=-1;function KS(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new Ea(o,dt.empty(),e)}function ZS(a){return new Ea(a.readTime,a.key,no)}class Ea{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ea(_t.min(),dt.empty(),no)}static max(){return new Ea(_t.max(),dt.empty(),no)}}function $S(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,e.documentKey),i!==0?i:St(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==JS)throw a;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,s)=>{i(e)})}static reject(e){return new X((i,s)=>{s(e)})}static waitFor(e){return new X((i,s)=>{let o=0,f=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++f,d&&f===o&&i()},_=>s(_))}),d=!0,f===o&&i()})}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next(o=>o?X.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,f)=>{s.push(i.call(this,o,f))}),this.waitFor(s)}static mapArray(e,i){return new X((s,o)=>{const f=e.length,d=new Array(f);let g=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===f&&s(d)},A=>o(A))}})}static doWhile(e,i){return new X((s,o)=>{const f=()=>{e()===!0?i().next(()=>{f()},o):s()};f()})}}function tb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Os(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}yc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=-1;function _c(a){return a==null}function ec(a){return a===0&&1/a==-1/0}function eb(a){return typeof a=="number"&&Number.isInteger(a)&&!ec(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="";function nb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Wy(e)),e=ib(a.get(i),e);return Wy(e)}function ib(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const f=a.charAt(o);switch(f){case"\0":i+="";break;case Sv:i+="";break;default:i+=f}}return i}function Wy(a){return a+Sv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function _r(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function bv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,f){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=f??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,f){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const f=s(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,s),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,o,f){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new Un([])}unionWith(e){let i=new be(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new wv("Invalid base64 string: "+f):f}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const ab=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(a){if(qt(!!a,39018),typeof a=="string"){let e=0;const i=ab.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Aa(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="server_timestamp",Dv="__type__",Cv="__previous_value__",Iv="__local_write_time__";function wd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dv])===null||i===void 0?void 0:i.stringValue)===Rv}function vc(a){const e=a.mapValue.fields[Cv];return wd(e)?vc(e):e}function io(a){const e=Ta(a.mapValue.fields[Iv].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,i,s,o,f,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const nc="(default)";class ao{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="__type__",sb="__max__",ju={mapValue:{}},Vv="__vector__",ic="value";function Sa(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?wd(a)?4:ob(a)?9007199254740991:lb(a)?10:11:pt(28295,{value:a})}function ii(a,e){if(a===e)return!0;const i=Sa(a);if(i!==Sa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return io(a).isEqual(io(e));case 3:return function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Ta(o.timestampValue),g=Ta(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,f){return Aa(o.bytesValue).isEqual(Aa(f.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,f){return fe(o.geoPointValue.latitude)===fe(f.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(f.geoPointValue.longitude)}(a,e);case 2:return function(o,f){if("integerValue"in o&&"integerValue"in f)return fe(o.integerValue)===fe(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=fe(o.doubleValue),g=fe(f.doubleValue);return d===g?ec(d)===ec(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return As(a.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,f){const d=o.mapValue.fields||{},g=f.mapValue.fields||{};if(t_(d)!==t_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(a,e);default:return pt(52216,{left:a})}}function ro(a,e){return(a.values||[]).find(i=>ii(i,e))!==void 0}function Ss(a,e){if(a===e)return 0;const i=Sa(a),s=Sa(e);if(i!==s)return St(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(a.booleanValue,e.booleanValue);case 2:return function(f,d){const g=fe(f.integerValue||f.doubleValue),_=fe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,e);case 3:return n_(a.timestampValue,e.timestampValue);case 4:return n_(io(a),io(e));case 5:return nd(a.stringValue,e.stringValue);case 6:return function(f,d){const g=Aa(f),_=Aa(d);return g.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(f,d){const g=f.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=St(g[v],_[v]);if(A!==0)return A}return St(g.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,d){const g=St(fe(f.latitude),fe(d.latitude));return g!==0?g:St(fe(f.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return i_(a.arrayValue,e.arrayValue);case 10:return function(f,d){var g,_,v,A;const D=f.fields||{},O=d.fields||{},j=(g=D[ic])===null||g===void 0?void 0:g.arrayValue,H=(_=O[ic])===null||_===void 0?void 0:_.arrayValue,$=St(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((A=H==null?void 0:H.values)===null||A===void 0?void 0:A.length)||0);return $!==0?$:i_(j,H)}(a.mapValue,e.mapValue);case 11:return function(f,d){if(f===ju.mapValue&&d===ju.mapValue)return 0;if(f===ju.mapValue)return 1;if(d===ju.mapValue)return-1;const g=f.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let D=0;D<_.length&&D<A.length;++D){const O=nd(_[D],A[D]);if(O!==0)return O;const j=Ss(g[_[D]],v[A[D]]);if(j!==0)return j}return St(_.length,A.length)}(a.mapValue,e.mapValue);default:throw pt(23264,{Pe:i})}}function n_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return St(a,e);const i=Ta(a),s=Ta(e),o=St(i.seconds,s.seconds);return o!==0?o:St(i.nanos,s.nanos)}function i_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const f=Ss(i[o],s[o]);if(f)return f}return St(i.length,s.length)}function bs(a){return id(a)}function id(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Ta(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Aa(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return dt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const f of i.values||[])o?o=!1:s+=",",s+=id(f);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${id(i.fields[d])}`;return o+"}"}(a.mapValue):pt(61005,{value:a})}function Xu(a){switch(Sa(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vc(a);return e?16+Xu(e):16;case 5:return 2*a.stringValue.length;case 6:return Aa(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,f)=>o+Xu(f),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return _r(s.fields,(f,d)=>{o+=f.length+Xu(d)}),o}(a.mapValue);default:throw pt(13486,{value:a})}}function ad(a){return!!a&&"integerValue"in a}function Rd(a){return!!a&&"arrayValue"in a}function a_(a){return!!a&&"nullValue"in a}function r_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ku(a){return!!a&&"mapValue"in a}function lb(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ov])===null||i===void 0?void 0:i.stringValue)===Vv}function Xl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return _r(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Xl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function ob(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===sb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ku(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=ke.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Xl(d):o.push(g.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,o)}delete(e){const i=this.field(e.popLast());Ku(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ku(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){_r(i,(o,f)=>e[o]=f);for(const o of s)delete e[o]}clone(){return new Rn(Xl(this.value))}}function Mv(a){const e=[];return _r(a.fields,(i,s)=>{const o=new ke([i]);if(Ku(s)){const f=Mv(s.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,o,f,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,_t.min(),_t.min(),_t.min(),Rn.empty(),0)}static newFoundDocument(e,i,s,o){return new Fe(e,1,i,_t.min(),s,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,_t.min(),_t.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,_t.min(),_t.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i){this.position=e,this.inclusive=i}}function s_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const f=e[o],d=a.position[o];if(f.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=Ss(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function l_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ii(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i="asc"){this.field=e,this.dir=i}}function ub(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{}class Ae extends Nv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new fb(e,i,s):i==="array-contains"?new mb(e,s):i==="in"?new gb(e,s):i==="not-in"?new pb(e,s):i==="array-contains-any"?new yb(e,s):new Ae(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new hb(e,s):new db(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ss(i,this.value)):i!==null&&Sa(this.value)===Sa(i)&&this.matchesComparison(Ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Nv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new ai(e,i)}matches(e){return xv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function xv(a){return a.op==="and"}function Uv(a){return cb(a)&&xv(a)}function cb(a){for(const e of a.filters)if(e instanceof ai)return!1;return!0}function rd(a){if(a instanceof Ae)return a.field.canonicalString()+a.op.toString()+bs(a.value);if(Uv(a))return a.filters.map(e=>rd(e)).join(",");{const e=a.filters.map(i=>rd(i)).join(",");return`${a.op}(${e})`}}function Pv(a,e){return a instanceof Ae?function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&ii(s.value,o.value)}(a,e):a instanceof ai?function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((f,d,g)=>f&&Pv(d,o.filters[g]),!0):!1}(a,e):void pt(19439)}function Lv(a){return a instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${bs(i.value)}`}(a):a instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map(Lv).join(" ,")+"}"}(a):"Filter"}class fb extends Ae{constructor(e,i,s){super(e,i,s),this.key=dt.fromName(s.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class hb extends Ae{constructor(e,i){super(e,"in",i),this.keys=zv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class db extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=zv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function zv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>dt.fromName(s.referenceValue))}class mb extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Rd(i)&&ro(i.arrayValue,this.value)}}class gb extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ro(this.value.arrayValue,i)}}class pb extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ro(this.value.arrayValue,i)}}class yb extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Rd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ro(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,i=null,s=[],o=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=g,this.Ie=null}}function o_(a,e=null,i=[],s=[],o=null,f=null,d=null){return new _b(a,e,i,s,o,f,d)}function Dd(a){const e=vt(a);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>rd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(f){return f.field.canonicalString()+f.dir}(s)).join(","),_c(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>bs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>bs(s)).join(",")),e.Ie=i}return e.Ie}function Cd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!ub(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Pv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!l_(a.startAt,e.startAt)&&l_(a.endAt,e.endAt)}function sd(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i=null,s=[],o=[],f=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function vb(a,e,i,s,o,f,d,g){return new Ec(a,e,i,s,o,f,d,g)}function Id(a){return new Ec(a)}function u_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Eb(a){return a.collectionGroup!==null}function Kl(a){const e=vt(a);if(e.Ee===null){e.Ee=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ee.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(ke.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ee.push(new rc(f,s))}),i.has(ke.keyField().canonicalString())||e.Ee.push(new rc(ke.keyField(),s))}return e.Ee}function ei(a){const e=vt(a);return e.de||(e.de=Tb(e,Kl(a))),e.de}function Tb(a,e){if(a.limitType==="F")return o_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const f=o.dir==="desc"?"asc":"desc";return new rc(o.field,f)});const i=a.endAt?new ac(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new ac(a.startAt.position,a.startAt.inclusive):null;return o_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function ld(a,e,i){return new Ec(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Tc(a,e){return Cd(ei(a),ei(e))&&a.limitType===e.limitType}function kv(a){return`${Dd(ei(a))}|lt:${a.limitType}`}function ps(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Lv(o)).join(", ")}]`),_c(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>bs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>bs(o)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function Ac(a,e){return e.isFoundDocument()&&function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):dt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(a,e)&&function(s,o){for(const f of Kl(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,_){const v=s_(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Kl(s),o)||s.endAt&&!function(d,g,_){const v=s_(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Kl(s),o))}(a,e)}function Ab(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Bv(a){return(e,i)=>{let s=!1;for(const o of Kl(a)){const f=Sb(o,e,i);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function Sb(a,e,i){const s=a.field.isKeyField()?dt.comparator(e.key,i.key):function(f,d,g){const _=d.data.field(f),v=g.data.field(f);return _!==null&&v!==null?Ss(_,v):pt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,(i,s)=>{for(const[o,f]of s)e(o,f)})}isEmpty(){return bv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new ne(dt.comparator);function Pi(){return bb}const qv=new ne(dt.comparator);function Yl(...a){let e=qv;for(const i of a)e=e.insert(i.key,i);return e}function jv(a){let e=qv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function hr(){return Zl()}function Hv(){return Zl()}function Zl(){return new vr(a=>a.toString(),(a,e)=>a.isEqual(e))}const wb=new ne(dt.comparator),Rb=new be(dt.comparator);function Ct(...a){let e=Rb;for(const i of a)e=e.add(i);return e}const Db=new be(St);function Cb(){return Db}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function Gv(a){return{integerValue:""+a}}function Ib(a,e){return eb(e)?Gv(e):Od(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this._=void 0}}function Ob(a,e,i){return a instanceof sc?function(o,f){const d={fields:{[Dv]:{stringValue:Rv},[Iv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&wd(f)&&(f=vc(f)),f&&(d.fields[Cv]=f),{mapValue:d}}(i,e):a instanceof so?Fv(a,e):a instanceof lo?Qv(a,e):function(o,f){const d=Yv(o,f),g=c_(d)+c_(o.Re);return ad(d)&&ad(o.Re)?Gv(g):Od(o.serializer,g)}(a,e)}function Vb(a,e,i){return a instanceof so?Fv(a,e):a instanceof lo?Qv(a,e):i}function Yv(a,e){return a instanceof lc?function(s){return ad(s)||function(f){return!!f&&"doubleValue"in f}(s)}(e)?e:{integerValue:0}:null}class sc extends Sc{}class so extends Sc{constructor(e){super(),this.elements=e}}function Fv(a,e){const i=Xv(e);for(const s of a.elements)i.some(o=>ii(o,s))||i.push(s);return{arrayValue:{values:i}}}class lo extends Sc{constructor(e){super(),this.elements=e}}function Qv(a,e){let i=Xv(e);for(const s of a.elements)i=i.filter(o=>!ii(o,s));return{arrayValue:{values:i}}}class lc extends Sc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function c_(a){return fe(a.integerValue||a.doubleValue)}function Xv(a){return Rd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Mb(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof so&&o instanceof so||s instanceof lo&&o instanceof lo?As(s.elements,o.elements,ii):s instanceof lc&&o instanceof lc?ii(s.Re,o.Re):s instanceof sc&&o instanceof sc}(a.transform,e.transform)}class Nb{constructor(e,i){this.version=e,this.transformResults=i}}class Vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class bc{}function Kv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new $v(a.key,Vi.none()):new fo(a.key,a.data,Vi.none());{const i=a.data,s=Rn.empty();let o=new be(ke.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new Er(a.key,s,new Un(o.toArray()),Vi.none())}}function xb(a,e,i){a instanceof fo?function(o,f,d){const g=o.value.clone(),_=h_(o.fieldTransforms,f,d.transformResults);g.setAll(_),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Er?function(o,f,d){if(!Zu(o.precondition,f))return void f.convertToUnknownDocument(d.version);const g=h_(o.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(Zv(o)),_.setAll(g),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,e,i):function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function $l(a,e,i,s){return a instanceof fo?function(f,d,g,_){if(!Zu(f.precondition,d))return g;const v=f.value.clone(),A=d_(f.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof Er?function(f,d,g,_){if(!Zu(f.precondition,d))return g;const v=d_(f.fieldTransforms,_,d),A=d.data;return A.setAll(Zv(f)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(D=>D.field))}(a,e,i,s):function(f,d,g){return Zu(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function Ub(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),f=Yv(s.transform,o||null);f!=null&&(i===null&&(i=Rn.empty()),i.set(s.field,f))}return i||null}function f_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&As(s,o,(f,d)=>Mb(f,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class fo extends bc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Er extends bc{constructor(e,i,s,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Zv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function h_(a,e,i){const s=new Map;qt(a.length===i.length,32656,{Ve:i.length,me:a.length});for(let o=0;o<i.length;o++){const f=a[o],d=f.transform,g=e.data.field(f.field);s.set(f.field,Vb(d,g,i[o]))}return s}function d_(a,e,i){const s=new Map;for(const o of a){const f=o.transform,d=i.data.field(o.field);s.set(o.field,Ob(f,d,e))}return s}class $v extends bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pb extends bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&xb(f,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=$l(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=$l(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Hv();return this.mutations.forEach(o=>{const f=e.get(o.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(o.key)?null:g;const _=Kv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(i,s)=>f_(i,s))&&As(this.baseMutations,e.baseMutations,(i,s)=>f_(i,s))}}class Vd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return wb}();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new Vd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Nt;function Bb(a){switch(a){case J.OK:return pt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pt(15467,{code:a})}}function Jv(a){if(a===void 0)return Ui("GRPC error has no .code"),J.UNKNOWN;switch(a){case pe.OK:return J.OK;case pe.CANCELLED:return J.CANCELLED;case pe.UNKNOWN:return J.UNKNOWN;case pe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case pe.INTERNAL:return J.INTERNAL;case pe.UNAVAILABLE:return J.UNAVAILABLE;case pe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case pe.NOT_FOUND:return J.NOT_FOUND;case pe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case pe.ABORTED:return J.ABORTED;case pe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case pe.DATA_LOSS:return J.DATA_LOSS;default:return pt(39323,{code:a})}}(Nt=pe||(pe={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new ya([4294967295,4294967295],0);function m_(a){const e=Tv().encode(a),i=new dv;return i.update(e),new Uint8Array(i.digest())}function g_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new ya([i,s],0),new ya([o,f],0)]}class Md{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Fl(`Invalid padding: ${i}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=ya.fromNumber(this.pe)}we(e,i,s){let o=e.add(i.multiply(ya.fromNumber(s)));return o.compare(qb)===1&&(o=new ya([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=m_(e),[s,o]=g_(i);for(let f=0;f<this.hashCount;f++){const d=this.we(s,o,f);if(!this.be(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Md(f,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=m_(e),[s,o]=g_(i);for(let f=0;f<this.hashCount;f++){const d=this.we(s,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i,s,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,ho.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new wc(_t.min(),o,new ne(St),Pi(),Ct())}}class ho{constructor(e,i,s,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ho(s,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i,s,o){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=o}}class Wv{constructor(e,i){this.targetId=e,this.Ce=i}}class t0{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class p_{constructor(){this.Fe=0,this.Me=y_(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ct(),i=Ct(),s=Ct();return this.Me.forEach((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:f})}}),new ho(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=y_()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class jb{constructor(e){this.ze=e,this.je=new Map,this.He=Pi(),this.Je=Hu(),this.Ye=Hu(),this.Ze=new ne(St)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,s=e.Ce.count,o=this._t(i);if(o){const f=o.target;if(sd(f))if(s===0){const d=new dt(f.path);this.tt(i,d,Fe.newNoDocument(d,_t.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=i;let d,g;try{d=Aa(s).toUint8Array()}catch(_){if(_ instanceof wv)return Ts("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Md(d,o,f)}catch(_){return Ts(_ instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(f=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,f,null),o++)}),o}It(e){const i=new Map;this.je.forEach((f,d)=>{const g=this._t(d);if(g){if(f.current&&sd(g.target)){const _=new dt(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Fe.newNoDocument(_,e))}f.Le&&(i.set(d,f.qe()),f.Qe())}});let s=Ct();this.Ye.forEach((f,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(f))}),this.He.forEach((f,d)=>d.setReadTime(e));const o=new wc(e,i,this.Ze,this.He,s);return this.He=Pi(),this.Je=Hu(),this.Ye=Hu(),this.Ze=new ne(St),o}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new p_,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new be(St),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new be(St),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new p_),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new ne(dt.comparator)}function y_(){return new ne(dt.comparator)}const Hb={asc:"ASCENDING",desc:"DESCENDING"},Gb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yb={and:"AND",or:"OR"};class Fb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function od(a,e){return a.useProto3Json||_c(e)?e:{value:e}}function oc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e0(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Qb(a,e){return oc(a,e.toTimestamp())}function ni(a){return qt(!!a,49232),_t.fromTimestamp(function(i){const s=Ta(i);return new Se(s.seconds,s.nanos)}(a))}function Nd(a,e){return ud(a,e).canonicalString()}function ud(a,e){const i=function(o){return new le(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function n0(a){const e=le.fromString(a);return qt(l0(e),10190,{key:e.toString()}),e}function cd(a,e){return Nd(a.databaseId,e.path)}function Hh(a,e){const i=n0(e);if(i.get(1)!==a.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(a0(i))}function i0(a,e){return Nd(a.databaseId,e)}function Xb(a){const e=n0(a);return e.length===4?le.emptyPath():a0(e)}function fd(a){return new le(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function a0(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function __(a,e,i){return{name:cd(a,e),fields:i.value.mapValue.fields}}function Kb(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?J.UNKNOWN:Jv(v.code);return new ht(A,v.message||"")}(d);i=new t0(s,o,f,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hh(a,s.document.name),f=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):_t.min(),g=new Rn({mapValue:{fields:s.document.fields}}),_=Fe.newFoundDocument(o,f,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new $u(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hh(a,s.document),f=s.readTime?ni(s.readTime):_t.min(),d=Fe.newNoDocument(o,f),g=s.removedTargetIds||[];i=new $u([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hh(a,s.document),f=s.removedTargetIds||[];i=new $u([],f,o,null)}else{if(!("filter"in e))return pt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new kb(o,f),g=s.targetId;i=new Wv(g,d)}}return i}function Zb(a,e){let i;if(e instanceof fo)i={update:__(a,e.key,e.value)};else if(e instanceof $v)i={delete:cd(a,e.key)};else if(e instanceof Er)i={update:__(a,e.key,e.data),updateMask:rw(e.fieldMask)};else{if(!(e instanceof Pb))return pt(16599,{ft:e.type});i={verify:cd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(f,d){const g=d.transform;if(g instanceof sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof so)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof lc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw pt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,f){return f.updateTime!==void 0?{updateTime:Qb(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:pt(27497)}(a,e.precondition)),i}function $b(a,e){return a&&a.length>0?(qt(e!==void 0,14353),a.map(i=>function(o,f){let d=o.updateTime?ni(o.updateTime):ni(f);return d.isEqual(_t.min())&&(d=ni(f)),new Nb(d,o.transformResults||[])}(i,e))):[]}function Jb(a,e){return{documents:[i0(a,e.path)]}}function Wb(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=i0(a,o);const f=function(v){if(v.length!==0)return s0(ai.create(v,"and"))}(e.filters);f&&(i.structuredQuery.where=f);const d=function(v){if(v.length!==0)return v.map(A=>function(O){return{field:ys(O.field),direction:nw(O.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=od(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:o}}function tw(a){let e=Xb(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=function(D){const O=r0(D);return O instanceof ai&&Uv(O)?O.getFilters():[O]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(O=>function(H){return new rc(_s(H.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(O))}(i.orderBy));let g=null;i.limit&&(g=function(D){let O;return O=typeof D=="object"?D.value:D,_c(O)?null:O}(i.limit));let _=null;i.startAt&&(_=function(D){const O=!!D.before,j=D.values||[];return new ac(j,O)}(i.startAt));let v=null;return i.endAt&&(v=function(D){const O=!D.before,j=D.values||[];return new ac(j,O)}(i.endAt)),vb(e,o,d,f,g,"F",_,v)}function ew(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function r0(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=_s(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_s(i.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=_s(i.unaryFilter.field);return Ae.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_s(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(a):a.fieldFilter!==void 0?function(i){return Ae.create(_s(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(s=>r0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(a):pt(30097,{filter:a})}function nw(a){return Hb[a]}function iw(a){return Gb[a]}function aw(a){return Yb[a]}function ys(a){return{fieldPath:a.canonicalString()}}function _s(a){return ke.fromServerFormat(a.fieldPath)}function s0(a){return a instanceof Ae?function(i){if(i.op==="=="){if(r_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(a_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(r_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(a_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:iw(i.op),value:i.value}}}(a):a instanceof ai?function(i){const s=i.getFilters().map(o=>s0(o));return s.length===1?s[0]:{compositeFilter:{op:aw(i.op),filters:s}}}(a):pt(54877,{filter:a})}function rw(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function l0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i,s,o,f=_t.min(),d=_t.min(),g=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.wt=e}}function lw(a){const e=tw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.Cn=new uw}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Ea.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Ea.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class uw{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new be(le.comparator),f=!o.has(s);return this.index[i]=o.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new be(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o0=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(o0,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ws(0)}static lr(){return new ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",cw=1048576;function T_([a,e],[i,s]){const o=St(a,i);return o===0?St(e,s):o}class fw{constructor(e){this.Er=e,this.buffer=new be(T_),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();T_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hw{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){it(E_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Os(i)?it(E_,"Ignoring IndexedDB error during garbage collection: ",i):await Is(i)}await this.mr(3e5)})}}class dw{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return X.resolve(yc.le);const s=new fw(i);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.gr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(v_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v_):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let s,o,f,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),o=this.params.maximumSequenceNumbersToCollect):o=D,d=Date.now(),this.nthSequenceNumber(e,o))).next(D=>(s=D,g=Date.now(),this.removeTargets(e,s,i))).next(D=>(f=D,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(D=>(v=Date.now(),gs()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${f} targets in `+(_-g)+`ms
	Removed ${D} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:D})))}}function mw(a,e){return new dw(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.changes=new vr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&$l(s.mutation,o,Un.empty(),Se.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Ct()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Ct()){const o=hr();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(f=>{let d=Yl();return f.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=hr();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Ct()))}populateOverlays(e,i,s){const o=[];return s.forEach(f=>{i.has(f)||o.push(f)}),this.documentOverlayCache.getOverlays(e,o).next(f=>{f.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let f=Pi();const d=Zl(),g=function(){return Zl()}();return i.forEach((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Er)?f=f.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),$l(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,Un.empty())}),this.recalculateAndSaveOverlays(e,f).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var D;return g.set(v,new pw(A,(D=d.get(v))!==null&&D!==void 0?D:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Zl();let o=new ne((d,g)=>d-g),f=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||Un.empty();A=g.applyToLocalView(v,A),s.set(_,A);const D=(o.get(g.batchId)||Ct()).add(_);o=o.insert(g.batchId,D)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,D=Hv();A.forEach(O=>{if(!f.has(O)){const j=Kv(i.get(O),s.get(O));j!==null&&D.set(O,j),f=f.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,D))}return X.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Eb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-f.size):X.resolve(hr());let g=no,_=f;return d.next(v=>X.forEach(v,(A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),f.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(O=>{_=_.insert(A,O)}))).next(()=>this.populateOverlays(e,v,f)).next(()=>this.computeViews(e,_,v,Ct())).next(A=>({batchId:g,changes:jv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next(s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const f=i.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,f).next(g=>X.forEach(g,_=>{const v=function(D,O){return new Ec(O,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(A=>{A.forEach((D,O)=>{d=d.insert(D,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,o))).next(d=>{f.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))});let g=Yl();return d.forEach((_,v)=>{const A=f.get(_);A!==void 0&&$l(A.mutation,v,Un.empty(),Se.now()),Ac(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return X.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:lw(o.bundledQuery),readTime:ni(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.overlays=new ne(dt.comparator),this.Qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=hr();return X.forEach(i,o=>this.getOverlay(e,o).next(f=>{f!==null&&s.set(o,f)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,f)=>{this.St(e,i,f)}),X.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(f=>this.overlays=this.overlays.remove(f)),this.Qr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const o=hr(),f=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>s&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let f=new ne((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=f.get(v.largestBatchId);A===null&&(A=hr(),f=f.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=hr(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return X.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new zb(i,s));let f=this.Qr.get(i);f===void 0&&(f=Ct(),this.Qr.set(i,f)),this.Qr.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this.$r=new be(Ve.Ur),this.Kr=new be(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const s=new Ve(e,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.zr(new Ve(e,i))}jr(e,i){e.forEach(s=>this.removeReference(s,i))}Hr(e){const i=new dt(new le([])),s=new Ve(i,e),o=new Ve(i,e+1),f=[];return this.Kr.forEachInRange([s,o],d=>{this.zr(d),f.push(d.key)}),f}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new dt(new le([])),s=new Ve(i,e),o=new Ve(i,e+1);let f=Ct();return this.Kr.forEachInRange([s,o],d=>{f=f.add(d.key)}),f}containsKey(e){const i=new Ve(e,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ve{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return dt.comparator(e.key,i.key)||St(e.Zr,i.Zr)}static Wr(e,i){return St(e.Zr,i.Zr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new be(Ve.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const f=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Lb(f,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Xr=this.Xr.add(new Ve(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ti(s),f=o<0?0:o;return X.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?bd:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),f=[];return this.Xr.forEachInRange([s,o],d=>{const g=this.ei(d.Zr);f.push(g)}),X.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new be(St);return i.forEach(o=>{const f=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([f,d],g=>{s=s.add(g.Zr)})}),X.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let f=s;dt.isDocumentKey(f)||(f=f.child(""));const d=new Ve(new dt(f),0);let g=new be(St);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Zr)),!0)},d),X.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return X.forEach(i.mutations,o=>{const f=new Ve(o.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,i){const s=new Ve(i,0),o=this.Xr.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.ii=e,this.docs=function(){return new ne(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),f=o?o.size:0,d=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=Pi();return i.forEach(o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():Fe.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let f=Pi();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||$S(ZS(A),s)<=0||(o.has(A.key)||Ac(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return X.resolve(f)}getAllFromCollectionGroup(e,i,s,o){pt(9500)}si(e,i){return X.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Sw(this)}getSize(e){return X.resolve(this.size)}}class Sw extends gw{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),X.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.persistence=e,this.oi=new vr(i=>Dd(i),Cd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this._i=0,this.ai=new xd,this.targetCount=0,this.ui=ws.cr()}forEachTarget(e,i){return this.oi.forEach((s,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),X.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ws(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Tr(i),X.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let o=0;const f=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.oi.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),X.waitFor(f).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.oi.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this.ai.Gr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this.ai.jr(i,s);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach(d=>{f.push(o.markPotentiallyOrphaned(e,d))}),X.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ai.Yr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,i){this.ci={},this.overlays={},this.li=new yc(0),this.hi=!1,this.hi=!0,this.Pi=new Ew,this.referenceDelegate=e(this),this.Ti=new bw(this),this.indexManager=new ow,this.remoteDocumentCache=function(o){return new Aw(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new sw(i),this.Ei=new _w(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new vw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ci[e.toKey()];return s||(s=new Tw(i,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const o=new ww(this.li.next());return this.referenceDelegate.di(),s(o).next(f=>this.referenceDelegate.Ai(o).next(()=>f)).toPromise().then(f=>(o.raiseOnCommittedEvent(),f))}Ri(e,i){return X.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,i)))}}class ww extends WS{constructor(e){super(),this.currentSequenceNumber=e}}class Ud{constructor(e){this.persistence=e,this.Vi=new xd,this.mi=null}static fi(e){return new Ud(e)}get gi(){if(this.mi)return this.mi;throw pt(60996)}addReference(e,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(f=>this.gi.add(f.toString()))}).next(()=>s.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,s=>{const o=dt.fromPath(s);return this.pi(e,o).next(f=>{f||i.removeEntry(o,_t.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return X.or([()=>X.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class uc{constructor(e,i){this.persistence=e,this.yi=new vr(s=>nb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=mw(this,i)}static fi(e,i){return new uc(e,i)}di(){}Ai(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}br(e){let i=0;return this.yr(e,s=>{i++}).next(()=>i)}yr(e,i){return X.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(f=>f?X.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,i).next(g=>{g||(s++,f.removeEntry(d,_t.min()))})).next(()=>f.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Xu(e.data.value)),i}Dr(e,i,s){return X.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.ds=s,this.As=o}static Rs(e,i){let s=Ct(),o=Ct();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Pd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return EA()?8:tb(yA())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,s,o){const f={result:null};return this.ws(e,i).next(d=>{f.result=d}).next(()=>{if(!f.result)return this.bs(e,i,o,s).next(d=>{f.result=d})}).next(()=>{if(f.result)return;const d=new Rw;return this.Ss(e,i,d).next(g=>{if(f.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>f.result)}Ds(e,i,s,o){return s.documentReadCount<this.gs?(gs()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(gs()<=xt.DEBUG&&it("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(gs()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):X.resolve())}ws(e,i){if(u_(i))return X.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=ld(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const d=Ct(...f);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.vs(i,g);return this.Cs(i,v,d,_.readTime)?this.ws(e,ld(i,null,"F")):this.Fs(e,v,i,_)}))})))}bs(e,i,s,o){return u_(i)||o.isEqual(_t.min())?X.resolve(null):this.ys.getDocuments(e,s).next(f=>{const d=this.vs(i,f);return this.Cs(i,d,s,o)?X.resolve(null):(gs()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ps(i)),this.Fs(e,d,i,KS(o,no)).next(g=>g))})}vs(e,i){let s=new be(Bv(e));return i.forEach((o,f)=>{Ac(e,f)&&(s=s.add(f))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,s){return gs()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ys.getDocumentsMatchingQuery(e,i,Ea.min(),s)}Fs(e,i,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(f=>(i.forEach(d=>{f=f.insert(d.key,d)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="LocalStore",Cw=3e8;class Iw{constructor(e,i,s,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new ne(St),this.Os=new vr(f=>Dd(f),Cd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function Ow(a,e,i,s){return new Iw(a,e,i,s)}async function c0(a,e){const i=vt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(f=>(o=f,i.Ls(e),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const d=[],g=[];let _=Ct();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of f){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:g}))})})}function Vw(a,e){const i=vt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),f=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const D=v.batch,O=D.keys();let j=X.resolve();return O.forEach(H=>{j=j.next(()=>A.getEntry(_,H)).next($=>{const Z=v.docVersions.get(H);qt(Z!==null,48541),$.version.compareTo(Z)<0&&(D.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),A.addEntry($)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,D))}(i,s,e,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function f0(a){const e=vt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function Mw(a,e){const i=vt(a),s=e.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const g=[];e.targetChanges.forEach((A,D)=>{const O=o.get(D);if(!O)return;g.push(i.Ti.removeMatchingKeys(f,A.removedDocuments,D).next(()=>i.Ti.addMatchingKeys(f,A.addedDocuments,D)));let j=O.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(D)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),o=o.insert(D,j),function($,Z,ot){return $.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=Cw?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0}(O,j,A)&&g.push(i.Ti.updateTargetData(f,j))});let _=Pi(),v=Ct();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))}),g.push(Nw(f,d,e.documentUpdates).next(A=>{_=A.qs,v=A.Qs})),!s.isEqual(_t.min())){const A=i.Ti.getLastRemoteSnapshotVersion(f).next(D=>i.Ti.setTargetsMetadata(f,f.currentSequenceNumber,s));g.push(A)}return X.waitFor(g).next(()=>d.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,_,v)).next(()=>_)}).then(f=>(i.xs=o,f))}function Nw(a,e,i){let s=Ct(),o=Ct();return i.forEach(f=>s=s.add(f)),e.getEntries(a,s).next(f=>{let d=Pi();return i.forEach((g,_)=>{const v=f.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(Ld,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{qs:d,Qs:o}})}function xw(a,e){const i=vt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=bd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Uw(a,e){const i=vt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Ti.getTargetData(s,e).next(f=>f?(o=f,X.resolve(o)):i.Ti.allocateTargetId(s).next(d=>(o=new ma(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(e,s.targetId)),s})}async function hd(a,e,i){const s=vt(a),o=s.xs.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Os(d))throw d;it(Ld,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function A_(a,e,i){const s=vt(a);let o=_t.min(),f=Ct();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const D=vt(_),O=D.Os.get(A);return O!==void 0?X.resolve(D.xs.get(O)):D.Ti.getTargetData(v,A)}(s,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(_=>{f=_})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?f:Ct())).next(g=>(Pw(s,Ab(e),g),{documents:g,$s:f})))}function Pw(a,e,i){let s=a.Ns.get(e)||_t.min();i.forEach((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),a.Ns.set(e,s)}class S_{constructor(){this.activeTargetIds=Cb()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lw{constructor(){this.xo=new S_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,s){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new S_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class w_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(b_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){it(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function dd(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="RestConnection",kw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bw{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===nc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,i,s,o,f){const d=dd(),g=this.jo(e,i.toUriEncodedString());it(Gh,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,o,f);const{host:v}=new URL(g),A=Ed(v);return this.Jo(e,g,_,s,A).then(D=>(it(Gh,`Received RPC '${e}' ${d}: `,D),D),D=>{throw Ts(Gh,`RPC '${e}' ${d} failed with error: `,D,"url: ",g,"request:",s),D})}Yo(e,i,s,o,f,d){return this.zo(e,i,s,o,f)}Ho(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,f)=>e[f]=o),s&&s.headers.forEach((o,f)=>e[f]=o)}jo(e,i){const s=kw[e];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class jw extends Bw{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,f){const d=dd();return new Promise((g,_)=>{const v=new mv;v.setWithCredentials(!0),v.listenOnce(gv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Qu.NO_ERROR:const D=v.getResponseJson();it(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),g(D);break;case Qu.TIMEOUT:it(Ge,`RPC '${e}' ${d} timed out`),_(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const O=v.getStatus();if(it(Ge,`RPC '${e}' ${d} failed with status:`,O,"response text:",v.getResponseText()),O>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const H=j==null?void 0:j.error;if(H&&H.status&&H.message){const $=function(ot){const rt=ot.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(rt)>=0?rt:J.UNKNOWN}(H.status);_(new ht($,H.message))}else _(new ht(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ht(J.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{h_:e,streamId:d,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{it(Ge,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);it(Ge,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)})}I_(e,i,s){const o=dd(),f=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_v(),g=yv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=f.join("");it(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,_);const D=d.createWebChannel(A,_);this.E_(D);let O=!1,j=!1;const H=new qw({Zo:Z=>{j?it(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(O||(it(Ge,`Opening RPC '${e}' stream ${o} transport.`),D.open(),O=!0),it(Ge,`RPC '${e}' stream ${o} sending:`,Z),D.send(Z))},Xo:()=>D.close()}),$=(Z,ot,rt)=>{Z.listen(ot,ct=>{try{rt(ct)}catch(It){setTimeout(()=>{throw It},0)}})};return $(D,Gl.EventType.OPEN,()=>{j||(it(Ge,`RPC '${e}' stream ${o} transport opened.`),H.__())}),$(D,Gl.EventType.CLOSE,()=>{j||(j=!0,it(Ge,`RPC '${e}' stream ${o} transport closed`),H.u_(),this.d_(D))}),$(D,Gl.EventType.ERROR,Z=>{j||(j=!0,Ts(Ge,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),H.u_(new ht(J.UNAVAILABLE,"The operation could not be completed")))}),$(D,Gl.EventType.MESSAGE,Z=>{var ot;if(!j){const rt=Z.data[0];qt(!!rt,16349);const ct=rt,It=(ct==null?void 0:ct.error)||((ot=ct[0])===null||ot===void 0?void 0:ot.error);if(It){it(Ge,`RPC '${e}' stream ${o} received error:`,It);const Et=It.status;let Pt=function(R){const V=pe[R];if(V!==void 0)return Jv(V)}(Et),M=It.message;Pt===void 0&&(Pt=J.INTERNAL,M="Unknown error status: "+Et+" with message "+It.message),j=!0,H.u_(new ht(Pt,M)),D.close()}else it(Ge,`RPC '${e}' stream ${o} received:`,rt),H.c_(rt)}}),$(g,pv.STAT_EVENT,Z=>{Z.stat===ed.PROXY?it(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===ed.NOPROXY&&it(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.a_()},0),H}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function Yh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(a){return new Fb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,i,s=1e3,o=1.5,f=6e4){this.xi=e,this.timerId=i,this.A_=s,this.R_=o,this.V_=f,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,i-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="PersistentStream";class d0{constructor(e,i,s,o,f,d,g,_){this.xi=e,this.S_=s,this.D_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new h0(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ui(i.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===i&&this.z_(s,o)},s=>{e(()=>{const o=new ht(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,i){const s=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return it(R_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(it(R_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hw extends d0{constructor(e,i,s,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=Kb(this.serializer,e),s=function(f){if(!("targetChange"in f))return _t.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ni(d.readTime):_t.min()}(e);return this.listener.Y_(i,s)}Z_(e){const i={};i.database=fd(this.serializer),i.addTarget=function(f,d){let g;const _=d.target;if(g=sd(_)?{documents:Jb(f,_)}:{query:Wb(f,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=e0(f,d.resumeToken);const v=od(f,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=oc(f,d.snapshotVersion.toTimestamp());const v=od(f,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=ew(this.serializer,e);s&&(i.labels=s),this.Q_(i)}X_(e){const i={};i.database=fd(this.serializer),i.removeTarget=e,this.Q_(i)}}class Gw extends d0{constructor(e,i,s,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=$b(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.ra(s,i)}ia(){const e={};e.database=fd(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>Zb(this.serializer,s))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{}class Fw extends Yw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.zo(e,ud(i,s),o,f,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(J.UNKNOWN,f.toString())})}Yo(e,i,s,o,f){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,ud(i,s),o,d,g,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(J.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Qw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ui(i),this.ua=!1):it("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="RemoteStore";class Xw{constructor(e,i,s,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=f,this.Ra.No(d=>{s.enqueueAndForget(async()=>{Tr(this)&&(it(gr,"Restarting streams for network reachability change."),await async function(_){const v=vt(_);v.da.add(4),await mo(v),v.Va.set("Unknown"),v.da.delete(4),await Dc(v)}(this))})}),this.Va=new Qw(s,o)}}async function Dc(a){if(Tr(a))for(const e of a.Aa)await e(!0)}async function mo(a){for(const e of a.Aa)await e(!1)}function m0(a,e){const i=vt(a);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),qd(i)?Bd(i):Vs(i).N_()&&kd(i,e))}function zd(a,e){const i=vt(a),s=Vs(i);i.Ea.delete(e),s.N_()&&g0(i,e),i.Ea.size===0&&(s.N_()?s.k_():Tr(i)&&i.Va.set("Unknown"))}function kd(a,e){if(a.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Vs(a).Z_(e)}function g0(a,e){a.ma.Ke(e),Vs(a).X_(e)}function Bd(a){a.ma=new jb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a.Ea.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),Vs(a).start(),a.Va.ca()}function qd(a){return Tr(a)&&!Vs(a).O_()&&a.Ea.size>0}function Tr(a){return vt(a).da.size===0}function p0(a){a.ma=void 0}async function Kw(a){a.Va.set("Online")}async function Zw(a){a.Ea.forEach((e,i)=>{kd(a,e)})}async function $w(a,e){p0(a),qd(a)?(a.Va.Pa(e),Bd(a)):a.Va.set("Unknown")}async function Jw(a,e,i){if(a.Va.set("Online"),e instanceof t0&&e.state===2&&e.cause)try{await async function(o,f){const d=f.cause;for(const g of f.targetIds)o.Ea.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ea.delete(g),o.ma.removeTarget(g))}(a,e)}catch(s){it(gr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cc(a,s)}else if(e instanceof $u?a.ma.Xe(e):e instanceof Wv?a.ma.ot(e):a.ma.nt(e),!i.isEqual(_t.min()))try{const s=await f0(a.localStore);i.compareTo(s)>=0&&await function(f,d){const g=f.ma.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=f.Ea.get(v);A&&f.Ea.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=f.Ea.get(_);if(!A)return;f.Ea.set(_,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),g0(f,_);const D=new ma(A.target,_,v,A.sequenceNumber);kd(f,D)}),f.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){it(gr,"Failed to raise snapshot:",s),await cc(a,s)}}async function cc(a,e,i){if(!Os(e))throw e;a.da.add(1),await mo(a),a.Va.set("Offline"),i||(i=()=>f0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{it(gr,"Retrying IndexedDB access"),await i(),a.da.delete(1),await Dc(a)})}function y0(a,e){return e().catch(i=>cc(a,i,e))}async function Cc(a){const e=vt(a),i=ba(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:bd;for(;Ww(e);)try{const o=await xw(e.localStore,s);if(o===null){e.Ia.length===0&&i.k_();break}s=o.batchId,t2(e,o)}catch(o){await cc(e,o)}_0(e)&&v0(e)}function Ww(a){return Tr(a)&&a.Ia.length<10}function t2(a,e){a.Ia.push(e);const i=ba(a);i.N_()&&i.ea&&i.ta(e.mutations)}function _0(a){return Tr(a)&&!ba(a).O_()&&a.Ia.length>0}function v0(a){ba(a).start()}async function e2(a){ba(a).ia()}async function n2(a){const e=ba(a);for(const i of a.Ia)e.ta(i.mutations)}async function i2(a,e,i){const s=a.Ia.shift(),o=Vd.from(s,e,i);await y0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Cc(a)}async function a2(a,e){e&&ba(a).ea&&await async function(s,o){if(function(d){return Bb(d)&&d!==J.ABORTED}(o.code)){const f=s.Ia.shift();ba(s).L_(),await y0(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o)),await Cc(s)}}(a,e),_0(a)&&v0(a)}async function D_(a,e){const i=vt(a);i.asyncQueue.verifyOperationInProgress(),it(gr,"RemoteStore received new credentials");const s=Tr(i);i.da.add(3),await mo(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await Dc(i)}async function r2(a,e){const i=vt(a);e?(i.da.delete(2),await Dc(i)):e||(i.da.add(2),await mo(i),i.Va.set("Unknown"))}function Vs(a){return a.fa||(a.fa=function(i,s,o){const f=vt(i);return f.oa(),new Hw(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(a.datastore,a.asyncQueue,{e_:Kw.bind(null,a),n_:Zw.bind(null,a),i_:$w.bind(null,a),Y_:Jw.bind(null,a)}),a.Aa.push(async e=>{e?(a.fa.L_(),qd(a)?Bd(a):a.Va.set("Unknown")):(await a.fa.stop(),p0(a))})),a.fa}function ba(a){return a.ga||(a.ga=function(i,s,o){const f=vt(i);return f.oa(),new Gw(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(a.datastore,a.asyncQueue,{e_:()=>Promise.resolve(),n_:e2.bind(null,a),i_:a2.bind(null,a),na:n2.bind(null,a),ra:i2.bind(null,a)}),a.Aa.push(async e=>{e?(a.ga.L_(),await Cc(a)):(await a.ga.stop(),a.Ia.length>0&&(it(gr,`Stopping write stream with ${a.Ia.length} pending writes`),a.Ia=[]))})),a.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,i,s,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,f){const d=Date.now()+s,g=new jd(e,i,d,o,f);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hd(a,e){if(Ui("AsyncQueue",`${e}: ${a}`),Os(a))return new ht(J.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{static emptySet(e){return new vs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof vs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.pa=new ne(dt.comparator)}track(e){const i=e.doc.key,s=this.pa.get(i);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(i,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(i):e.type===1&&s.type===2?this.pa=this.pa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):pt(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,s)=>{e.push(s)}),e}}class Rs{constructor(e,i,s,o,f,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,f){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Rs(e,i,vs.emptySet(i),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class l2{constructor(){this.queries=I_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=vt(i),f=o.queries;o.queries=I_(),f.forEach((d,g)=>{for(const _ of g.Sa)_.onError(s)})})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function I_(){return new vr(a=>kv(a),Tc)}async function o2(a,e){const i=vt(a);let s=3;const o=e.query;let f=i.queries.get(o);f?!f.Da()&&e.va()&&(s=2):(f=new s2,s=e.va()?0:1);try{switch(s){case 0:f.ba=await i.onListen(o,!0);break;case 1:f.ba=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Hd(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,f),f.Sa.push(e),e.Fa(i.onlineState),f.ba&&e.Ma(f.ba)&&Gd(i)}async function u2(a,e){const i=vt(a),s=e.query;let o=3;const f=i.queries.get(s);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.va()?0:1:!f.Da()&&e.va()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function c2(a,e){const i=vt(a);let s=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const g of d.Sa)g.Ma(o)&&(s=!0);d.ba=o}}s&&Gd(i)}function f2(a,e,i){const s=vt(a),o=s.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);s.queries.delete(e)}function Gd(a){a.Ca.forEach(e=>{e.next()})}var md,O_;(O_=md||(md={})).xa="default",O_.Cache="cache";class h2{constructor(e,i,s){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Rs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const s=i!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=Rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.key=e}}class T0{constructor(e){this.key=e}}class d2{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ct(),this.mutatedKeys=Ct(),this.Za=Bv(e),this.Xa=new vs(this.Za)}get eu(){return this.Ha}tu(e,i){const s=i?i.nu:new C_,o=i?i.Xa:this.Xa;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,D)=>{const O=o.get(A),j=Ac(this.query,D)?D:null,H=!!O&&this.mutatedKeys.has(O.key),$=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;O&&j?O.data.isEqual(j.data)?H!==$&&(s.track({type:3,doc:j}),Z=!0):this.ru(O,j)||(s.track({type:2,doc:j}),Z=!0,(_&&this.Za(j,_)>0||v&&this.Za(j,v)<0)&&(g=!0)):!O&&j?(s.track({type:0,doc:j}),Z=!0):O&&!j&&(s.track({type:1,doc:O}),Z=!0,(_||v)&&(g=!0)),Z&&(j?(d=d.add(j),f=$?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{Xa:d,nu:s,Cs:g,mutatedKeys:f}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const f=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((A,D)=>function(j,H){const $=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:Z})}};return $(j)-$(H)}(A.type,D.type)||this.Za(A.doc,D.doc)),this.iu(s),o=o!=null&&o;const g=i&&!o?this.su():[],_=this.Ya.size===0&&this.current&&!o?1:0,v=_!==this.Ja;return this.Ja=_,d.length!==0||v?{snapshot:new Rs(this.query,e.Xa,f,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new C_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ct(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const i=[];return e.forEach(s=>{this.Ya.has(s)||i.push(new T0(s))}),this.Ya.forEach(s=>{e.has(s)||i.push(new E0(s))}),i}au(e){this.Ha=e.$s,this.Ya=Ct();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return Rs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Yd="SyncEngine";class m2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class g2{constructor(e){this.key=e,this.cu=!1}}class p2{constructor(e,i,s,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new vr(g=>kv(g),Tc),this.Pu=new Map,this.Tu=new Set,this.Iu=new ne(dt.comparator),this.Eu=new Map,this.du=new xd,this.Au={},this.Ru=new Map,this.Vu=ws.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function y2(a,e,i=!0){const s=D0(a);let o;const f=s.hu.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.uu()):o=await A0(s,e,i,!0),o}async function _2(a,e){const i=D0(a);await A0(i,e,!0,!1)}async function A0(a,e,i,s){const o=await Uw(a.localStore,ei(e)),f=o.targetId,d=a.sharedClientState.addLocalQueryTarget(f,i);let g;return s&&(g=await v2(a,e,f,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&m0(a.remoteStore,o),g}async function v2(a,e,i,s,o){a.fu=(D,O,j)=>async function($,Z,ot,rt){let ct=Z.view.tu(ot);ct.Cs&&(ct=await A_($.localStore,Z.query,!1).then(({documents:M})=>Z.view.tu(M,ct)));const It=rt&&rt.targetChanges.get(Z.targetId),Et=rt&&rt.targetMismatches.get(Z.targetId)!=null,Pt=Z.view.applyChanges(ct,$.isPrimaryClient,It,Et);return M_($,Z.targetId,Pt.ou),Pt.snapshot}(a,D,O,j);const f=await A_(a.localStore,e,!0),d=new d2(e,f.$s),g=d.tu(f.documents),_=ho.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(g,a.isPrimaryClient,_);M_(a,i,v.ou);const A=new m2(e,i,d);return a.hu.set(e,A),a.Pu.has(i)?a.Pu.get(i).push(e):a.Pu.set(i,[e]),v.snapshot}async function E2(a,e,i){const s=vt(a),o=s.hu.get(e),f=s.Pu.get(o.targetId);if(f.length>1)return s.Pu.set(o.targetId,f.filter(d=>!Tc(d,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&zd(s.remoteStore,o.targetId),gd(s,o.targetId)}).catch(Is)):(gd(s,o.targetId),await hd(s.localStore,o.targetId,!0))}async function T2(a,e){const i=vt(a),s=i.hu.get(e),o=i.Pu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),zd(i.remoteStore,s.targetId))}async function A2(a,e,i){const s=I2(a);try{const o=await function(d,g){const _=vt(d),v=Se.now(),A=g.reduce((j,H)=>j.add(H.key),Ct());let D,O;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let H=Pi(),$=Ct();return _.Bs.getEntries(j,A).next(Z=>{H=Z,H.forEach((ot,rt)=>{rt.isValidDocument()||($=$.add(ot))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,H)).next(Z=>{D=Z;const ot=[];for(const rt of g){const ct=Ub(rt,D.get(rt.key).overlayedDocument);ct!=null&&ot.push(new Er(rt.key,ct,Mv(ct.value.mapValue),Vi.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,ot,g)}).next(Z=>{O=Z;const ot=Z.applyToLocalDocumentSet(D,$);return _.documentOverlayCache.saveOverlays(j,Z.batchId,ot)})}).then(()=>({batchId:O.batchId,changes:jv(D)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Au[d.currentUser.toKey()];v||(v=new ne(St)),v=v.insert(g,_),d.Au[d.currentUser.toKey()]=v}(s,o.batchId,i),await go(s,o.changes),await Cc(s.remoteStore)}catch(o){const f=Hd(o,"Failed to persist write");i.reject(f)}}async function S0(a,e){const i=vt(a);try{const s=await Mw(i.localStore,e);e.targetChanges.forEach((o,f)=>{const d=i.Eu.get(f);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?qt(d.cu,14607):o.removedDocuments.size>0&&(qt(d.cu,42227),d.cu=!1))}),await go(i,s,e)}catch(s){await Is(s)}}function V_(a,e,i){const s=vt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.hu.forEach((f,d)=>{const g=d.view.Fa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=vt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,D)=>{for(const O of D.Sa)O.Fa(g)&&(v=!0)}),v&&Gd(_)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function S2(a,e,i){const s=vt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),f=o&&o.key;if(f){let d=new ne(dt.comparator);d=d.insert(f,Fe.newNoDocument(f,_t.min()));const g=Ct().add(f),_=new wc(_t.min(),new Map,new ne(St),d,g);await S0(s,_),s.Iu=s.Iu.remove(f),s.Eu.delete(e),Fd(s)}else await hd(s.localStore,e,!1).then(()=>gd(s,e,i)).catch(Is)}async function b2(a,e){const i=vt(a),s=e.batch.batchId;try{const o=await Vw(i.localStore,e);w0(i,s,null),b0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await go(i,o)}catch(o){await Is(o)}}async function w2(a,e,i){const s=vt(a);try{const o=await function(d,g){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(D=>(qt(D!==null,37113),A=D.keys(),_.mutationQueue.removeMutationBatch(v,D))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,e);w0(s,e,i),b0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await go(s,o)}catch(o){await Is(o)}}function b0(a,e){(a.Ru.get(e)||[]).forEach(i=>{i.resolve()}),a.Ru.delete(e)}function w0(a,e,i){const s=vt(a);let o=s.Au[s.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function gd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Pu.get(e))a.hu.delete(s),i&&a.lu.gu(s,i);a.Pu.delete(e),a.isPrimaryClient&&a.du.Hr(e).forEach(s=>{a.du.containsKey(s)||R0(a,s)})}function R0(a,e){a.Tu.delete(e.path.canonicalString());const i=a.Iu.get(e);i!==null&&(zd(a.remoteStore,i),a.Iu=a.Iu.remove(e),a.Eu.delete(i),Fd(a))}function M_(a,e,i){for(const s of i)s instanceof E0?(a.du.addReference(s.key,e),R2(a,s)):s instanceof T0?(it(Yd,"Document no longer in limbo: "+s.key),a.du.removeReference(s.key,e),a.du.containsKey(s.key)||R0(a,s.key)):pt(19791,{pu:s})}function R2(a,e){const i=e.key,s=i.path.canonicalString();a.Iu.get(i)||a.Tu.has(s)||(it(Yd,"New document in limbo: "+i),a.Tu.add(s),Fd(a))}function Fd(a){for(;a.Tu.size>0&&a.Iu.size<a.maxConcurrentLimboResolutions;){const e=a.Tu.values().next().value;a.Tu.delete(e);const i=new dt(le.fromString(e)),s=a.Vu.next();a.Eu.set(s,new g2(i)),a.Iu=a.Iu.insert(i,s),m0(a.remoteStore,new ma(ei(Id(i.path)),s,"TargetPurposeLimboResolution",yc.le))}}async function go(a,e,i){const s=vt(a),o=[],f=[],d=[];s.hu.isEmpty()||(s.hu.forEach((g,_)=>{d.push(s.fu(_,e,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const D=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,D?"current":"not-current")}if(v){o.push(v);const D=Pd.Rs(_.targetId,v);f.push(D)}}))}),await Promise.all(d),s.lu.Y_(o),await async function(_,v){const A=vt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>X.forEach(v,O=>X.forEach(O.ds,j=>A.persistence.referenceDelegate.addReference(D,O.targetId,j)).next(()=>X.forEach(O.As,j=>A.persistence.referenceDelegate.removeReference(D,O.targetId,j)))))}catch(D){if(!Os(D))throw D;it(Ld,"Failed to update sequence numbers: "+D)}for(const D of v){const O=D.targetId;if(!D.fromCache){const j=A.xs.get(O),H=j.snapshotVersion,$=j.withLastLimboFreeSnapshotVersion(H);A.xs=A.xs.insert(O,$)}}}(s.localStore,f))}async function D2(a,e){const i=vt(a);if(!i.currentUser.isEqual(e)){it(Yd,"User change. New user:",e.toKey());const s=await c0(i.localStore,e);i.currentUser=e,function(f,d){f.Ru.forEach(g=>{g.forEach(_=>{_.reject(new ht(J.CANCELLED,d))})}),f.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await go(i,s.ks)}}function C2(a,e){const i=vt(a),s=i.Eu.get(e);if(s&&s.cu)return Ct().add(s.key);{let o=Ct();const f=i.Pu.get(e);if(!f)return o;for(const d of f){const g=i.hu.get(d);o=o.unionWith(g.view.eu)}return o}}function D0(a){const e=vt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=S0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S2.bind(null,e),e.lu.Y_=c2.bind(null,e.eventManager),e.lu.gu=f2.bind(null,e.eventManager),e}function I2(a){const e=vt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w2.bind(null,e),e}class fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return Ow(this.persistence,new Dw,e.initialUser,this.serializer)}Su(e){return new u0(Ud.fi,this.serializer)}bu(e){return new Lw}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fc.provider={build:()=>new fc};class O2 extends fc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){qt(this.persistence.referenceDelegate instanceof uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hw(s,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new u0(s=>uc.fi(s,i),this.serializer)}}class pd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>V_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=D2.bind(null,this.syncEngine),await r2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l2}()}createDatastore(e){const i=Rc(e.databaseInfo.databaseId),s=function(f){return new jw(f)}(e.databaseInfo);return function(f,d,g,_){return new Fw(f,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,f,d,g){return new Xw(s,o,f,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>V_(this.syncEngine,i,0),function(){return w_.C()?new w_:new zw}())}createSyncEngine(e,i){return function(o,f,d,g,_,v,A){const D=new p2(o,f,d,g,_,v);return A&&(D.mu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const f=vt(o);it(gr,"RemoteStore shutting down."),f.da.add(5),await mo(f),f.Ra.shutdown(),f.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}pd.provider={build:()=>new pd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="FirestoreClient";class M2{constructor(e,i,s,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=Av.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,async d=>{it(wa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(wa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Hd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Fh(a,e){a.asyncQueue.verifyOperationInProgress(),it(wa,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await c0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function N_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await N2(a);it(wa,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>D_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>D_(e.remoteStore,o)),a._onlineComponents=e}async function N2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(wa,"Using user provided OfflineComponentProvider");try{await Fh(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Fh(a,new fc)}}else it(wa,"Using default OfflineComponentProvider"),await Fh(a,new O2(void 0));return a._offlineComponents}async function C0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(wa,"Using user provided OnlineComponentProvider"),await N_(a,a._uninitializedComponentsProvider._online)):(it(wa,"Using default OnlineComponentProvider"),await N_(a,new pd))),a._onlineComponents}function x2(a){return C0(a).then(e=>e.syncEngine)}async function U2(a){const e=await C0(a),i=e.eventManager;return i.onListen=y2.bind(null,e.syncEngine),i.onUnlisten=E2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=_2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=T2.bind(null,e.syncEngine),i}function P2(a,e,i={}){const s=new _a;return a.asyncQueue.enqueueAndForget(async()=>function(f,d,g,_,v){const A=new V2({next:O=>{A.xu(),d.enqueueAndForget(()=>u2(f,D));const j=O.docs.has(g);!j&&O.fromCache?v.reject(new ht(J.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&O.fromCache&&_&&_.source==="server"?v.reject(new ht(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(O)},error:O=>v.reject(O)}),D=new h2(Id(g.path),A,{includeMetadataChanges:!0,Qa:!0});return o2(f,D)}(await U2(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(a,e,i){if(!i)throw new ht(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function z2(a,e,i,s){if(e===!0&&s===!0)throw new ht(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function U_(a){if(!dt.isDocumentKey(a))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Qd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":pt(12329,{type:typeof a})}function oo(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Qd(a);throw new ht(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="firestore.googleapis.com",P_=!0;class L_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O0,this.ssl=P_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:P_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cw)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new BS;switch(s.type){case"firstParty":return new GS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=x_.get(i);s&&(it("ComponentProvider","Removing Datastore"),x_.delete(i),s.terminate())}(this),Promise.resolve()}}function k2(a,e,i,s={}){var o;a=oo(a,Xd);const f=Ed(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),_=`${e}:${i}`;f&&(hA(`https://${_}`),pA("Firestore",!0)),d.host!==O0&&d.host!==_&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:f,emulatorOptions:s});if(!to(v,g)&&(a._setSettings(v),s.mockUserToken)){let A,D;if(typeof s.mockUserToken=="string")A=s.mockUserToken,D=Ye.MOCK_USER;else{A=dA(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new Ye(O)}a._authCredentials=new qS(new Ev(A,D))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Kd(this.firestore,e,this._query)}}class Dn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class uo extends Kd{constructor(e,i,s){super(e,i,Id(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new dt(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function z_(a,e,...i){if(a=Es(a),arguments.length===1&&(e=Av.newId()),L2("doc","path",e),a instanceof Xd){const s=le.fromString(e,...i);return U_(s),new Dn(a,null,new dt(s))}{if(!(a instanceof Dn||a instanceof uo))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(le.fromString(e,...i));return U_(s),new Dn(a.firestore,a instanceof uo?a.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new h0(this,"async_queue_retry"),this.rc=()=>{const s=Yh();s&&it(k_,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const i=Yh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=Yh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new _a;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Os(e))throw e;it(k_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Ui("INTERNAL UNHANDLED ERROR: ",q_(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=i,i}enqueueAfterDelay(e,i,s){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const o=jd.createAndSchedule(this,e,i,s,f=>this.uc(f));return this.Zu.push(o),o}oc(){this.Xu&&pt(47125,{cc:q_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function q_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Zd extends Xd{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new B_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function B2(a,e){const i=typeof a=="object"?a:cv(),s=typeof a=="string"?a:nc,o=co(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=cA("firestore");f&&k2(o,...f)}return o}function V0(a){if(a._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||q2(a),a._firestoreClient}function q2(a){var e,i,s;const o=a._freezeSettings(),f=function(g,_,v,A){return new rb(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,I0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new M2(a._authCredentials,a._appCheckCredentials,a._queue,f,a._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(Be.fromBase64String(e))}catch(i){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ds(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=/^__.*__$/;class H2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,i,this.fieldTransforms):new fo(e,this.data,i,this.fieldTransforms)}}function N0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ic:a})}}class tm{constructor(e,i,s,o,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this.Ec(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return hc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(N0(this.Ic)&&j2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class G2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Rc(e)}bc(e,i,s,o=!1){return new tm({Ic:e,methodName:i,wc:s,path:ke.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y2(a){const e=a._freezeSettings(),i=Rc(a._databaseId);return new G2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function F2(a,e,i,s,o,f={}){const d=a.bc(f.merge||f.mergeFields?2:0,e,i,o);L0("Data must be an object, but it was:",d,s);const g=U0(s,d);let _,v;if(f.merge)_=new Un(d.fieldMask),v=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const D of f.mergeFields){const O=Q2(e,D,i);if(!d.contains(O))throw new ht(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);K2(A,O)||A.push(O)}_=new Un(A),v=d.fieldTransforms.filter(D=>_.covers(D.field))}else _=null,v=d.fieldTransforms;return new H2(new Rn(g),_,v)}function x0(a,e){if(P0(a=Es(a)))return L0("Unsupported field value:",e,a),U0(a,e);if(a instanceof M0)return function(s,o){if(!N0(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const f=[];let d=0;for(const g of s){let _=x0(g,o.fc(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}}(a,e)}return function(s,o){if((s=Es(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ib(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=Se.fromDate(s);return{timestampValue:oc(o.serializer,f)}}if(s instanceof Se){const f=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:oc(o.serializer,f)}}if(s instanceof Jd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ds)return{bytesValue:e0(o.serializer,s._byteString)};if(s instanceof Dn){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Nd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wd)return function(d,g){return{mapValue:{fields:{[Ov]:{stringValue:Vv},[ic]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.gc("VectorValues must only contain numeric values.");return Od(g.serializer,v)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Qd(s)}`)}(a,e)}function U0(a,e){const i={};return bv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(a,(s,o)=>{const f=x0(o,e.Ac(s));f!=null&&(i[s]=f)}),{mapValue:{fields:i}}}function P0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Se||a instanceof Jd||a instanceof Ds||a instanceof Dn||a instanceof M0||a instanceof Wd)}function L0(a,e,i){if(!P0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Qd(i);throw s==="an object"?e.gc(a+" a custom object"):e.gc(a+" "+s)}}function Q2(a,e,i){if((e=Es(e))instanceof $d)return e._internalPath;if(typeof e=="string")return z0(a,e);throw hc("Field path arguments must be of type string or ",a,!1,void 0,i)}const X2=new RegExp("[~\\*/\\[\\]]");function z0(a,e,i){if(e.search(X2)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new $d(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function hc(a,e,i,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new ht(J.INVALID_ARGUMENT,g+a+_)}function K2(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,i,s,o,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(B0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Z2 extends k0{data(){return super.data()}}function B0(a,e){return typeof e=="string"?z0(a,e):e instanceof $d?e._internalPath:e._delegate._internalPath}class $2{convertValue(e,i="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return _r(e,(o,f)=>{s[o]=this.convertValue(f,i)}),s}convertVectorValue(e){var i,s,o;const f=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[ic].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new Wd(f)}convertGeoPoint(e){return new Jd(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=vc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const i=Ta(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=le.fromString(e);qt(l0(s),9688,{name:e});const o=new ao(s.get(1),s.get(3)),f=new dt(s.popFirst(5));return o.isEqual(i)||Ui(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q0 extends k0{constructor(e,i,s,o,f,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new tR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(B0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class tR extends q0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(a){a=oo(a,Dn);const e=oo(a.firestore,Zd);return P2(V0(e),a._key).then(i=>rR(e,a,i))}class nR extends $2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,i)}}function iR(a,e,i){a=oo(a,Dn);const s=oo(a.firestore,Zd),o=J2(a.converter,e);return aR(s,[F2(Y2(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Vi.none())])}function aR(a,e){return function(s,o){const f=new _a;return s.asyncQueue.enqueueAndForget(async()=>A2(await x2(s),o,f)),f.promise}(V0(a),e)}function rR(a,e,i){const s=i.docs.get(e._key),o=new nR(a);return new q0(a,o,e._key,s,new W2(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Cs=o})(DS),va(new Ni("firestore",(s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new Zd(new jS(s.getProvider("auth-internal")),new YS(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(v.options.projectId,A)}(d,o),d);return f=Object.assign({useFetchStreams:i},f),g._setSettings(f),g},"PUBLIC").setMultipleInstances(!0)),ti(Fy,Qy,e),ti(Fy,Qy,"esm2017")})();const j0="@firebase/installations",em="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=1e4,G0=`w:${em}`,Y0="FIS_v2",sR="https://firebaseinstallations.googleapis.com/v1",lR=60*60*1e3,oR="installations",uR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pr=new pc(oR,uR,cR);function F0(a){return a instanceof Ra&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0({projectId:a}){return`${sR}/projects/${a}/installations`}function X0(a){return{token:a.token,requestStatus:2,expiresIn:hR(a.expiresIn),creationTime:Date.now()}}async function K0(a,e){const s=(await e.json()).error;return pr.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Z0({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function fR(a,{refreshToken:e}){const i=Z0(a);return i.append("Authorization",dR(e)),i}async function $0(a){const e=await a();return e.status>=500&&e.status<600?a():e}function hR(a){return Number(a.replace("s","000"))}function dR(a){return`${Y0} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const s=Q0(a),o=Z0(a),f=e.getImmediate({optional:!0});if(f){const v=await f.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:Y0,appId:a.appId,sdkVersion:G0},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await $0(()=>fetch(s,g));if(_.ok){const v=await _.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:X0(v.authToken)}}else throw await K0("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=/^[cdef][\w-]{21}$/,yd="";function yR(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=_R(a);return pR.test(i)?i:yd}catch{return yd}}function _R(a){return gR(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;function tE(a,e){const i=Ic(a);eE(i,e),vR(i,e)}function eE(a,e){const i=W0.get(a);if(i)for(const s of i)s(e)}function vR(a,e){const i=ER();i&&i.postMessage({key:a,fid:e}),TR()}let dr=null;function ER(){return!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=a=>{eE(a.data.key,a.data.fid)}),dr}function TR(){W0.size===0&&dr&&(dr.close(),dr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebase-installations-database",SR=1,yr="firebase-installations-store";let Qh=null;function nm(){return Qh||(Qh=ov(AR,SR,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(yr)}}})),Qh}async function dc(a,e){const i=Ic(a),o=(await nm()).transaction(yr,"readwrite"),f=o.objectStore(yr),d=await f.get(i);return await f.put(e,i),await o.done,(!d||d.fid!==e.fid)&&tE(a,e.fid),e}async function nE(a){const e=Ic(a),s=(await nm()).transaction(yr,"readwrite");await s.objectStore(yr).delete(e),await s.done}async function Oc(a,e){const i=Ic(a),o=(await nm()).transaction(yr,"readwrite"),f=o.objectStore(yr),d=await f.get(i),g=e(d);return g===void 0?await f.delete(i):await f.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&tE(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(a){let e;const i=await Oc(a.appConfig,s=>{const o=bR(s),f=wR(a,o);return e=f.registrationPromise,f.installationEntry});return i.fid===yd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function bR(a){const e=a||{fid:yR(),registrationStatus:0};return iE(e)}function wR(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(pr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=RR(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DR(a)}:{installationEntry:e}}async function RR(a,e){try{const i=await mR(a,e);return dc(a.appConfig,i)}catch(i){throw F0(i)&&i.customData.serverCode===409?await nE(a.appConfig):await dc(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function DR(a){let e=await j_(a.appConfig);for(;e.registrationStatus===1;)await J0(100),e=await j_(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await im(a);return s||i}return e}function j_(a){return Oc(a,e=>{if(!e)throw pr.create("installation-not-found");return iE(e)})}function iE(a){return CR(a)?{fid:a.fid,registrationStatus:0}:a}function CR(a){return a.registrationStatus===1&&a.registrationTime+H0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR({appConfig:a,heartbeatServiceProvider:e},i){const s=OR(a,i),o=fR(a,i),f=e.getImmediate({optional:!0});if(f){const v=await f.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:G0,appId:a.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await $0(()=>fetch(s,g));if(_.ok){const v=await _.json();return X0(v)}else throw await K0("Generate Auth Token",_)}function OR(a,{fid:e}){return`${Q0(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(a,e=!1){let i;const s=await Oc(a.appConfig,f=>{if(!aE(f))throw pr.create("not-registered");const d=f.authToken;if(!e&&NR(d))return f;if(d.requestStatus===1)return i=VR(a,e),f;{if(!navigator.onLine)throw pr.create("app-offline");const g=UR(f);return i=MR(a,g),g}});return i?await i:s.authToken}async function VR(a,e){let i=await H_(a.appConfig);for(;i.authToken.requestStatus===1;)await J0(100),i=await H_(a.appConfig);const s=i.authToken;return s.requestStatus===0?am(a,e):s}function H_(a){return Oc(a,e=>{if(!aE(e))throw pr.create("not-registered");const i=e.authToken;return PR(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function MR(a,e){try{const i=await IR(a,e),s=Object.assign(Object.assign({},e),{authToken:i});return await dc(a.appConfig,s),i}catch(i){if(F0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await nE(a.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await dc(a.appConfig,s)}throw i}}function aE(a){return a!==void 0&&a.registrationStatus===2}function NR(a){return a.requestStatus===2&&!xR(a)}function xR(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+lR}function UR(a){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},a),{authToken:e})}function PR(a){return a.requestStatus===1&&a.requestTime+H0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(a){const e=a,{installationEntry:i,registrationPromise:s}=await im(e);return s?s.catch(console.error):am(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(a,e=!1){const i=a;return await kR(i),(await am(i,e)).token}async function kR(a){const{registrationPromise:e}=await im(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(a){if(!a||!a.options)throw Xh("App Configuration");if(!a.name)throw Xh("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw Xh(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Xh(a){return pr.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="installations",qR="installations-internal",jR=a=>{const e=a.getProvider("app").getImmediate(),i=BR(e),s=co(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},HR=a=>{const e=a.getProvider("app").getImmediate(),i=co(e,rE).getImmediate();return{getId:()=>LR(i),getToken:o=>zR(i,o)}};function GR(){va(new Ni(rE,jR,"PUBLIC")),va(new Ni(qR,HR,"PRIVATE"))}GR();ti(j0,em);ti(j0,em,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="analytics",YR="firebase_id",FR="origin",QR=60*1e3,XR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new Td("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},hn=new pc("analytics","Analytics",KR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(a){if(!a.startsWith(rm)){const e=hn.create("invalid-gtag-resource",{gtagURL:a});return en.warn(e.message),""}return a}function sE(a){return Promise.all(a.map(e=>e.catch(i=>i)))}function $R(a,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(a,e)),i}function JR(a,e){const i=$R("firebase-js-sdk-policy",{createScriptURL:ZR}),s=document.createElement("script"),o=`${rm}?l=${a}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function WR(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function tD(a,e,i,s,o,f){const d=s[o];try{if(d)await e[d];else{const _=(await sE(i)).find(v=>v.measurementId===o);_&&await e[_.appId]}}catch(g){en.error(g)}a("config",o,f)}async function eD(a,e,i,s,o){try{let f=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await sE(i);for(const _ of d){const v=g.find(D=>D.measurementId===_),A=v&&e[v.appId];if(A)f.push(A);else{f=[];break}}}f.length===0&&(f=Object.values(e)),await Promise.all(f),a("event",s,o||{})}catch(f){en.error(f)}}function nD(a,e,i,s){async function o(f,...d){try{if(f==="event"){const[g,_]=d;await eD(a,e,i,g,_)}else if(f==="config"){const[g,_]=d;await tD(a,e,i,s,g,_)}else if(f==="consent"){const[g,_]=d;a("consent",g,_)}else if(f==="get"){const[g,_,v]=d;a("get",g,_,v)}else if(f==="set"){const[g]=d;a("set",g)}else a(f,...d)}catch(g){en.error(g)}}return o}function iD(a,e,i,s,o){let f=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(f=window[o]),window[o]=nD(f,a,e,i),{gtagCore:f,wrappedGtag:window[o]}}function aD(a){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(rm)&&i.src.includes(a))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=30,sD=1e3;class lD{constructor(e={},i=sD){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lE=new lD;function oD(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function uD(a){var e;const{appId:i,apiKey:s}=a,o={method:"GET",headers:oD(s)},f=XR.replace("{app-id}",i),d=await fetch(f,o);if(d.status!==200&&d.status!==304){let g="";try{const _=await d.json();!((e=_.error)===null||e===void 0)&&e.message&&(g=_.error.message)}catch{}throw hn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function cD(a,e=lE,i){const{appId:s,apiKey:o,measurementId:f}=a.options;if(!s)throw hn.create("no-app-id");if(!o){if(f)return{measurementId:f,appId:s};throw hn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new dD;return setTimeout(async()=>{g.abort()},QR),oE({appId:s,apiKey:o,measurementId:f},d,g,e)}async function oE(a,{throttleEndTimeMillis:e,backoffCount:i},s,o=lE){var f;const{appId:d,measurementId:g}=a;try{await fD(s,e)}catch(_){if(g)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw _}try{const _=await uD(a);return o.deleteThrottleMetadata(d),_}catch(_){const v=_;if(!hD(v)){if(o.deleteThrottleMetadata(d),g)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw _}const A=Number((f=v==null?void 0:v.customData)===null||f===void 0?void 0:f.httpStatus)===503?Py(i,o.intervalMillis,rD):Py(i,o.intervalMillis),D={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,D),en.debug(`Calling attemptFetch again in ${A} millis`),oE(a,D,s,o)}}function fD(a,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),f=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(f),s(hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hD(a){if(!(a instanceof Ra)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class dD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mD(a,e,i,s,o){if(o&&o.global){a("event",i,s);return}else{const f=await e,d=Object.assign(Object.assign({},s),{send_to:f});a("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(){if(av())try{await rv()}catch(a){return en.warn(hn.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return en.warn(hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pD(a,e,i,s,o,f,d){var g;const _=cD(a);_.then(j=>{i[j.measurementId]=j.appId,a.options.measurementId&&j.measurementId!==a.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>en.error(j)),e.push(_);const v=gD().then(j=>{if(j)return s.getId()}),[A,D]=await Promise.all([_,v]);aD(f)||JR(f,A.measurementId),o("js",new Date);const O=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return O[FR]="firebase",O.update=!0,D!=null&&(O[YR]=D),o("config",A.measurementId,O),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.app=e}_delete(){return delete Jl[this.app.options.appId],Promise.resolve()}}let Jl={},G_=[];const Y_={};let Kh="dataLayer",_D="gtag",F_,uE,Q_=!1;function vD(){const a=[];if(vA()&&a.push("This is a browser extension environment."),TA()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=hn.create("invalid-analytics-context",{errorInfo:e});en.warn(i.message)}}function ED(a,e,i){vD();const s=a.options.appId;if(!s)throw hn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw hn.create("no-api-key");if(Jl[s]!=null)throw hn.create("already-exists",{id:s});if(!Q_){WR(Kh);const{wrappedGtag:f,gtagCore:d}=iD(Jl,G_,Y_,Kh,_D);uE=f,F_=d,Q_=!0}return Jl[s]=pD(a,G_,Y_,e,F_,Kh,i),new yD(a)}function TD(a=cv()){a=Es(a);const e=co(a,mc);return e.isInitialized()?e.getImmediate():AD(a)}function AD(a,e={}){const i=co(a,mc);if(i.isInitialized()){const o=i.getImmediate();if(to(e,i.getOptions()))return o;throw hn.create("already-initialized")}return i.initialize({options:e})}function SD(a,e,i,s){a=Es(a),mD(uE,Jl[a.app.options.appId],e,i,s).catch(o=>en.error(o))}const X_="@firebase/analytics",K_="0.10.16";function bD(){va(new Ni(mc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return ED(s,o,i)},"PUBLIC")),va(new Ni("analytics-internal",a,"PRIVATE")),ti(X_,K_),ti(X_,K_,"esm2017");function a(e){try{const i=e.getProvider(mc).getImmediate();return{logEvent:(s,o,f)=>SD(i,s,o,f)}}catch(i){throw hn.create("interop-component-reg-failed",{reason:i})}}}bD();const wD={apiKey:"AIzaSyBuc120f_tFIJN6wgZxWdqdkplzypehRdA",authDomain:"routin-eb6c0.firebaseapp.com",projectId:"routin-eb6c0",storageBucket:"routin-eb6c0.firebasestorage.app",messagingSenderId:"691606096057",appId:"1:691606096057:web:7b4808a96dbcc374137368",measurementId:"G-WN16B2MFVT"},cE=uv(wD);TD(cE);const Z_=B2(cE),Yu=["Workout 1","Workout 2","Drink 1 Gallon Water","Read 10 Pages","Follow Diet","Take Progress Photo"],Fu=["user1","user2","user3"],RD=(a=0)=>$1(W1(new Date,a),"EEEE, MMMM d"),DD=()=>{const[a,e]=da.useState({}),[i,s]=da.useState(new Set),[o,f]=da.useState("user1"),[d,g]=da.useState(0),[_,v]=da.useState(!0),A=RD(d);da.useEffect(()=>{(async()=>{const $={},Z=new Set;for(const ot of Fu){const rt=await eR(z_(Z_,"userData",ot));$[ot]=rt.exists()?rt.data():{},Z.add(ot)}e($),s(Z),v(!1)})()},[]),da.useEffect(()=>{if(!i.has(o))return;(async()=>{await iR(z_(Z_,"userData",o),a[o]||{})})()},[a[o]]);const D=(H,$,Z)=>{if(H!==o)return;const ot=a[H]||{},rt=ot[$]||{},ct={...rt,[Z]:!rt[Z]};e(It=>({...It,[H]:{...ot,[$]:ct}}))},O=H=>{const $=a[H]||{};return Object.entries($).filter(([Z,ot])=>Yu.every(rt=>ot[rt])).length},j=H=>{var ot;const $=((ot=a[H])==null?void 0:ot[A])||{},Z=Yu.filter(rt=>$[rt]).length;return Math.round(Z/Yu.length*100)};return _?Bt.jsx("p",{children:"Loading..."}):Bt.jsxs("div",{className:"app-container",children:[Bt.jsxs("div",{className:"app-title-wrapper",children:[Bt.jsx("div",{className:"title-line"}),Bt.jsx("h1",{className:"main-title",children:"RoutIN"}),Bt.jsx("div",{className:"title-line"})]}),Bt.jsx("div",{className:"user-toggle",children:Fu.map(H=>Bt.jsx("button",{className:o===H?"btn active":"btn",onClick:()=>f(H),children:H.replace("user","User ")},H))}),Bt.jsxs("div",{className:"nav-controls",children:[Bt.jsx("button",{className:"btn",onClick:()=>g(H=>H+1),children:" Previous"}),Bt.jsx("h3",{className:"date-label",children:A}),Bt.jsx("button",{className:"btn",onClick:()=>g(H=>Math.max(H-1,0)),children:"Next "})]}),Bt.jsx("div",{className:"card-stack",children:Fu.map(H=>Bt.jsxs("div",{className:`card ${H===o?"active-user":""}`,children:[Bt.jsxs("div",{className:"card-header dropdown",children:[Bt.jsx("h2",{children:H.replace("user","User ")}),Bt.jsxs("p",{className:"completion-percentage",children:[j(H),"%"]})]}),Bt.jsx("div",{className:"card-content",children:Bt.jsx("ul",{className:"checklist",children:Yu.map($=>{var Z,ot;return Bt.jsx("li",{children:Bt.jsxs("label",{children:[Bt.jsx("input",{type:"checkbox",disabled:H!==o,checked:((ot=(Z=a[H])==null?void 0:Z[A])==null?void 0:ot[$])||!1,onChange:()=>D(H,A,$)}),$]})},$)})})})]},H))}),Bt.jsxs("div",{className:"progress-section",children:[Bt.jsx("h3",{children:"Streak"}),Bt.jsx("div",{className:"progress-stats",children:Fu.map(H=>Bt.jsxs("div",{children:[Bt.jsx("p",{children:H.replace("user","User ")}),Bt.jsx("p",{children:O(H)})]},H))})]})]})};GT.createRoot(document.getElementById("root")).render(Bt.jsx(da.StrictMode,{children:Bt.jsx(DD,{})}));
